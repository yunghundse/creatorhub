(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Jv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var cg={exports:{}},Ac={};var W1;function FA(){if(W1)return Ac;W1=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Ac.Fragment=e,Ac.jsx=n,Ac.jsxs=n,Ac}var G1;function VA(){return G1||(G1=1,cg.exports=FA()),cg.exports}var c=VA(),ug={exports:{}},ze={};var $1;function LA(){if($1)return ze;$1=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),A=Symbol.iterator;function I(P){return P===null||typeof P!="object"?null:(P=A&&P[A]||P["@@iterator"],typeof P=="function"?P:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,M={};function W(P,B,re){this.props=P,this.context=B,this.refs=M,this.updater=re||L}W.prototype.isReactComponent={},W.prototype.setState=function(P,B){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,B,"setState")},W.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function z(){}z.prototype=W.prototype;function U(P,B,re){this.props=P,this.context=B,this.refs=M,this.updater=re||L}var X=U.prototype=new z;X.constructor=U,j(X,W.prototype),X.isPureReactComponent=!0;var G=Array.isArray;function oe(){}var S={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function w(P,B,re){var ce=re.ref;return{$$typeof:r,type:P,key:B,ref:ce!==void 0?ce:null,props:re}}function O(P,B){return w(P.type,B,P.props)}function D(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function F(P){var B={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(re){return B[re]})}var N=/\/+/g;function Ee(P,B){return typeof P=="object"&&P!==null&&P.key!=null?F(""+P.key):B.toString(36)}function Be(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(oe,oe):(P.status="pending",P.then(function(B){P.status==="pending"&&(P.status="fulfilled",P.value=B)},function(B){P.status==="pending"&&(P.status="rejected",P.reason=B)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function ee(P,B,re,ce,Ae){var je=typeof P;(je==="undefined"||je==="boolean")&&(P=null);var $e=!1;if(P===null)$e=!0;else switch(je){case"bigint":case"string":case"number":$e=!0;break;case"object":switch(P.$$typeof){case r:case e:$e=!0;break;case x:return $e=P._init,ee($e(P._payload),B,re,ce,Ae)}}if($e)return Ae=Ae(P),$e=ce===""?"."+Ee(P,0):ce,G(Ae)?(re="",$e!=null&&(re=$e.replace(N,"$&/")+"/"),ee(Ae,B,re,"",function(Js){return Js})):Ae!=null&&(D(Ae)&&(Ae=O(Ae,re+(Ae.key==null||P&&P.key===Ae.key?"":(""+Ae.key).replace(N,"$&/")+"/")+$e)),B.push(Ae)),1;$e=0;var $t=ce===""?".":ce+":";if(G(P))for(var yt=0;yt<P.length;yt++)ce=P[yt],je=$t+Ee(ce,yt),$e+=ee(ce,B,re,je,Ae);else if(yt=I(P),typeof yt=="function")for(P=yt.call(P),yt=0;!(ce=P.next()).done;)ce=ce.value,je=$t+Ee(ce,yt++),$e+=ee(ce,B,re,je,Ae);else if(je==="object"){if(typeof P.then=="function")return ee(Be(P),B,re,ce,Ae);throw B=String(P),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return $e}function fe(P,B,re){if(P==null)return P;var ce=[],Ae=0;return ee(P,ce,"","",function(je){return B.call(re,je,Ae++)}),ce}function ve(P){if(P._status===-1){var B=P._result;B=B(),B.then(function(re){(P._status===0||P._status===-1)&&(P._status=1,P._result=re)},function(re){(P._status===0||P._status===-1)&&(P._status=2,P._result=re)}),P._status===-1&&(P._status=0,P._result=B)}if(P._status===1)return P._result.default;throw P._result}var le=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Te={map:fe,forEach:function(P,B,re){fe(P,function(){B.apply(this,arguments)},re)},count:function(P){var B=0;return fe(P,function(){B++}),B},toArray:function(P){return fe(P,function(B){return B})||[]},only:function(P){if(!D(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return ze.Activity=E,ze.Children=Te,ze.Component=W,ze.Fragment=n,ze.Profiler=o,ze.PureComponent=U,ze.StrictMode=s,ze.Suspense=m,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,ze.__COMPILER_RUNTIME={__proto__:null,c:function(P){return S.H.useMemoCache(P)}},ze.cache=function(P){return function(){return P.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(P,B,re){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ce=j({},P.props),Ae=P.key;if(B!=null)for(je in B.key!==void 0&&(Ae=""+B.key),B)!C.call(B,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&B.ref===void 0||(ce[je]=B[je]);var je=arguments.length-2;if(je===1)ce.children=re;else if(1<je){for(var $e=Array(je),$t=0;$t<je;$t++)$e[$t]=arguments[$t+2];ce.children=$e}return w(P.type,Ae,ce)},ze.createContext=function(P){return P={$$typeof:h,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},ze.createElement=function(P,B,re){var ce,Ae={},je=null;if(B!=null)for(ce in B.key!==void 0&&(je=""+B.key),B)C.call(B,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Ae[ce]=B[ce]);var $e=arguments.length-2;if($e===1)Ae.children=re;else if(1<$e){for(var $t=Array($e),yt=0;yt<$e;yt++)$t[yt]=arguments[yt+2];Ae.children=$t}if(P&&P.defaultProps)for(ce in $e=P.defaultProps,$e)Ae[ce]===void 0&&(Ae[ce]=$e[ce]);return w(P,je,Ae)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(P){return{$$typeof:g,render:P}},ze.isValidElement=D,ze.lazy=function(P){return{$$typeof:x,_payload:{_status:-1,_result:P},_init:ve}},ze.memo=function(P,B){return{$$typeof:y,type:P,compare:B===void 0?null:B}},ze.startTransition=function(P){var B=S.T,re={};S.T=re;try{var ce=P(),Ae=S.S;Ae!==null&&Ae(re,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(oe,le)}catch(je){le(je)}finally{B!==null&&re.types!==null&&(B.types=re.types),S.T=B}},ze.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},ze.use=function(P){return S.H.use(P)},ze.useActionState=function(P,B,re){return S.H.useActionState(P,B,re)},ze.useCallback=function(P,B){return S.H.useCallback(P,B)},ze.useContext=function(P){return S.H.useContext(P)},ze.useDebugValue=function(){},ze.useDeferredValue=function(P,B){return S.H.useDeferredValue(P,B)},ze.useEffect=function(P,B){return S.H.useEffect(P,B)},ze.useEffectEvent=function(P){return S.H.useEffectEvent(P)},ze.useId=function(){return S.H.useId()},ze.useImperativeHandle=function(P,B,re){return S.H.useImperativeHandle(P,B,re)},ze.useInsertionEffect=function(P,B){return S.H.useInsertionEffect(P,B)},ze.useLayoutEffect=function(P,B){return S.H.useLayoutEffect(P,B)},ze.useMemo=function(P,B){return S.H.useMemo(P,B)},ze.useOptimistic=function(P,B){return S.H.useOptimistic(P,B)},ze.useReducer=function(P,B,re){return S.H.useReducer(P,B,re)},ze.useRef=function(P){return S.H.useRef(P)},ze.useState=function(P){return S.H.useState(P)},ze.useSyncExternalStore=function(P,B,re){return S.H.useSyncExternalStore(P,B,re)},ze.useTransition=function(){return S.H.useTransition()},ze.version="19.2.4",ze}var K1;function fm(){return K1||(K1=1,ug.exports=LA()),ug.exports}var k=fm();const pm=Jv(k);var dg={exports:{}},Tc={},hg={exports:{}},fg={};var Y1;function PA(){return Y1||(Y1=1,(function(r){function e(ee,fe){var ve=ee.length;ee.push(fe);e:for(;0<ve;){var le=ve-1>>>1,Te=ee[le];if(0<o(Te,fe))ee[le]=fe,ee[ve]=Te,ve=le;else break e}}function n(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var fe=ee[0],ve=ee.pop();if(ve!==fe){ee[0]=ve;e:for(var le=0,Te=ee.length,P=Te>>>1;le<P;){var B=2*(le+1)-1,re=ee[B],ce=B+1,Ae=ee[ce];if(0>o(re,ve))ce<Te&&0>o(Ae,re)?(ee[le]=Ae,ee[ce]=ve,le=ce):(ee[le]=re,ee[B]=ve,le=B);else if(ce<Te&&0>o(Ae,ve))ee[le]=Ae,ee[ce]=ve,le=ce;else break e}}return fe}function o(ee,fe){var ve=ee.sortIndex-fe.sortIndex;return ve!==0?ve:ee.id-fe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,g=h.now();r.unstable_now=function(){return h.now()-g}}var m=[],y=[],x=1,E=null,A=3,I=!1,L=!1,j=!1,M=!1,W=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function X(ee){for(var fe=n(y);fe!==null;){if(fe.callback===null)s(y);else if(fe.startTime<=ee)s(y),fe.sortIndex=fe.expirationTime,e(m,fe);else break;fe=n(y)}}function G(ee){if(j=!1,X(ee),!L)if(n(m)!==null)L=!0,oe||(oe=!0,F());else{var fe=n(y);fe!==null&&Be(G,fe.startTime-ee)}}var oe=!1,S=-1,C=5,w=-1;function O(){return M?!0:!(r.unstable_now()-w<C)}function D(){if(M=!1,oe){var ee=r.unstable_now();w=ee;var fe=!0;try{e:{L=!1,j&&(j=!1,z(S),S=-1),I=!0;var ve=A;try{t:{for(X(ee),E=n(m);E!==null&&!(E.expirationTime>ee&&O());){var le=E.callback;if(typeof le=="function"){E.callback=null,A=E.priorityLevel;var Te=le(E.expirationTime<=ee);if(ee=r.unstable_now(),typeof Te=="function"){E.callback=Te,X(ee),fe=!0;break t}E===n(m)&&s(m),X(ee)}else s(m);E=n(m)}if(E!==null)fe=!0;else{var P=n(y);P!==null&&Be(G,P.startTime-ee),fe=!1}}break e}finally{E=null,A=ve,I=!1}fe=void 0}}finally{fe?F():oe=!1}}}var F;if(typeof U=="function")F=function(){U(D)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Ee=N.port2;N.port1.onmessage=D,F=function(){Ee.postMessage(null)}}else F=function(){W(D,0)};function Be(ee,fe){S=W(function(){ee(r.unstable_now())},fe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(ee){switch(A){case 1:case 2:case 3:var fe=3;break;default:fe=A}var ve=A;A=fe;try{return ee()}finally{A=ve}},r.unstable_requestPaint=function(){M=!0},r.unstable_runWithPriority=function(ee,fe){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ve=A;A=ee;try{return fe()}finally{A=ve}},r.unstable_scheduleCallback=function(ee,fe,ve){var le=r.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?le+ve:le):ve=le,ee){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=ve+Te,ee={id:x++,callback:fe,priorityLevel:ee,startTime:ve,expirationTime:Te,sortIndex:-1},ve>le?(ee.sortIndex=ve,e(y,ee),n(m)===null&&ee===n(y)&&(j?(z(S),S=-1):j=!0,Be(G,ve-le))):(ee.sortIndex=Te,e(m,ee),L||I||(L=!0,oe||(oe=!0,F()))),ee},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(ee){var fe=A;return function(){var ve=A;A=fe;try{return ee.apply(this,arguments)}finally{A=ve}}}})(fg)),fg}var Q1;function UA(){return Q1||(Q1=1,hg.exports=PA()),hg.exports}var pg={exports:{}},hn={};var X1;function qA(){if(X1)return hn;X1=1;var r=fm();function e(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,y,x){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:m,containerInfo:y,implementation:x}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,hn.createPortal=function(m,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(m,y,null,x)},hn.flushSync=function(m){var y=h.T,x=s.p;try{if(h.T=null,s.p=2,m)return m()}finally{h.T=y,s.p=x,s.d.f()}},hn.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(m,y))},hn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},hn.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var x=y.as,E=g(x,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,I=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?s.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:I}):x==="script"&&s.d.X(m,{crossOrigin:E,integrity:A,fetchPriority:I,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},hn.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=g(y.as,y.crossOrigin);s.d.M(m,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(m)},hn.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,E=g(x,y.crossOrigin);s.d.L(m,x,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},hn.preloadModule=function(m,y){if(typeof m=="string")if(y){var x=g(y.as,y.crossOrigin);s.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(m)},hn.requestFormReset=function(m){s.d.r(m)},hn.unstable_batchedUpdates=function(m,y){return m(y)},hn.useFormState=function(m,y,x){return h.H.useFormState(m,y,x)},hn.useFormStatus=function(){return h.H.useHostTransitionStatus()},hn.version="19.2.4",hn}var J1;function HA(){if(J1)return pg.exports;J1=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),pg.exports=qA(),pg.exports}var Z1;function WA(){if(Z1)return Tc;Z1=1;var r=UA(),e=fm(),n=HA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return m(f),t;if(p===l)return m(f),i;p=p.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=p;else{for(var b=!1,T=f.child;T;){if(T===a){b=!0,a=f,l=p;break}if(T===l){b=!0,l=f,a=p;break}T=T.sibling}if(!b){for(T=p.child;T;){if(T===a){b=!0,a=p,l=f;break}if(T===l){b=!0,l=p,a=f;break}T=T.sibling}if(!b)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function x(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=x(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),U=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function F(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Ee(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case W:return"Profiler";case M:return"StrictMode";case G:return"Suspense";case oe:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case U:return t.displayName||"Context";case z:return(t._context.displayName||"Context")+".Consumer";case X:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case S:return i=t.displayName||null,i!==null?i:Ee(t.type)||"Memo";case C:i=t._payload,t=t._init;try{return Ee(t(i))}catch{}}return null}var Be=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},le=[],Te=-1;function P(t){return{current:t}}function B(t){0>Te||(t.current=le[Te],le[Te]=null,Te--)}function re(t,i){Te++,le[Te]=t.current,t.current=i}var ce=P(null),Ae=P(null),je=P(null),$e=P(null);function $t(t,i){switch(re(je,i),re(Ae,t),re(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?p1(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=p1(i),t=g1(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}B(ce),re(ce,t)}function yt(){B(ce),B(Ae),B(je)}function Js(t){t.memoizedState!==null&&re($e,t);var i=ce.current,a=g1(i,t.type);i!==a&&(re(Ae,t),re(ce,a))}function $a(t){Ae.current===t&&(B(ce),B(Ae)),$e.current===t&&(B($e),bc._currentValue=ve)}var Ka,Ya;function Ii(t){if(Ka===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ka=i&&i[1]||"",Ya=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ka+t+Ya}var bl=!1;function Zs(t,i){if(!t||bl)return"";bl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Z){var Q=Z}Reflect.construct(t,[],se)}else{try{se.call()}catch(Z){Q=Z}t.call(se.prototype)}}else{try{throw Error()}catch(Z){Q=Z}(se=t())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Z){if(Z&&Q&&typeof Z.stack=="string")return[Z.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),b=p[0],T=p[1];if(b&&T){var V=b.split(`
`),Y=T.split(`
`);for(f=l=0;l<V.length&&!V[l].includes("DetermineComponentFrameRoot");)l++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(l===V.length||f===Y.length)for(l=V.length-1,f=Y.length-1;1<=l&&0<=f&&V[l]!==Y[f];)f--;for(;1<=l&&0<=f;l--,f--)if(V[l]!==Y[f]){if(l!==1||f!==1)do if(l--,f--,0>f||V[l]!==Y[f]){var te=`
`+V[l].replace(" at new "," at ");return t.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",t.displayName)),te}while(1<=l&&0<=f);break}}}finally{bl=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ii(a):""}function _l(t,i){switch(t.tag){case 26:case 27:case 5:return Ii(t.type);case 16:return Ii("Lazy");case 13:return t.child!==i&&i!==null?Ii("Suspense Fallback"):Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return Zs(t.type,!1);case 11:return Zs(t.type.render,!1);case 1:return Zs(t.type,!0);case 31:return Ii("Activity");default:return""}}function El(t){try{var i="",a=null;do i+=_l(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Nt=Object.prototype.hasOwnProperty,Kt=r.unstable_scheduleCallback,Wr=r.unstable_cancelCallback,df=r.unstable_shouldYield,hu=r.unstable_requestPaint,yn=r.unstable_now,ea=r.unstable_getCurrentPriorityLevel,Sl=r.unstable_ImmediatePriority,Al=r.unstable_UserBlockingPriority,Gr=r.unstable_NormalPriority,hf=r.unstable_LowPriority,fu=r.unstable_IdlePriority,pu=r.log,gu=r.unstable_setDisableYieldValue,ui=null,nn=null;function $n(t){if(typeof pu=="function"&&gu(t),nn&&typeof nn.setStrictMode=="function")try{nn.setStrictMode(ui,t)}catch{}}var Rt=Math.clz32?Math.clz32:yu,mu=Math.log,Qa=Math.LN2;function yu(t){return t>>>=0,t===0?32:31-(mu(t)/Qa|0)|0}var Di=256,ta=262144,Bt=4194304;function ki(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function zi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,p=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~p,l!==0?f=ki(l):(b&=T,b!==0?f=ki(b):a||(a=T&~t,a!==0&&(f=ki(a))))):(T=l&~p,T!==0?f=ki(T):b!==0?f=ki(b):a||(a=l&~t,a!==0&&(f=ki(a)))),f===0?0:i!==0&&i!==f&&(i&p)===0&&(p=f&-f,a=i&-i,p>=a||p===32&&(a&4194048)!==0)?i:f}function di(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ff(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xu(){var t=Bt;return Bt<<=1,(Bt&62914560)===0&&(Bt=4194304),t}function Ni(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function na(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function pf(t,i,a,l,f,p){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,V=t.expirationTimes,Y=t.hiddenUpdates;for(a=b&~a;0<a;){var te=31-Rt(a),se=1<<te;T[te]=0,V[te]=-1;var Q=Y[te];if(Q!==null)for(Y[te]=null,te=0;te<Q.length;te++){var Z=Q[te];Z!==null&&(Z.lane&=-536870913)}a&=~se}l!==0&&ia(t,l,0),p!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=p&~(b&~i))}function ia(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Rt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Tl(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Rt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function Cl(t,i){var a=i&-i;return a=(a&42)!==0?1:ra(a),(a&(t.suspendedLanes|i))!==0?0:a}function ra(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function cr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function vu(){var t=fe.p;return t!==0?t:(t=window.event,t===void 0?32:F1(t.type))}function hi(t,i){var a=fe.p;try{return fe.p=t,i()}finally{fe.p=a}}var fi=Math.random().toString(36).slice(2),Mt="__reactFiber$"+fi,Jt="__reactProps$"+fi,Bi="__reactContainer$"+fi,Xa="__reactEvents$"+fi,gf="__reactListeners$"+fi,bu="__reactHandles$"+fi,_u="__reactResources$"+fi,Mi="__reactMarker$"+fi;function Ja(t){delete t[Mt],delete t[Jt],delete t[Xa],delete t[gf],delete t[bu]}function Oi(t){var i=t[Mt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Bi]||a[Mt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=E1(t);t!==null;){if(a=t[Mt])return a;t=E1(t)}return i}t=a,a=t.parentNode}return null}function Kn(t){if(t=t[Mt]||t[Bi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function zn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Fi(t){var i=t[_u];return i||(i=t[_u]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ot(t){t[Mi]=!0}var wl=new Set,Rl={};function Vi(t,i){Li(t,i),Li(t+"Capture",i)}function Li(t,i){for(Rl[t]=i,t=0;t<i.length;t++)wl.add(i[t])}var jl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Il={},Dl={};function Eu(t){return Nt.call(Dl,t)?!0:Nt.call(Il,t)?!1:jl.test(t)?Dl[t]=!0:(Il[t]=!0,!1)}function Za(t,i,a){if(Eu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Nn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Ft(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $r(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function kl(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,p=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(b){a=""+b,p.call(this,b)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(b){a=""+b},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function it(t){if(!t._valueTracker){var i=$r(t)?"checked":"value";t._valueTracker=kl(t,i,""+t[i])}}function sa(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=$r(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Pi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var aa=/[\n"\\]/g;function _n(t){return t.replace(aa,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function eo(t,i,a,l,f,p,b,T){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),i!=null?b==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Zt(i)):t.value!==""+Zt(i)&&(t.value=""+Zt(i)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),i!=null?zl(t,b,Zt(i)):a!=null?zl(t,b,Zt(a)):l!=null&&t.removeAttribute("value"),f==null&&p!=null&&(t.defaultChecked=!!p),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Zt(T):t.removeAttribute("name")}function Su(t,i,a,l,f,p,b,T){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),i!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||i!=null)){it(t);return}a=a!=null?""+Zt(a):"",i=i!=null?""+Zt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),it(t)}function zl(t,i,a){i==="number"&&Pi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Kr(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Zt(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Au(t,i,a){if(i!=null&&(i=""+Zt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Zt(a):""}function Yr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Be(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Zt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),it(t)}function En(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nl(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Tu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Bl(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Nl(t,f,l)}else for(var p in i)i.hasOwnProperty(p)&&Nl(t,p,i[p])}function to(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function no(t){return Qr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function pi(){}var Ml=null;function Yn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xr=null,Ui=null;function oa(t){var i=Kn(t);if(i&&(t=i.stateNode)){var a=t[Jt]||null;e:switch(t=i.stateNode,i.type){case"input":if(eo(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_n(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[Jt]||null;if(!f)throw Error(s(90));eo(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&sa(l)}break e;case"textarea":Au(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Kr(t,!!a.multiple,i,!1)}}}var io=!1;function Jr(t,i,a){if(io)return t(i,a);io=!0;try{var l=t(i);return l}finally{if(io=!1,(Xr!==null||Ui!==null)&&(vd(),Xr&&(i=Xr,t=Ui,Ui=Xr=null,oa(i),t)))for(i=0;i<t.length;i++)oa(t[i])}}function gi(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Jt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),la=!1;if(Qn)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){la=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{la=!1}var qi=null,Ol=null,ca=null;function Fl(){if(ca)return ca;var t,i=Ol,a=i.length,l,f="value"in qi?qi.value:qi.textContent,p=f.length;for(t=0;t<a&&i[t]===f[t];t++);var b=a-t;for(l=1;l<=b&&i[a-l]===f[p-l];l++);return ca=f.slice(t,1<l?1-l:void 0)}function ua(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ur(){return!0}function mi(){return!1}function rn(t){function i(a,l,f,p,b){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ur:mi,this.isPropagationStopped=mi,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),i}var dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hi=rn(dr),Zr=E({},dr,{view:0,detail:0}),Vl=rn(Zr),es,ro,Wi,so=E({},Zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ts,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wi&&(Wi&&t.type==="mousemove"?(es=t.screenX-Wi.screenX,ro=t.screenY-Wi.screenY):ro=es=0,Wi=t),es)},movementY:function(t){return"movementY"in t?t.movementY:ro}}),Ll=rn(so),da=E({},so,{dataTransfer:0}),wu=rn(da),Ru=E({},Zr,{relatedTarget:0}),ha=rn(Ru),Pl=E({},dr,{animationName:0,elapsedTime:0,pseudoElement:0}),ju=rn(Pl),ao=E({},dr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Iu=rn(ao),Du=E({},dr,{data:0}),Gi=rn(Du),ku={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Nu[t])?!!i[t]:!1}function ts(){return Bu}var xn=E({},Zr,{key:function(t){if(t.key){var i=ku[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ua(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ts,charCode:function(t){return t.type==="keypress"?ua(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ua(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mu=rn(xn),Ou=E({},so,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hr=rn(Ou),d=E({},Zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ts}),v=rn(d),_=E({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=rn(_),$=E({},so,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),J=rn($),he=E({},dr,{newState:0,oldState:0}),Me=rn(he),jt=[9,13,27,32],Ze=Qn&&"CompositionEvent"in window,xt=null;Qn&&"documentMode"in document&&(xt=document.documentMode);var Xn=Qn&&"TextEvent"in window&&!xt,$i=Qn&&(!Ze||xt&&8<xt&&11>=xt),yi=" ",xi=!1;function fa(t,i){switch(t){case"keyup":return jt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var lo=!1;function lS(t,i){switch(t){case"compositionend":return oo(i);case"keypress":return i.which!==32?null:(xi=!0,yi);case"textInput":return t=i.data,t===yi&&xi?null:t;default:return null}}function cS(t,i){if(lo)return t==="compositionend"||!Ze&&fa(t,i)?(t=Fl(),ca=Ol=qi=null,lo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return $i&&i.locale!=="ko"?null:i.data;default:return null}}var uS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ty(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!uS[t.type]:i==="textarea"}function Cy(t,i,a,l){Xr?Ui?Ui.push(l):Ui=[l]:Xr=l,i=Cd(i,"onChange"),0<i.length&&(a=new Hi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ul=null,ql=null;function dS(t){l1(t,0)}function Fu(t){var i=zn(t);if(sa(i))return t}function wy(t,i){if(t==="change")return i}var Ry=!1;if(Qn){var mf;if(Qn){var yf="oninput"in document;if(!yf){var jy=document.createElement("div");jy.setAttribute("oninput","return;"),yf=typeof jy.oninput=="function"}mf=yf}else mf=!1;Ry=mf&&(!document.documentMode||9<document.documentMode)}function Iy(){Ul&&(Ul.detachEvent("onpropertychange",Dy),ql=Ul=null)}function Dy(t){if(t.propertyName==="value"&&Fu(ql)){var i=[];Cy(i,ql,t,Yn(t)),Jr(dS,i)}}function hS(t,i,a){t==="focusin"?(Iy(),Ul=i,ql=a,Ul.attachEvent("onpropertychange",Dy)):t==="focusout"&&Iy()}function fS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fu(ql)}function pS(t,i){if(t==="click")return Fu(i)}function gS(t,i){if(t==="input"||t==="change")return Fu(i)}function mS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Bn=typeof Object.is=="function"?Object.is:mS;function Hl(t,i){if(Bn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Nt.call(i,f)||!Bn(t[f],i[f]))return!1}return!0}function ky(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zy(t,i){var a=ky(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ky(a)}}function Ny(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ny(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function By(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Pi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Pi(t.document)}return i}function xf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var yS=Qn&&"documentMode"in document&&11>=document.documentMode,co=null,vf=null,Wl=null,bf=!1;function My(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bf||co==null||co!==Pi(l)||(l=co,"selectionStart"in l&&xf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Wl&&Hl(Wl,l)||(Wl=l,l=Cd(vf,"onSelect"),0<l.length&&(i=new Hi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=co)))}function pa(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var uo={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionrun:pa("Transition","TransitionRun"),transitionstart:pa("Transition","TransitionStart"),transitioncancel:pa("Transition","TransitionCancel"),transitionend:pa("Transition","TransitionEnd")},_f={},Oy={};Qn&&(Oy=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function ga(t){if(_f[t])return _f[t];if(!uo[t])return t;var i=uo[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Oy)return _f[t]=i[a];return t}var Fy=ga("animationend"),Vy=ga("animationiteration"),Ly=ga("animationstart"),xS=ga("transitionrun"),vS=ga("transitionstart"),bS=ga("transitioncancel"),Py=ga("transitionend"),Uy=new Map,Ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ef.push("scrollEnd");function vi(t,i){Uy.set(t,i),Vi(i,[t])}var Vu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Jn=[],ho=0,Sf=0;function Lu(){for(var t=ho,i=Sf=ho=0;i<t;){var a=Jn[i];Jn[i++]=null;var l=Jn[i];Jn[i++]=null;var f=Jn[i];Jn[i++]=null;var p=Jn[i];if(Jn[i++]=null,l!==null&&f!==null){var b=l.pending;b===null?f.next=f:(f.next=b.next,b.next=f),l.pending=f}p!==0&&qy(a,f,p)}}function Pu(t,i,a,l){Jn[ho++]=t,Jn[ho++]=i,Jn[ho++]=a,Jn[ho++]=l,Sf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Af(t,i,a,l){return Pu(t,i,a,l),Uu(t)}function ma(t,i){return Pu(t,null,null,i),Uu(t)}function qy(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,p=t.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(f=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,f&&i!==null&&(f=31-Rt(a),t=p.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),p):null}function Uu(t){if(50<fc)throw fc=0,zp=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var fo={};function _S(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,i,a,l){return new _S(t,i,a,l)}function Tf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fr(t,i){var a=t.alternate;return a===null?(a=Mn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Hy(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function qu(t,i,a,l,f,p){var b=0;if(l=t,typeof t=="function")Tf(t)&&(b=1);else if(typeof t=="string")b=CA(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case w:return t=Mn(31,a,i,f),t.elementType=w,t.lanes=p,t;case j:return ya(a.children,f,p,i);case M:b=8,f|=24;break;case W:return t=Mn(12,a,i,f|2),t.elementType=W,t.lanes=p,t;case G:return t=Mn(13,a,i,f),t.elementType=G,t.lanes=p,t;case oe:return t=Mn(19,a,i,f),t.elementType=oe,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U:b=10;break e;case z:b=9;break e;case X:b=11;break e;case S:b=14;break e;case C:b=16,l=null;break e}b=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Mn(b,a,i,f),i.elementType=t,i.type=l,i.lanes=p,i}function ya(t,i,a,l){return t=Mn(7,t,l,i),t.lanes=a,t}function Cf(t,i,a){return t=Mn(6,t,null,i),t.lanes=a,t}function Wy(t){var i=Mn(18,null,null,0);return i.stateNode=t,i}function wf(t,i,a){return i=Mn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Gy=new WeakMap;function Zn(t,i){if(typeof t=="object"&&t!==null){var a=Gy.get(t);return a!==void 0?a:(i={value:t,source:i,stack:El(i)},Gy.set(t,i),i)}return{value:t,source:i,stack:El(i)}}var po=[],go=0,Hu=null,Gl=0,ei=[],ti=0,ns=null,Ki=1,Yi="";function pr(t,i){po[go++]=Gl,po[go++]=Hu,Hu=t,Gl=i}function $y(t,i,a){ei[ti++]=Ki,ei[ti++]=Yi,ei[ti++]=ns,ns=t;var l=Ki;t=Yi;var f=32-Rt(l)-1;l&=~(1<<f),a+=1;var p=32-Rt(i)+f;if(30<p){var b=f-f%5;p=(l&(1<<b)-1).toString(32),l>>=b,f-=b,Ki=1<<32-Rt(i)+f|a<<f|l,Yi=p+t}else Ki=1<<p|a<<f|l,Yi=t}function Rf(t){t.return!==null&&(pr(t,1),$y(t,1,0))}function jf(t){for(;t===Hu;)Hu=po[--go],po[go]=null,Gl=po[--go],po[go]=null;for(;t===ns;)ns=ei[--ti],ei[ti]=null,Yi=ei[--ti],ei[ti]=null,Ki=ei[--ti],ei[ti]=null}function Ky(t,i){ei[ti++]=Ki,ei[ti++]=Yi,ei[ti++]=ns,Ki=i.id,Yi=i.overflow,ns=t}var sn=null,pt=null,Ge=!1,is=null,ni=!1,If=Error(s(519));function rs(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $l(Zn(i,t)),If}function Yy(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Mt]=t,i[Jt]=l,a){case"dialog":Le("cancel",i),Le("close",i);break;case"iframe":case"object":case"embed":Le("load",i);break;case"video":case"audio":for(a=0;a<gc.length;a++)Le(gc[a],i);break;case"source":Le("error",i);break;case"img":case"image":case"link":Le("error",i),Le("load",i);break;case"details":Le("toggle",i);break;case"input":Le("invalid",i),Su(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Le("invalid",i);break;case"textarea":Le("invalid",i),Yr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||h1(i.textContent,a)?(l.popover!=null&&(Le("beforetoggle",i),Le("toggle",i)),l.onScroll!=null&&Le("scroll",i),l.onScrollEnd!=null&&Le("scrollend",i),l.onClick!=null&&(i.onclick=pi),i=!0):i=!1,i||rs(t,!0)}function Qy(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 31:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:sn=sn.return}}function mo(t){if(t!==sn)return!1;if(!Ge)return Qy(t),Ge=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Kp(t.type,t.memoizedProps)),a=!a),a&&pt&&rs(t),Qy(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));pt=_1(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));pt=_1(t)}else i===27?(i=pt,xs(t.type)?(t=Zp,Zp=null,pt=t):pt=i):pt=sn?ri(t.stateNode.nextSibling):null;return!0}function xa(){pt=sn=null,Ge=!1}function Df(){var t=is;return t!==null&&(Cn===null?Cn=t:Cn.push.apply(Cn,t),is=null),t}function $l(t){is===null?is=[t]:is.push(t)}var kf=P(null),va=null,gr=null;function ss(t,i,a){re(kf,i._currentValue),i._currentValue=a}function mr(t){t._currentValue=kf.current,B(kf)}function zf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Nf(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var p=f.dependencies;if(p!==null){var b=f.child;p=p.firstContext;e:for(;p!==null;){var T=p;p=f;for(var V=0;V<i.length;V++)if(T.context===i[V]){p.lanes|=a,T=p.alternate,T!==null&&(T.lanes|=a),zf(p.return,a,t),l||(b=null);break e}p=T.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(s(341));b.lanes|=a,p=b.alternate,p!==null&&(p.lanes|=a),zf(b,a,t),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===t){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function yo(t,i,a,l){t=null;for(var f=i,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var T=f.type;Bn(f.pendingProps.value,b.value)||(t!==null?t.push(T):t=[T])}}else if(f===$e.current){if(b=f.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(bc):t=[bc])}f=f.return}t!==null&&Nf(i,t,a,l),i.flags|=262144}function Wu(t){for(t=t.firstContext;t!==null;){if(!Bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ba(t){va=t,gr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function an(t){return Xy(va,t)}function Gu(t,i){return va===null&&ba(t),Xy(t,i)}function Xy(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},gr===null){if(t===null)throw Error(s(308));gr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else gr=gr.next=i;return a}var ES=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},SS=r.unstable_scheduleCallback,AS=r.unstable_NormalPriority,Vt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bf(){return{controller:new ES,data:new Map,refCount:0}}function Kl(t){t.refCount--,t.refCount===0&&SS(AS,function(){t.controller.abort()})}var Yl=null,Mf=0,xo=0,vo=null;function TS(t,i){if(Yl===null){var a=Yl=[];Mf=0,xo=Vp(),vo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Mf++,i.then(Jy,Jy),i}function Jy(){if(--Mf===0&&Yl!==null){vo!==null&&(vo.status="fulfilled");var t=Yl;Yl=null,xo=0,vo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function CS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Zy=ee.S;ee.S=function(t,i){Mx=yn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&TS(t,i),Zy!==null&&Zy(t,i)};var _a=P(null);function Of(){var t=_a.current;return t!==null?t:dt.pooledCache}function $u(t,i){i===null?re(_a,_a.current):re(_a,i.pool)}function e0(){var t=Of();return t===null?null:{parent:Vt._currentValue,pool:t}}var bo=Error(s(460)),Ff=Error(s(474)),Ku=Error(s(542)),Yu={then:function(){}};function t0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function n0(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(pi,pi),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,r0(t),t;default:if(typeof i.status=="string")i.then(pi,pi);else{if(t=dt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,r0(t),t}throw Sa=i,bo}}function Ea(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Sa=a,bo):a}}var Sa=null;function i0(){if(Sa===null)throw Error(s(459));var t=Sa;return Sa=null,t}function r0(t){if(t===bo||t===Ku)throw Error(s(483))}var _o=null,Ql=0;function Qu(t){var i=Ql;return Ql+=1,_o===null&&(_o=[]),n0(_o,t,i)}function Xl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Xu(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function s0(t){function i(H,q){if(t){var K=H.deletions;K===null?(H.deletions=[q],H.flags|=16):K.push(q)}}function a(H,q){if(!t)return null;for(;q!==null;)i(H,q),q=q.sibling;return null}function l(H){for(var q=new Map;H!==null;)H.key!==null?q.set(H.key,H):q.set(H.index,H),H=H.sibling;return q}function f(H,q){return H=fr(H,q),H.index=0,H.sibling=null,H}function p(H,q,K){return H.index=K,t?(K=H.alternate,K!==null?(K=K.index,K<q?(H.flags|=67108866,q):K):(H.flags|=67108866,q)):(H.flags|=1048576,q)}function b(H){return t&&H.alternate===null&&(H.flags|=67108866),H}function T(H,q,K,ne){return q===null||q.tag!==6?(q=Cf(K,H.mode,ne),q.return=H,q):(q=f(q,K),q.return=H,q)}function V(H,q,K,ne){var be=K.type;return be===j?te(H,q,K.props.children,ne,K.key):q!==null&&(q.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===C&&Ea(be)===q.type)?(q=f(q,K.props),Xl(q,K),q.return=H,q):(q=qu(K.type,K.key,K.props,null,H.mode,ne),Xl(q,K),q.return=H,q)}function Y(H,q,K,ne){return q===null||q.tag!==4||q.stateNode.containerInfo!==K.containerInfo||q.stateNode.implementation!==K.implementation?(q=wf(K,H.mode,ne),q.return=H,q):(q=f(q,K.children||[]),q.return=H,q)}function te(H,q,K,ne,be){return q===null||q.tag!==7?(q=ya(K,H.mode,ne,be),q.return=H,q):(q=f(q,K),q.return=H,q)}function se(H,q,K){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Cf(""+q,H.mode,K),q.return=H,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case I:return K=qu(q.type,q.key,q.props,null,H.mode,K),Xl(K,q),K.return=H,K;case L:return q=wf(q,H.mode,K),q.return=H,q;case C:return q=Ea(q),se(H,q,K)}if(Be(q)||F(q))return q=ya(q,H.mode,K,null),q.return=H,q;if(typeof q.then=="function")return se(H,Qu(q),K);if(q.$$typeof===U)return se(H,Gu(H,q),K);Xu(H,q)}return null}function Q(H,q,K,ne){var be=q!==null?q.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return be!==null?null:T(H,q,""+K,ne);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case I:return K.key===be?V(H,q,K,ne):null;case L:return K.key===be?Y(H,q,K,ne):null;case C:return K=Ea(K),Q(H,q,K,ne)}if(Be(K)||F(K))return be!==null?null:te(H,q,K,ne,null);if(typeof K.then=="function")return Q(H,q,Qu(K),ne);if(K.$$typeof===U)return Q(H,q,Gu(H,K),ne);Xu(H,K)}return null}function Z(H,q,K,ne,be){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return H=H.get(K)||null,T(q,H,""+ne,be);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case I:return H=H.get(ne.key===null?K:ne.key)||null,V(q,H,ne,be);case L:return H=H.get(ne.key===null?K:ne.key)||null,Y(q,H,ne,be);case C:return ne=Ea(ne),Z(H,q,K,ne,be)}if(Be(ne)||F(ne))return H=H.get(K)||null,te(q,H,ne,be,null);if(typeof ne.then=="function")return Z(H,q,K,Qu(ne),be);if(ne.$$typeof===U)return Z(H,q,K,Gu(q,ne),be);Xu(q,ne)}return null}function ye(H,q,K,ne){for(var be=null,Ye=null,xe=q,Fe=q=0,Ue=null;xe!==null&&Fe<K.length;Fe++){xe.index>Fe?(Ue=xe,xe=null):Ue=xe.sibling;var Qe=Q(H,xe,K[Fe],ne);if(Qe===null){xe===null&&(xe=Ue);break}t&&xe&&Qe.alternate===null&&i(H,xe),q=p(Qe,q,Fe),Ye===null?be=Qe:Ye.sibling=Qe,Ye=Qe,xe=Ue}if(Fe===K.length)return a(H,xe),Ge&&pr(H,Fe),be;if(xe===null){for(;Fe<K.length;Fe++)xe=se(H,K[Fe],ne),xe!==null&&(q=p(xe,q,Fe),Ye===null?be=xe:Ye.sibling=xe,Ye=xe);return Ge&&pr(H,Fe),be}for(xe=l(xe);Fe<K.length;Fe++)Ue=Z(xe,H,Fe,K[Fe],ne),Ue!==null&&(t&&Ue.alternate!==null&&xe.delete(Ue.key===null?Fe:Ue.key),q=p(Ue,q,Fe),Ye===null?be=Ue:Ye.sibling=Ue,Ye=Ue);return t&&xe.forEach(function(Ss){return i(H,Ss)}),Ge&&pr(H,Fe),be}function Se(H,q,K,ne){if(K==null)throw Error(s(151));for(var be=null,Ye=null,xe=q,Fe=q=0,Ue=null,Qe=K.next();xe!==null&&!Qe.done;Fe++,Qe=K.next()){xe.index>Fe?(Ue=xe,xe=null):Ue=xe.sibling;var Ss=Q(H,xe,Qe.value,ne);if(Ss===null){xe===null&&(xe=Ue);break}t&&xe&&Ss.alternate===null&&i(H,xe),q=p(Ss,q,Fe),Ye===null?be=Ss:Ye.sibling=Ss,Ye=Ss,xe=Ue}if(Qe.done)return a(H,xe),Ge&&pr(H,Fe),be;if(xe===null){for(;!Qe.done;Fe++,Qe=K.next())Qe=se(H,Qe.value,ne),Qe!==null&&(q=p(Qe,q,Fe),Ye===null?be=Qe:Ye.sibling=Qe,Ye=Qe);return Ge&&pr(H,Fe),be}for(xe=l(xe);!Qe.done;Fe++,Qe=K.next())Qe=Z(xe,H,Fe,Qe.value,ne),Qe!==null&&(t&&Qe.alternate!==null&&xe.delete(Qe.key===null?Fe:Qe.key),q=p(Qe,q,Fe),Ye===null?be=Qe:Ye.sibling=Qe,Ye=Qe);return t&&xe.forEach(function(OA){return i(H,OA)}),Ge&&pr(H,Fe),be}function ut(H,q,K,ne){if(typeof K=="object"&&K!==null&&K.type===j&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case I:e:{for(var be=K.key;q!==null;){if(q.key===be){if(be=K.type,be===j){if(q.tag===7){a(H,q.sibling),ne=f(q,K.props.children),ne.return=H,H=ne;break e}}else if(q.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===C&&Ea(be)===q.type){a(H,q.sibling),ne=f(q,K.props),Xl(ne,K),ne.return=H,H=ne;break e}a(H,q);break}else i(H,q);q=q.sibling}K.type===j?(ne=ya(K.props.children,H.mode,ne,K.key),ne.return=H,H=ne):(ne=qu(K.type,K.key,K.props,null,H.mode,ne),Xl(ne,K),ne.return=H,H=ne)}return b(H);case L:e:{for(be=K.key;q!==null;){if(q.key===be)if(q.tag===4&&q.stateNode.containerInfo===K.containerInfo&&q.stateNode.implementation===K.implementation){a(H,q.sibling),ne=f(q,K.children||[]),ne.return=H,H=ne;break e}else{a(H,q);break}else i(H,q);q=q.sibling}ne=wf(K,H.mode,ne),ne.return=H,H=ne}return b(H);case C:return K=Ea(K),ut(H,q,K,ne)}if(Be(K))return ye(H,q,K,ne);if(F(K)){if(be=F(K),typeof be!="function")throw Error(s(150));return K=be.call(K),Se(H,q,K,ne)}if(typeof K.then=="function")return ut(H,q,Qu(K),ne);if(K.$$typeof===U)return ut(H,q,Gu(H,K),ne);Xu(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,q!==null&&q.tag===6?(a(H,q.sibling),ne=f(q,K),ne.return=H,H=ne):(a(H,q),ne=Cf(K,H.mode,ne),ne.return=H,H=ne),b(H)):a(H,q)}return function(H,q,K,ne){try{Ql=0;var be=ut(H,q,K,ne);return _o=null,be}catch(xe){if(xe===bo||xe===Ku)throw xe;var Ye=Mn(29,xe,null,H.mode);return Ye.lanes=ne,Ye.return=H,Ye}}}var Aa=s0(!0),a0=s0(!1),as=!1;function Vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function os(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ls(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(et&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=Uu(t),qy(t,null,a),i}return Pu(t,l,i,a),Uu(t)}function Jl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Tl(t,a)}}function Pf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=b:p=p.next=b,a=a.next}while(a!==null);p===null?f=p=i:p=p.next=i}else f=p=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Uf=!1;function Zl(){if(Uf){var t=vo;if(t!==null)throw t}}function ec(t,i,a,l){Uf=!1;var f=t.updateQueue;as=!1;var p=f.firstBaseUpdate,b=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var V=T,Y=V.next;V.next=null,b===null?p=Y:b.next=Y,b=V;var te=t.alternate;te!==null&&(te=te.updateQueue,T=te.lastBaseUpdate,T!==b&&(T===null?te.firstBaseUpdate=Y:T.next=Y,te.lastBaseUpdate=V))}if(p!==null){var se=f.baseState;b=0,te=Y=V=null,T=p;do{var Q=T.lane&-536870913,Z=Q!==T.lane;if(Z?(Pe&Q)===Q:(l&Q)===Q){Q!==0&&Q===xo&&(Uf=!0),te!==null&&(te=te.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ye=t,Se=T;Q=i;var ut=a;switch(Se.tag){case 1:if(ye=Se.payload,typeof ye=="function"){se=ye.call(ut,se,Q);break e}se=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Se.payload,Q=typeof ye=="function"?ye.call(ut,se,Q):ye,Q==null)break e;se=E({},se,Q);break e;case 2:as=!0}}Q=T.callback,Q!==null&&(t.flags|=64,Z&&(t.flags|=8192),Z=f.callbacks,Z===null?f.callbacks=[Q]:Z.push(Q))}else Z={lane:Q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},te===null?(Y=te=Z,V=se):te=te.next=Z,b|=Q;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;Z=T,T=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);te===null&&(V=se),f.baseState=V,f.firstBaseUpdate=Y,f.lastBaseUpdate=te,p===null&&(f.shared.lanes=0),fs|=b,t.lanes=b,t.memoizedState=se}}function o0(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function l0(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)o0(a[t],i)}var Eo=P(null),Ju=P(0);function c0(t,i){t=Tr,re(Ju,t),re(Eo,i),Tr=t|i.baseLanes}function qf(){re(Ju,Tr),re(Eo,Eo.current)}function Hf(){Tr=Ju.current,B(Eo),B(Ju)}var On=P(null),ii=null;function cs(t){var i=t.alternate;re(It,It.current&1),re(On,t),ii===null&&(i===null||Eo.current!==null||i.memoizedState!==null)&&(ii=t)}function Wf(t){re(It,It.current),re(On,t),ii===null&&(ii=t)}function u0(t){t.tag===22?(re(It,It.current),re(On,t),ii===null&&(ii=t)):us()}function us(){re(It,It.current),re(On,On.current)}function Fn(t){B(On),ii===t&&(ii=null),B(It)}var It=P(0);function Zu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Xp(a)||Jp(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var yr=0,Oe=null,lt=null,Lt=null,ed=!1,So=!1,Ta=!1,td=0,tc=0,Ao=null,wS=0;function At(){throw Error(s(321))}function Gf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Bn(t[a],i[a]))return!1;return!0}function $f(t,i,a,l,f,p){return yr=p,Oe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ee.H=t===null||t.memoizedState===null?$0:lp,Ta=!1,p=a(l,f),Ta=!1,So&&(p=h0(i,a,l,f)),d0(t),p}function d0(t){ee.H=rc;var i=lt!==null&&lt.next!==null;if(yr=0,Lt=lt=Oe=null,ed=!1,tc=0,Ao=null,i)throw Error(s(300));t===null||Pt||(t=t.dependencies,t!==null&&Wu(t)&&(Pt=!0))}function h0(t,i,a,l){Oe=t;var f=0;do{if(So&&(Ao=null),tc=0,So=!1,25<=f)throw Error(s(301));if(f+=1,Lt=lt=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}ee.H=K0,p=i(a,l)}while(So);return p}function RS(){var t=ee.H,i=t.useState()[0];return i=typeof i.then=="function"?nc(i):i,t=t.useState()[0],(lt!==null?lt.memoizedState:null)!==t&&(Oe.flags|=1024),i}function Kf(){var t=td!==0;return td=0,t}function Yf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Qf(t){if(ed){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ed=!1}yr=0,Lt=lt=Oe=null,So=!1,tc=td=0,Ao=null}function vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Oe.memoizedState=Lt=t:Lt=Lt.next=t,Lt}function Dt(){if(lt===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var i=Lt===null?Oe.memoizedState:Lt.next;if(i!==null)Lt=i,lt=t;else{if(t===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},Lt===null?Oe.memoizedState=Lt=t:Lt=Lt.next=t}return Lt}function nd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nc(t){var i=tc;return tc+=1,Ao===null&&(Ao=[]),t=n0(Ao,t,i),i=Oe,(Lt===null?i.memoizedState:Lt.next)===null&&(i=i.alternate,ee.H=i===null||i.memoizedState===null?$0:lp),t}function id(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return nc(t);if(t.$$typeof===U)return an(t)}throw Error(s(438,String(t)))}function Xf(t){var i=null,a=Oe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=nd(),Oe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function xr(t,i){return typeof i=="function"?i(t):i}function rd(t){var i=Dt();return Jf(i,lt,t)}function Jf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,p=l.pending;if(p!==null){if(f!==null){var b=f.next;f.next=p.next,p.next=b}i.baseQueue=f=p,l.pending=null}if(p=t.baseState,f===null)t.memoizedState=p;else{i=f.next;var T=b=null,V=null,Y=i,te=!1;do{var se=Y.lane&-536870913;if(se!==Y.lane?(Pe&se)===se:(yr&se)===se){var Q=Y.revertLane;if(Q===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),se===xo&&(te=!0);else if((yr&Q)===Q){Y=Y.next,Q===xo&&(te=!0);continue}else se={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},V===null?(T=V=se,b=p):V=V.next=se,Oe.lanes|=Q,fs|=Q;se=Y.action,Ta&&a(p,se),p=Y.hasEagerState?Y.eagerState:a(p,se)}else Q={lane:se,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},V===null?(T=V=Q,b=p):V=V.next=Q,Oe.lanes|=se,fs|=se;Y=Y.next}while(Y!==null&&Y!==i);if(V===null?b=p:V.next=T,!Bn(p,t.memoizedState)&&(Pt=!0,te&&(a=vo,a!==null)))throw a;t.memoizedState=p,t.baseState=b,t.baseQueue=V,l.lastRenderedState=p}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Zf(t){var i=Dt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,p=i.memoizedState;if(f!==null){a.pending=null;var b=f=f.next;do p=t(p,b.action),b=b.next;while(b!==f);Bn(p,i.memoizedState)||(Pt=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),a.lastRenderedState=p}return[p,l]}function f0(t,i,a){var l=Oe,f=Dt(),p=Ge;if(p){if(a===void 0)throw Error(s(407));a=a()}else a=i();var b=!Bn((lt||f).memoizedState,a);if(b&&(f.memoizedState=a,Pt=!0),f=f.queue,np(m0.bind(null,l,f,t),[t]),f.getSnapshot!==i||b||Lt!==null&&Lt.memoizedState.tag&1){if(l.flags|=2048,To(9,{destroy:void 0},g0.bind(null,l,f,a,i),null),dt===null)throw Error(s(349));p||(yr&127)!==0||p0(l,i,a)}return a}function p0(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Oe.updateQueue,i===null?(i=nd(),Oe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function g0(t,i,a,l){i.value=a,i.getSnapshot=l,y0(i)&&x0(t)}function m0(t,i,a){return a(function(){y0(i)&&x0(t)})}function y0(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Bn(t,a)}catch{return!0}}function x0(t){var i=ma(t,2);i!==null&&wn(i,t,2)}function ep(t){var i=vn();if(typeof t=="function"){var a=t;if(t=a(),Ta){$n(!0);try{a()}finally{$n(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:t},i}function v0(t,i,a,l){return t.baseState=a,Jf(t,lt,typeof l=="function"?l:xr)}function jS(t,i,a,l,f){if(od(t))throw Error(s(485));if(t=i.action,t!==null){var p={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};ee.T!==null?a(!0):p.isTransition=!1,l(p),a=i.pending,a===null?(p.next=i.pending=p,b0(i,p)):(p.next=a.next,i.pending=a.next=p)}}function b0(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var p=ee.T,b={};ee.T=b;try{var T=a(f,l),V=ee.S;V!==null&&V(b,T),_0(t,i,T)}catch(Y){tp(t,i,Y)}finally{p!==null&&b.types!==null&&(p.types=b.types),ee.T=p}}else try{p=a(f,l),_0(t,i,p)}catch(Y){tp(t,i,Y)}}function _0(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){E0(t,i,l)},function(l){return tp(t,i,l)}):E0(t,i,a)}function E0(t,i,a){i.status="fulfilled",i.value=a,S0(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,b0(t,a)))}function tp(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,S0(i),i=i.next;while(i!==l)}t.action=null}function S0(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function A0(t,i){return i}function T0(t,i){if(Ge){var a=dt.formState;if(a!==null){e:{var l=Oe;if(Ge){if(pt){t:{for(var f=pt,p=ni;f.nodeType!==8;){if(!p){f=null;break t}if(f=ri(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){pt=ri(f.nextSibling),l=f.data==="F!";break e}}rs(l)}l=!1}l&&(i=a[0])}}return a=vn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A0,lastRenderedState:i},a.queue=l,a=H0.bind(null,Oe,l),l.dispatch=a,l=ep(!1),p=op.bind(null,Oe,!1,l.queue),l=vn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=jS.bind(null,Oe,f,p,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function C0(t){var i=Dt();return w0(i,lt,t)}function w0(t,i,a){if(i=Jf(t,i,A0)[0],t=rd(xr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=nc(i)}catch(b){throw b===bo?Ku:b}else l=i;i=Dt();var f=i.queue,p=f.dispatch;return a!==i.memoizedState&&(Oe.flags|=2048,To(9,{destroy:void 0},IS.bind(null,f,a),null)),[l,p,t]}function IS(t,i){t.action=i}function R0(t){var i=Dt(),a=lt;if(a!==null)return w0(i,a,t);Dt(),i=i.memoizedState,a=Dt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function To(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Oe.updateQueue,i===null&&(i=nd(),Oe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function j0(){return Dt().memoizedState}function sd(t,i,a,l){var f=vn();Oe.flags|=t,f.memoizedState=To(1|i,{destroy:void 0},a,l===void 0?null:l)}function ad(t,i,a,l){var f=Dt();l=l===void 0?null:l;var p=f.memoizedState.inst;lt!==null&&l!==null&&Gf(l,lt.memoizedState.deps)?f.memoizedState=To(i,p,a,l):(Oe.flags|=t,f.memoizedState=To(1|i,p,a,l))}function I0(t,i){sd(8390656,8,t,i)}function np(t,i){ad(2048,8,t,i)}function DS(t){Oe.flags|=4;var i=Oe.updateQueue;if(i===null)i=nd(),Oe.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function D0(t){var i=Dt().memoizedState;return DS({ref:i,nextImpl:t}),function(){if((et&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function k0(t,i){return ad(4,2,t,i)}function z0(t,i){return ad(4,4,t,i)}function N0(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function B0(t,i,a){a=a!=null?a.concat([t]):null,ad(4,4,N0.bind(null,i,t),a)}function ip(){}function M0(t,i){var a=Dt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Gf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function O0(t,i){var a=Dt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Gf(i,l[1]))return l[0];if(l=t(),Ta){$n(!0);try{t()}finally{$n(!1)}}return a.memoizedState=[l,i],l}function rp(t,i,a){return a===void 0||(yr&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Fx(),Oe.lanes|=t,fs|=t,a)}function F0(t,i,a,l){return Bn(a,i)?a:Eo.current!==null?(t=rp(t,a,l),Bn(t,i)||(Pt=!0),t):(yr&42)===0||(yr&1073741824)!==0&&(Pe&261930)===0?(Pt=!0,t.memoizedState=a):(t=Fx(),Oe.lanes|=t,fs|=t,i)}function V0(t,i,a,l,f){var p=fe.p;fe.p=p!==0&&8>p?p:8;var b=ee.T,T={};ee.T=T,op(t,!1,i,a);try{var V=f(),Y=ee.S;if(Y!==null&&Y(T,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var te=CS(V,l);ic(t,i,te,Pn(t))}else ic(t,i,l,Pn(t))}catch(se){ic(t,i,{then:function(){},status:"rejected",reason:se},Pn())}finally{fe.p=p,b!==null&&T.types!==null&&(b.types=T.types),ee.T=b}}function kS(){}function sp(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=L0(t).queue;V0(t,f,i,ve,a===null?kS:function(){return P0(t),a(l)})}function L0(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:ve},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function P0(t){var i=L0(t);i.next===null&&(i=t.alternate.memoizedState),ic(t,i.next.queue,{},Pn())}function ap(){return an(bc)}function U0(){return Dt().memoizedState}function q0(){return Dt().memoizedState}function zS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Pn();t=os(a);var l=ls(i,t,a);l!==null&&(wn(l,i,a),Jl(l,i,a)),i={cache:Bf()},t.payload=i;return}i=i.return}}function NS(t,i,a){var l=Pn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},od(t)?W0(i,a):(a=Af(t,i,a,l),a!==null&&(wn(a,t,l),G0(a,i,l)))}function H0(t,i,a){var l=Pn();ic(t,i,a,l)}function ic(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(od(t))W0(i,f);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var b=i.lastRenderedState,T=p(b,a);if(f.hasEagerState=!0,f.eagerState=T,Bn(T,b))return Pu(t,i,f,0),dt===null&&Lu(),!1}catch{}if(a=Af(t,i,f,l),a!==null)return wn(a,t,l),G0(a,i,l),!0}return!1}function op(t,i,a,l){if(l={lane:2,revertLane:Vp(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},od(t)){if(i)throw Error(s(479))}else i=Af(t,a,l,2),i!==null&&wn(i,t,2)}function od(t){var i=t.alternate;return t===Oe||i!==null&&i===Oe}function W0(t,i){So=ed=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function G0(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Tl(t,a)}}var rc={readContext:an,use:id,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};rc.useEffectEvent=At;var $0={readContext:an,use:id,useCallback:function(t,i){return vn().memoizedState=[t,i===void 0?null:i],t},useContext:an,useEffect:I0,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,sd(4194308,4,N0.bind(null,i,t),a)},useLayoutEffect:function(t,i){return sd(4194308,4,t,i)},useInsertionEffect:function(t,i){sd(4,2,t,i)},useMemo:function(t,i){var a=vn();i=i===void 0?null:i;var l=t();if(Ta){$n(!0);try{t()}finally{$n(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=vn();if(a!==void 0){var f=a(i);if(Ta){$n(!0);try{a(i)}finally{$n(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=NS.bind(null,Oe,t),[l.memoizedState,t]},useRef:function(t){var i=vn();return t={current:t},i.memoizedState=t},useState:function(t){t=ep(t);var i=t.queue,a=H0.bind(null,Oe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:ip,useDeferredValue:function(t,i){var a=vn();return rp(a,t,i)},useTransition:function(){var t=ep(!1);return t=V0.bind(null,Oe,t.queue,!0,!1),vn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Oe,f=vn();if(Ge){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),dt===null)throw Error(s(349));(Pe&127)!==0||p0(l,i,a)}f.memoizedState=a;var p={value:a,getSnapshot:i};return f.queue=p,I0(m0.bind(null,l,p,t),[t]),l.flags|=2048,To(9,{destroy:void 0},g0.bind(null,l,p,a,i),null),a},useId:function(){var t=vn(),i=dt.identifierPrefix;if(Ge){var a=Yi,l=Ki;a=(l&~(1<<32-Rt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=td++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=wS++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:ap,useFormState:T0,useActionState:T0,useOptimistic:function(t){var i=vn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=op.bind(null,Oe,!0,a),a.dispatch=i,[t,i]},useMemoCache:Xf,useCacheRefresh:function(){return vn().memoizedState=zS.bind(null,Oe)},useEffectEvent:function(t){var i=vn(),a={impl:t};return i.memoizedState=a,function(){if((et&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},lp={readContext:an,use:id,useCallback:M0,useContext:an,useEffect:np,useImperativeHandle:B0,useInsertionEffect:k0,useLayoutEffect:z0,useMemo:O0,useReducer:rd,useRef:j0,useState:function(){return rd(xr)},useDebugValue:ip,useDeferredValue:function(t,i){var a=Dt();return F0(a,lt.memoizedState,t,i)},useTransition:function(){var t=rd(xr)[0],i=Dt().memoizedState;return[typeof t=="boolean"?t:nc(t),i]},useSyncExternalStore:f0,useId:U0,useHostTransitionStatus:ap,useFormState:C0,useActionState:C0,useOptimistic:function(t,i){var a=Dt();return v0(a,lt,t,i)},useMemoCache:Xf,useCacheRefresh:q0};lp.useEffectEvent=D0;var K0={readContext:an,use:id,useCallback:M0,useContext:an,useEffect:np,useImperativeHandle:B0,useInsertionEffect:k0,useLayoutEffect:z0,useMemo:O0,useReducer:Zf,useRef:j0,useState:function(){return Zf(xr)},useDebugValue:ip,useDeferredValue:function(t,i){var a=Dt();return lt===null?rp(a,t,i):F0(a,lt.memoizedState,t,i)},useTransition:function(){var t=Zf(xr)[0],i=Dt().memoizedState;return[typeof t=="boolean"?t:nc(t),i]},useSyncExternalStore:f0,useId:U0,useHostTransitionStatus:ap,useFormState:R0,useActionState:R0,useOptimistic:function(t,i){var a=Dt();return lt!==null?v0(a,lt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Xf,useCacheRefresh:q0};K0.useEffectEvent=D0;function cp(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var up={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Pn(),f=os(l);f.payload=i,a!=null&&(f.callback=a),i=ls(t,f,l),i!==null&&(wn(i,t,l),Jl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Pn(),f=os(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=ls(t,f,l),i!==null&&(wn(i,t,l),Jl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Pn(),l=os(a);l.tag=2,i!=null&&(l.callback=i),i=ls(t,l,a),i!==null&&(wn(i,t,a),Jl(i,t,a))}};function Y0(t,i,a,l,f,p,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,p,b):i.prototype&&i.prototype.isPureReactComponent?!Hl(a,l)||!Hl(f,p):!0}function Q0(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&up.enqueueReplaceState(i,i.state,null)}function Ca(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function X0(t){Vu(t)}function J0(t){console.error(t)}function Z0(t){Vu(t)}function ld(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function ex(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function dp(t,i,a){return a=os(a),a.tag=3,a.payload={element:null},a.callback=function(){ld(t,i)},a}function tx(t){return t=os(t),t.tag=3,t}function nx(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;t.payload=function(){return f(p)},t.callback=function(){ex(i,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){ex(i,a,l),typeof f!="function"&&(ps===null?ps=new Set([this]):ps.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function BS(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&yo(i,a,f,!0),a=On.current,a!==null){switch(a.tag){case 31:case 13:return ii===null?bd():a.alternate===null&&Tt===0&&(Tt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Yu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Mp(t,l,f)),!1;case 22:return a.flags|=65536,l===Yu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Mp(t,l,f)),!1}throw Error(s(435,a.tag))}return Mp(t,l,f),bd(),!1}if(Ge)return i=On.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==If&&(t=Error(s(422),{cause:l}),$l(Zn(t,a)))):(l!==If&&(i=Error(s(423),{cause:l}),$l(Zn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Zn(l,a),f=dp(t.stateNode,l,f),Pf(t,f),Tt!==4&&(Tt=2)),!1;var p=Error(s(520),{cause:l});if(p=Zn(p,a),hc===null?hc=[p]:hc.push(p),Tt!==4&&(Tt=2),i===null)return!0;l=Zn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=dp(a.stateNode,l,t),Pf(a,t),!1;case 1:if(i=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ps===null||!ps.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=tx(f),nx(f,t,a,l),Pf(a,f),!1}a=a.return}while(a!==null);return!1}var hp=Error(s(461)),Pt=!1;function on(t,i,a,l){i.child=t===null?a0(i,null,a,l):Aa(i,t.child,a,l)}function ix(t,i,a,l,f){a=a.render;var p=i.ref;if("ref"in l){var b={};for(var T in l)T!=="ref"&&(b[T]=l[T])}else b=l;return ba(i),l=$f(t,i,a,b,p,f),T=Kf(),t!==null&&!Pt?(Yf(t,i,f),vr(t,i,f)):(Ge&&T&&Rf(i),i.flags|=1,on(t,i,l,f),i.child)}function rx(t,i,a,l,f){if(t===null){var p=a.type;return typeof p=="function"&&!Tf(p)&&p.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=p,sx(t,i,p,l,f)):(t=qu(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(p=t.child,!bp(t,f)){var b=p.memoizedProps;if(a=a.compare,a=a!==null?a:Hl,a(b,l)&&t.ref===i.ref)return vr(t,i,f)}return i.flags|=1,t=fr(p,l),t.ref=i.ref,t.return=i,i.child=t}function sx(t,i,a,l,f){if(t!==null){var p=t.memoizedProps;if(Hl(p,l)&&t.ref===i.ref)if(Pt=!1,i.pendingProps=l=p,bp(t,f))(t.flags&131072)!==0&&(Pt=!0);else return i.lanes=t.lanes,vr(t,i,f)}return fp(t,i,a,l,f)}function ax(t,i,a,l){var f=l.children,p=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(p=p!==null?p.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~p}else l=0,i.child=null;return ox(t,i,p,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&$u(i,p!==null?p.cachePool:null),p!==null?c0(i,p):qf(),u0(i);else return l=i.lanes=536870912,ox(t,i,p!==null?p.baseLanes|a:a,a,l)}else p!==null?($u(i,p.cachePool),c0(i,p),us(),i.memoizedState=null):(t!==null&&$u(i,null),qf(),us());return on(t,i,f,a),i.child}function sc(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function ox(t,i,a,l,f){var p=Of();return p=p===null?null:{parent:Vt._currentValue,pool:p},i.memoizedState={baseLanes:a,cachePool:p},t!==null&&$u(i,null),qf(),u0(i),t!==null&&yo(t,i,l,!0),i.childLanes=f,null}function cd(t,i){return i=dd({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function lx(t,i,a){return Aa(i,t.child,null,a),t=cd(i,i.pendingProps),t.flags|=2,Fn(i),i.memoizedState=null,t}function MS(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ge){if(l.mode==="hidden")return t=cd(i,l),i.lanes=536870912,sc(null,t);if(Wf(i),(t=pt)?(t=b1(t,ni),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ns!==null?{id:Ki,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},a=Wy(t),a.return=i,i.child=a,sn=i,pt=null)):t=null,t===null)throw rs(i);return i.lanes=536870912,null}return cd(i,l)}var p=t.memoizedState;if(p!==null){var b=p.dehydrated;if(Wf(i),f)if(i.flags&256)i.flags&=-257,i=lx(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Pt||yo(t,i,a,!1),f=(a&t.childLanes)!==0,Pt||f){if(l=dt,l!==null&&(b=Cl(l,a),b!==0&&b!==p.retryLane))throw p.retryLane=b,ma(t,b),wn(l,t,b),hp;bd(),i=lx(t,i,a)}else t=p.treeContext,pt=ri(b.nextSibling),sn=i,Ge=!0,is=null,ni=!1,t!==null&&Ky(i,t),i=cd(i,l),i.flags|=4096;return i}return t=fr(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function ud(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function fp(t,i,a,l,f){return ba(i),a=$f(t,i,a,l,void 0,f),l=Kf(),t!==null&&!Pt?(Yf(t,i,f),vr(t,i,f)):(Ge&&l&&Rf(i),i.flags|=1,on(t,i,a,f),i.child)}function cx(t,i,a,l,f,p){return ba(i),i.updateQueue=null,a=h0(i,l,a,f),d0(t),l=Kf(),t!==null&&!Pt?(Yf(t,i,p),vr(t,i,p)):(Ge&&l&&Rf(i),i.flags|=1,on(t,i,a,p),i.child)}function ux(t,i,a,l,f){if(ba(i),i.stateNode===null){var p=fo,b=a.contextType;typeof b=="object"&&b!==null&&(p=an(b)),p=new a(l,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=up,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=l,p.state=i.memoizedState,p.refs={},Vf(i),b=a.contextType,p.context=typeof b=="object"&&b!==null?an(b):fo,p.state=i.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(cp(i,a,b,l),p.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&up.enqueueReplaceState(p,p.state,null),ec(i,l,p,f),Zl(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){p=i.stateNode;var T=i.memoizedProps,V=Ca(a,T);p.props=V;var Y=p.context,te=a.contextType;b=fo,typeof te=="object"&&te!==null&&(b=an(te));var se=a.getDerivedStateFromProps;te=typeof se=="function"||typeof p.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,te||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T||Y!==b)&&Q0(i,p,l,b),as=!1;var Q=i.memoizedState;p.state=Q,ec(i,l,p,f),Zl(),Y=i.memoizedState,T||Q!==Y||as?(typeof se=="function"&&(cp(i,a,se,l),Y=i.memoizedState),(V=as||Y0(i,a,V,l,Q,Y,b))?(te||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=Y),p.props=l,p.state=Y,p.context=b,l=V):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{p=i.stateNode,Lf(t,i),b=i.memoizedProps,te=Ca(a,b),p.props=te,se=i.pendingProps,Q=p.context,Y=a.contextType,V=fo,typeof Y=="object"&&Y!==null&&(V=an(Y)),T=a.getDerivedStateFromProps,(Y=typeof T=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==se||Q!==V)&&Q0(i,p,l,V),as=!1,Q=i.memoizedState,p.state=Q,ec(i,l,p,f),Zl();var Z=i.memoizedState;b!==se||Q!==Z||as||t!==null&&t.dependencies!==null&&Wu(t.dependencies)?(typeof T=="function"&&(cp(i,a,T,l),Z=i.memoizedState),(te=as||Y0(i,a,te,l,Q,Z,V)||t!==null&&t.dependencies!==null&&Wu(t.dependencies))?(Y||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,Z,V),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,Z,V)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Z),p.props=l,p.state=Z,p.context=V,l=te):(typeof p.componentDidUpdate!="function"||b===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),l=!1)}return p=l,ud(t,i),l=(i.flags&128)!==0,p||l?(p=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,t!==null&&l?(i.child=Aa(i,t.child,null,f),i.child=Aa(i,null,a,f)):on(t,i,a,f),i.memoizedState=p.state,t=i.child):t=vr(t,i,f),t}function dx(t,i,a,l){return xa(),i.flags|=256,on(t,i,a,l),i.child}var pp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gp(t){return{baseLanes:t,cachePool:e0()}}function mp(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Ln),t}function hx(t,i,a){var l=i.pendingProps,f=!1,p=(i.flags&128)!==0,b;if((b=p)||(b=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),b&&(f=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ge){if(f?cs(i):us(),(t=pt)?(t=b1(t,ni),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ns!==null?{id:Ki,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},a=Wy(t),a.return=i,i.child=a,sn=i,pt=null)):t=null,t===null)throw rs(i);return Jp(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,f?(us(),f=i.mode,T=dd({mode:"hidden",children:T},f),l=ya(l,f,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=gp(a),l.childLanes=mp(t,b,a),i.memoizedState=pp,sc(null,l)):(cs(i),yp(i,T))}var V=t.memoizedState;if(V!==null&&(T=V.dehydrated,T!==null)){if(p)i.flags&256?(cs(i),i.flags&=-257,i=xp(t,i,a)):i.memoizedState!==null?(us(),i.child=t.child,i.flags|=128,i=null):(us(),T=l.fallback,f=i.mode,l=dd({mode:"visible",children:l.children},f),T=ya(T,f,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Aa(i,t.child,null,a),l=i.child,l.memoizedState=gp(a),l.childLanes=mp(t,b,a),i.memoizedState=pp,i=sc(null,l));else if(cs(i),Jp(T)){if(b=T.nextSibling&&T.nextSibling.dataset,b)var Y=b.dgst;b=Y,l=Error(s(419)),l.stack="",l.digest=b,$l({value:l,source:null,stack:null}),i=xp(t,i,a)}else if(Pt||yo(t,i,a,!1),b=(a&t.childLanes)!==0,Pt||b){if(b=dt,b!==null&&(l=Cl(b,a),l!==0&&l!==V.retryLane))throw V.retryLane=l,ma(t,l),wn(b,t,l),hp;Xp(T)||bd(),i=xp(t,i,a)}else Xp(T)?(i.flags|=192,i.child=t.child,i=null):(t=V.treeContext,pt=ri(T.nextSibling),sn=i,Ge=!0,is=null,ni=!1,t!==null&&Ky(i,t),i=yp(i,l.children),i.flags|=4096);return i}return f?(us(),T=l.fallback,f=i.mode,V=t.child,Y=V.sibling,l=fr(V,{mode:"hidden",children:l.children}),l.subtreeFlags=V.subtreeFlags&65011712,Y!==null?T=fr(Y,T):(T=ya(T,f,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,sc(null,l),l=i.child,T=t.child.memoizedState,T===null?T=gp(a):(f=T.cachePool,f!==null?(V=Vt._currentValue,f=f.parent!==V?{parent:V,pool:V}:f):f=e0(),T={baseLanes:T.baseLanes|a,cachePool:f}),l.memoizedState=T,l.childLanes=mp(t,b,a),i.memoizedState=pp,sc(t.child,l)):(cs(i),a=t.child,t=a.sibling,a=fr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(b=i.deletions,b===null?(i.deletions=[t],i.flags|=16):b.push(t)),i.child=a,i.memoizedState=null,a)}function yp(t,i){return i=dd({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function dd(t,i){return t=Mn(22,t,null,i),t.lanes=0,t}function xp(t,i,a){return Aa(i,t.child,null,a),t=yp(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function fx(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),zf(t.return,i,a)}function vp(t,i,a,l,f,p){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:p}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=l,b.tail=a,b.tailMode=f,b.treeForkCount=p)}function px(t,i,a){var l=i.pendingProps,f=l.revealOrder,p=l.tail;l=l.children;var b=It.current,T=(b&2)!==0;if(T?(b=b&1|2,i.flags|=128):b&=1,re(It,b),on(t,i,l,a),l=Ge?Gl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fx(t,a,i);else if(t.tag===19)fx(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&Zu(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),vp(i,!1,f,a,p,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&Zu(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}vp(i,!0,a,null,p,l);break;case"together":vp(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function vr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),fs|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(yo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=fr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=fr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function bp(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Wu(t)))}function OS(t,i,a){switch(i.tag){case 3:$t(i,i.stateNode.containerInfo),ss(i,Vt,t.memoizedState.cache),xa();break;case 27:case 5:Js(i);break;case 4:$t(i,i.stateNode.containerInfo);break;case 10:ss(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Wf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(cs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?hx(t,i,a):(cs(i),t=vr(t,i,a),t!==null?t.sibling:null);cs(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(yo(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return px(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),re(It,It.current),l)break;return null;case 22:return i.lanes=0,ax(t,i,a,i.pendingProps);case 24:ss(i,Vt,t.memoizedState.cache)}return vr(t,i,a)}function gx(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Pt=!0;else{if(!bp(t,a)&&(i.flags&128)===0)return Pt=!1,OS(t,i,a);Pt=(t.flags&131072)!==0}else Pt=!1,Ge&&(i.flags&1048576)!==0&&$y(i,Gl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Ea(i.elementType),i.type=t,typeof t=="function")Tf(t)?(l=Ca(t,l),i.tag=1,i=ux(null,i,t,l,a)):(i.tag=0,i=fp(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===X){i.tag=11,i=ix(null,i,t,l,a);break e}else if(f===S){i.tag=14,i=rx(null,i,t,l,a);break e}}throw i=Ee(t)||t,Error(s(306,i,""))}}return i;case 0:return fp(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Ca(l,i.pendingProps),ux(t,i,l,f,a);case 3:e:{if($t(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var p=i.memoizedState;f=p.element,Lf(t,i),ec(i,l,null,a);var b=i.memoizedState;if(l=b.cache,ss(i,Vt,l),l!==p.cache&&Nf(i,[Vt],a,!0),Zl(),l=b.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=dx(t,i,l,a);break e}else if(l!==f){f=Zn(Error(s(424)),i),$l(f),i=dx(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,pt=ri(t.firstChild),sn=i,Ge=!0,is=null,ni=!0,a=a0(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(xa(),l===f){i=vr(t,i,a);break e}on(t,i,l,a)}i=i.child}return i;case 26:return ud(t,i),t===null?(a=C1(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ge||(a=i.type,t=i.pendingProps,l=wd(je.current).createElement(a),l[Mt]=i,l[Jt]=t,ln(l,a,t),Ot(l),i.stateNode=l):i.memoizedState=C1(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Js(i),t===null&&Ge&&(l=i.stateNode=S1(i.type,i.pendingProps,je.current),sn=i,ni=!0,f=pt,xs(i.type)?(Zp=f,pt=ri(l.firstChild)):pt=f),on(t,i,i.pendingProps.children,a),ud(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ge&&((f=l=pt)&&(l=fA(l,i.type,i.pendingProps,ni),l!==null?(i.stateNode=l,sn=i,pt=ri(l.firstChild),ni=!1,f=!0):f=!1),f||rs(i)),Js(i),f=i.type,p=i.pendingProps,b=t!==null?t.memoizedProps:null,l=p.children,Kp(f,p)?l=null:b!==null&&Kp(f,b)&&(i.flags|=32),i.memoizedState!==null&&(f=$f(t,i,RS,null,null,a),bc._currentValue=f),ud(t,i),on(t,i,l,a),i.child;case 6:return t===null&&Ge&&((t=a=pt)&&(a=pA(a,i.pendingProps,ni),a!==null?(i.stateNode=a,sn=i,pt=null,t=!0):t=!1),t||rs(i)),null;case 13:return hx(t,i,a);case 4:return $t(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Aa(i,null,l,a):on(t,i,l,a),i.child;case 11:return ix(t,i,i.type,i.pendingProps,a);case 7:return on(t,i,i.pendingProps,a),i.child;case 8:return on(t,i,i.pendingProps.children,a),i.child;case 12:return on(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,ss(i,i.type,l.value),on(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,ba(i),f=an(f),l=l(f),i.flags|=1,on(t,i,l,a),i.child;case 14:return rx(t,i,i.type,i.pendingProps,a);case 15:return sx(t,i,i.type,i.pendingProps,a);case 19:return px(t,i,a);case 31:return MS(t,i,a);case 22:return ax(t,i,a,i.pendingProps);case 24:return ba(i),l=an(Vt),t===null?(f=Of(),f===null&&(f=dt,p=Bf(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),i.memoizedState={parent:l,cache:f},Vf(i),ss(i,Vt,f)):((t.lanes&a)!==0&&(Lf(t,i),ec(i,null,null,a),Zl()),f=t.memoizedState,p=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),ss(i,Vt,l)):(l=p.cache,ss(i,Vt,l),l!==f.cache&&Nf(i,[Vt],a,!0))),on(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function br(t){t.flags|=4}function _p(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Ux())t.flags|=8192;else throw Sa=Yu,Ff}else t.flags&=-16777217}function mx(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!D1(i))if(Ux())t.flags|=8192;else throw Sa=Yu,Ff}function hd(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?xu():536870912,t.lanes|=i,jo|=i)}function ac(t,i){if(!Ge)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function gt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function FS(t,i,a){var l=i.pendingProps;switch(jf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(i),null;case 1:return gt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),mr(Vt),yt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(mo(i)?br(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Df())),gt(i),null;case 26:var f=i.type,p=i.memoizedState;return t===null?(br(i),p!==null?(gt(i),mx(i,p)):(gt(i),_p(i,f,null,l,a))):p?p!==t.memoizedState?(br(i),gt(i),mx(i,p)):(gt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&br(i),gt(i),_p(i,f,t,l,a)),null;case 27:if($a(i),a=je.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&br(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return gt(i),null}t=ce.current,mo(i)?Yy(i):(t=S1(f,l,a),i.stateNode=t,br(i))}return gt(i),null;case 5:if($a(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&br(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return gt(i),null}if(p=ce.current,mo(i))Yy(i);else{var b=wd(je.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof l.is=="string"?b.createElement("select",{is:l.is}):b.createElement("select"),l.multiple?p.multiple=!0:l.size&&(p.size=l.size);break;default:p=typeof l.is=="string"?b.createElement(f,{is:l.is}):b.createElement(f)}}p[Mt]=i,p[Jt]=l;e:for(b=i.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===i)break e;for(;b.sibling===null;){if(b.return===null||b.return===i)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}i.stateNode=p;e:switch(ln(p,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&br(i)}}return gt(i),_p(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&br(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=je.current,mo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=sn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Mt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||h1(t.nodeValue,a)),t||rs(i,!0)}else t=wd(t).createTextNode(l),t[Mt]=i,i.stateNode=t}return gt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=mo(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Mt]=i}else xa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;gt(i),t=!1}else a=Df(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Fn(i),i):(Fn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return gt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=mo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Mt]=i}else xa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;gt(i),f=!1}else f=Df(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Fn(i),i):(Fn(i),null)}return Fn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),hd(i,i.updateQueue),gt(i),null);case 4:return yt(),t===null&&qp(i.stateNode.containerInfo),gt(i),null;case 10:return mr(i.type),gt(i),null;case 19:if(B(It),l=i.memoizedState,l===null)return gt(i),null;if(f=(i.flags&128)!==0,p=l.rendering,p===null)if(f)ac(l,!1);else{if(Tt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(p=Zu(t),p!==null){for(i.flags|=128,ac(l,!1),t=p.updateQueue,i.updateQueue=t,hd(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Hy(a,t),a=a.sibling;return re(It,It.current&1|2),Ge&&pr(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&yn()>yd&&(i.flags|=128,f=!0,ac(l,!1),i.lanes=4194304)}else{if(!f)if(t=Zu(p),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,hd(i,t),ac(l,!0),l.tail===null&&l.tailMode==="hidden"&&!p.alternate&&!Ge)return gt(i),null}else 2*yn()-l.renderingStartTime>yd&&a!==536870912&&(i.flags|=128,f=!0,ac(l,!1),i.lanes=4194304);l.isBackwards?(p.sibling=i.child,i.child=p):(t=l.last,t!==null?t.sibling=p:i.child=p,l.last=p)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=yn(),t.sibling=null,a=It.current,re(It,f?a&1|2:a&1),Ge&&pr(i,l.treeForkCount),t):(gt(i),null);case 22:case 23:return Fn(i),Hf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(gt(i),i.subtreeFlags&6&&(i.flags|=8192)):gt(i),a=i.updateQueue,a!==null&&hd(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&B(_a),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),mr(Vt),gt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function VS(t,i){switch(jf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return mr(Vt),yt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return $a(i),null;case 31:if(i.memoizedState!==null){if(Fn(i),i.alternate===null)throw Error(s(340));xa()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Fn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));xa()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return B(It),null;case 4:return yt(),null;case 10:return mr(i.type),null;case 22:case 23:return Fn(i),Hf(),t!==null&&B(_a),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return mr(Vt),null;case 25:return null;default:return null}}function yx(t,i){switch(jf(i),i.tag){case 3:mr(Vt),yt();break;case 26:case 27:case 5:$a(i);break;case 4:yt();break;case 31:i.memoizedState!==null&&Fn(i);break;case 13:Fn(i);break;case 19:B(It);break;case 10:mr(i.type);break;case 22:case 23:Fn(i),Hf(),t!==null&&B(_a);break;case 24:mr(Vt)}}function oc(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var p=a.create,b=a.inst;l=p(),b.destroy=l}a=a.next}while(a!==f)}}catch(T){st(i,i.return,T)}}function ds(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&t)===t){var b=l.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,f=i;var V=a,Y=T;try{Y()}catch(te){st(f,V,te)}}}l=l.next}while(l!==p)}}catch(te){st(i,i.return,te)}}function xx(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{l0(i,a)}catch(l){st(t,t.return,l)}}}function vx(t,i,a){a.props=Ca(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){st(t,i,l)}}function lc(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){st(t,i,f)}}function Qi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){st(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){st(t,i,f)}else a.current=null}function bx(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){st(t,t.return,f)}}function Ep(t,i,a){try{var l=t.stateNode;oA(l,t.type,a,i),l[Jt]=i}catch(f){st(t,t.return,f)}}function _x(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&xs(t.type)||t.tag===4}function Sp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_x(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&xs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ap(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=pi));else if(l!==4&&(l===27&&xs(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Ap(t,i,a),t=t.sibling;t!==null;)Ap(t,i,a),t=t.sibling}function fd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&xs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(fd(t,i,a),t=t.sibling;t!==null;)fd(t,i,a),t=t.sibling}function Ex(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);ln(i,l,a),i[Mt]=t,i[Jt]=a}catch(p){st(t,t.return,p)}}var _r=!1,Ut=!1,Tp=!1,Sx=typeof WeakSet=="function"?WeakSet:Set,en=null;function LS(t,i){if(t=t.containerInfo,Gp=Nd,t=By(t),xf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var b=0,T=-1,V=-1,Y=0,te=0,se=t,Q=null;t:for(;;){for(var Z;se!==a||f!==0&&se.nodeType!==3||(T=b+f),se!==p||l!==0&&se.nodeType!==3||(V=b+l),se.nodeType===3&&(b+=se.nodeValue.length),(Z=se.firstChild)!==null;)Q=se,se=Z;for(;;){if(se===t)break t;if(Q===a&&++Y===f&&(T=b),Q===p&&++te===l&&(V=b),(Z=se.nextSibling)!==null)break;se=Q,Q=se.parentNode}se=Z}a=T===-1||V===-1?null:{start:T,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for($p={focusedElem:t,selectionRange:a},Nd=!1,en=i;en!==null;)if(i=en,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,en=t;else for(;en!==null;){switch(i=en,p=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,a=i,f=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var ye=Ca(a.type,f);t=l.getSnapshotBeforeUpdate(ye,p),l.__reactInternalSnapshotBeforeUpdate=t}catch(Se){st(a,a.return,Se)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Qp(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,en=t;break}en=i.return}}function Ax(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Sr(t,a),l&4&&oc(5,a);break;case 1:if(Sr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(b){st(a,a.return,b)}else{var f=Ca(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(b){st(a,a.return,b)}}l&64&&xx(a),l&512&&lc(a,a.return);break;case 3:if(Sr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{l0(t,i)}catch(b){st(a,a.return,b)}}break;case 27:i===null&&l&4&&Ex(a);case 26:case 5:Sr(t,a),i===null&&l&4&&bx(a),l&512&&lc(a,a.return);break;case 12:Sr(t,a);break;case 31:Sr(t,a),l&4&&wx(t,a);break;case 13:Sr(t,a),l&4&&Rx(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=YS.bind(null,a),gA(t,a))));break;case 22:if(l=a.memoizedState!==null||_r,!l){i=i!==null&&i.memoizedState!==null||Ut,f=_r;var p=Ut;_r=l,(Ut=i)&&!p?Ar(t,a,(a.subtreeFlags&8772)!==0):Sr(t,a),_r=f,Ut=p}break;case 30:break;default:Sr(t,a)}}function Tx(t){var i=t.alternate;i!==null&&(t.alternate=null,Tx(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ja(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,Sn=!1;function Er(t,i,a){for(a=a.child;a!==null;)Cx(t,i,a),a=a.sibling}function Cx(t,i,a){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(ui,a)}catch{}switch(a.tag){case 26:Ut||Qi(a,i),Er(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ut||Qi(a,i);var l=vt,f=Sn;xs(a.type)&&(vt=a.stateNode,Sn=!1),Er(t,i,a),yc(a.stateNode),vt=l,Sn=f;break;case 5:Ut||Qi(a,i);case 6:if(l=vt,f=Sn,vt=null,Er(t,i,a),vt=l,Sn=f,vt!==null)if(Sn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(a.stateNode)}catch(p){st(a,i,p)}else try{vt.removeChild(a.stateNode)}catch(p){st(a,i,p)}break;case 18:vt!==null&&(Sn?(t=vt,x1(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Oo(t)):x1(vt,a.stateNode));break;case 4:l=vt,f=Sn,vt=a.stateNode.containerInfo,Sn=!0,Er(t,i,a),vt=l,Sn=f;break;case 0:case 11:case 14:case 15:ds(2,a,i),Ut||ds(4,a,i),Er(t,i,a);break;case 1:Ut||(Qi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&vx(a,i,l)),Er(t,i,a);break;case 21:Er(t,i,a);break;case 22:Ut=(l=Ut)||a.memoizedState!==null,Er(t,i,a),Ut=l;break;default:Er(t,i,a)}}function wx(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Oo(t)}catch(a){st(i,i.return,a)}}}function Rx(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Oo(t)}catch(a){st(i,i.return,a)}}function PS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Sx),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Sx),i;default:throw Error(s(435,t.tag))}}function pd(t,i){var a=PS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=QS.bind(null,t,l);l.then(f,f)}})}function An(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],p=t,b=i,T=b;e:for(;T!==null;){switch(T.tag){case 27:if(xs(T.type)){vt=T.stateNode,Sn=!1;break e}break;case 5:vt=T.stateNode,Sn=!1;break e;case 3:case 4:vt=T.stateNode.containerInfo,Sn=!0;break e}T=T.return}if(vt===null)throw Error(s(160));Cx(p,b,f),vt=null,Sn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)jx(i,t),i=i.sibling}var bi=null;function jx(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:An(i,t),Tn(t),l&4&&(ds(3,t,t.return),oc(3,t),ds(5,t,t.return));break;case 1:An(i,t),Tn(t),l&512&&(Ut||a===null||Qi(a,a.return)),l&64&&_r&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=bi;if(An(i,t),Tn(t),l&512&&(Ut||a===null||Qi(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Mi]||p[Mt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),ln(p,l,a),p[Mt]=t,Ot(p),l=p;break e;case"link":var b=j1("link","href",f).get(l+(a.href||""));if(b){for(var T=0;T<b.length;T++)if(p=b[T],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(T,1);break t}}p=f.createElement(l),ln(p,l,a),f.head.appendChild(p);break;case"meta":if(b=j1("meta","content",f).get(l+(a.content||""))){for(T=0;T<b.length;T++)if(p=b[T],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(T,1);break t}}p=f.createElement(l),ln(p,l,a),f.head.appendChild(p);break;default:throw Error(s(468,l))}p[Mt]=t,Ot(p),l=p}t.stateNode=l}else I1(f,t.type,t.stateNode);else t.stateNode=R1(f,l,t.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?I1(f,t.type,t.stateNode):R1(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ep(t,t.memoizedProps,a.memoizedProps)}break;case 27:An(i,t),Tn(t),l&512&&(Ut||a===null||Qi(a,a.return)),a!==null&&l&4&&Ep(t,t.memoizedProps,a.memoizedProps);break;case 5:if(An(i,t),Tn(t),l&512&&(Ut||a===null||Qi(a,a.return)),t.flags&32){f=t.stateNode;try{En(f,"")}catch(ye){st(t,t.return,ye)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Ep(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Tp=!0);break;case 6:if(An(i,t),Tn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ye){st(t,t.return,ye)}}break;case 3:if(Id=null,f=bi,bi=Rd(i.containerInfo),An(i,t),bi=f,Tn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Oo(i.containerInfo)}catch(ye){st(t,t.return,ye)}Tp&&(Tp=!1,Ix(t));break;case 4:l=bi,bi=Rd(t.stateNode.containerInfo),An(i,t),Tn(t),bi=l;break;case 12:An(i,t),Tn(t);break;case 31:An(i,t),Tn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pd(t,l)));break;case 13:An(i,t),Tn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(md=yn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pd(t,l)));break;case 22:f=t.memoizedState!==null;var V=a!==null&&a.memoizedState!==null,Y=_r,te=Ut;if(_r=Y||f,Ut=te||V,An(i,t),Ut=te,_r=Y,Tn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||V||_r||Ut||wa(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){V=a=i;try{if(p=V.stateNode,f)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=V.stateNode;var se=V.memoizedProps.style,Q=se!=null&&se.hasOwnProperty("display")?se.display:null;T.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(ye){st(V,V.return,ye)}}}else if(i.tag===6){if(a===null){V=i;try{V.stateNode.nodeValue=f?"":V.memoizedProps}catch(ye){st(V,V.return,ye)}}}else if(i.tag===18){if(a===null){V=i;try{var Z=V.stateNode;f?v1(Z,!0):v1(V.stateNode,!1)}catch(ye){st(V,V.return,ye)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,pd(t,a))));break;case 19:An(i,t),Tn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pd(t,l)));break;case 30:break;case 21:break;default:An(i,t),Tn(t)}}function Tn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(_x(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,p=Sp(t);fd(t,p,f);break;case 5:var b=a.stateNode;a.flags&32&&(En(b,""),a.flags&=-33);var T=Sp(t);fd(t,T,b);break;case 3:case 4:var V=a.stateNode.containerInfo,Y=Sp(t);Ap(t,Y,V);break;default:throw Error(s(161))}}catch(te){st(t,t.return,te)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ix(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ix(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Sr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ax(t,i.alternate,i),i=i.sibling}function wa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:ds(4,i,i.return),wa(i);break;case 1:Qi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&vx(i,i.return,a),wa(i);break;case 27:yc(i.stateNode);case 26:case 5:Qi(i,i.return),wa(i);break;case 22:i.memoizedState===null&&wa(i);break;case 30:wa(i);break;default:wa(i)}t=t.sibling}}function Ar(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,p=i,b=p.flags;switch(p.tag){case 0:case 11:case 15:Ar(f,p,a),oc(4,p);break;case 1:if(Ar(f,p,a),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){st(l,l.return,Y)}if(l=p,f=l.updateQueue,f!==null){var T=l.stateNode;try{var V=f.shared.hiddenCallbacks;if(V!==null)for(f.shared.hiddenCallbacks=null,f=0;f<V.length;f++)o0(V[f],T)}catch(Y){st(l,l.return,Y)}}a&&b&64&&xx(p),lc(p,p.return);break;case 27:Ex(p);case 26:case 5:Ar(f,p,a),a&&l===null&&b&4&&bx(p),lc(p,p.return);break;case 12:Ar(f,p,a);break;case 31:Ar(f,p,a),a&&b&4&&wx(f,p);break;case 13:Ar(f,p,a),a&&b&4&&Rx(f,p);break;case 22:p.memoizedState===null&&Ar(f,p,a),lc(p,p.return);break;case 30:break;default:Ar(f,p,a)}i=i.sibling}}function Cp(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Kl(a))}function wp(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Kl(t))}function _i(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Dx(t,i,a,l),i=i.sibling}function Dx(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:_i(t,i,a,l),f&2048&&oc(9,i);break;case 1:_i(t,i,a,l);break;case 3:_i(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Kl(t)));break;case 12:if(f&2048){_i(t,i,a,l),t=i.stateNode;try{var p=i.memoizedProps,b=p.id,T=p.onPostCommit;typeof T=="function"&&T(b,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(V){st(i,i.return,V)}}else _i(t,i,a,l);break;case 31:_i(t,i,a,l);break;case 13:_i(t,i,a,l);break;case 23:break;case 22:p=i.stateNode,b=i.alternate,i.memoizedState!==null?p._visibility&2?_i(t,i,a,l):cc(t,i):p._visibility&2?_i(t,i,a,l):(p._visibility|=2,Co(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Cp(b,i);break;case 24:_i(t,i,a,l),f&2048&&wp(i.alternate,i);break;default:_i(t,i,a,l)}}function Co(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var p=t,b=i,T=a,V=l,Y=b.flags;switch(b.tag){case 0:case 11:case 15:Co(p,b,T,V,f),oc(8,b);break;case 23:break;case 22:var te=b.stateNode;b.memoizedState!==null?te._visibility&2?Co(p,b,T,V,f):cc(p,b):(te._visibility|=2,Co(p,b,T,V,f)),f&&Y&2048&&Cp(b.alternate,b);break;case 24:Co(p,b,T,V,f),f&&Y&2048&&wp(b.alternate,b);break;default:Co(p,b,T,V,f)}i=i.sibling}}function cc(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:cc(a,l),f&2048&&Cp(l.alternate,l);break;case 24:cc(a,l),f&2048&&wp(l.alternate,l);break;default:cc(a,l)}i=i.sibling}}var uc=8192;function wo(t,i,a){if(t.subtreeFlags&uc)for(t=t.child;t!==null;)kx(t,i,a),t=t.sibling}function kx(t,i,a){switch(t.tag){case 26:wo(t,i,a),t.flags&uc&&t.memoizedState!==null&&wA(a,bi,t.memoizedState,t.memoizedProps);break;case 5:wo(t,i,a);break;case 3:case 4:var l=bi;bi=Rd(t.stateNode.containerInfo),wo(t,i,a),bi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=uc,uc=16777216,wo(t,i,a),uc=l):wo(t,i,a));break;default:wo(t,i,a)}}function zx(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function dc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];en=l,Bx(l,t)}zx(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Nx(t),t=t.sibling}function Nx(t){switch(t.tag){case 0:case 11:case 15:dc(t),t.flags&2048&&ds(9,t,t.return);break;case 3:dc(t);break;case 12:dc(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,gd(t)):dc(t);break;default:dc(t)}}function gd(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];en=l,Bx(l,t)}zx(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:ds(8,i,i.return),gd(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,gd(i));break;default:gd(i)}t=t.sibling}}function Bx(t,i){for(;en!==null;){var a=en;switch(a.tag){case 0:case 11:case 15:ds(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Kl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,en=l;else e:for(a=t;en!==null;){l=en;var f=l.sibling,p=l.return;if(Tx(l),l===a){en=null;break e}if(f!==null){f.return=p,en=f;break e}en=p}}}var US={getCacheForType:function(t){var i=an(Vt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return an(Vt).controller.signal}},qS=typeof WeakMap=="function"?WeakMap:Map,et=0,dt=null,Ve=null,Pe=0,rt=0,Vn=null,hs=!1,Ro=!1,Rp=!1,Tr=0,Tt=0,fs=0,Ra=0,jp=0,Ln=0,jo=0,hc=null,Cn=null,Ip=!1,md=0,Mx=0,yd=1/0,xd=null,ps=null,Yt=0,gs=null,Io=null,Cr=0,Dp=0,kp=null,Ox=null,fc=0,zp=null;function Pn(){return(et&2)!==0&&Pe!==0?Pe&-Pe:ee.T!==null?Vp():vu()}function Fx(){if(Ln===0)if((Pe&536870912)===0||Ge){var t=ta;ta<<=1,(ta&3932160)===0&&(ta=262144),Ln=t}else Ln=536870912;return t=On.current,t!==null&&(t.flags|=32),Ln}function wn(t,i,a){(t===dt&&(rt===2||rt===9)||t.cancelPendingCommit!==null)&&(Do(t,0),ms(t,Pe,Ln,!1)),na(t,a),((et&2)===0||t!==dt)&&(t===dt&&((et&2)===0&&(Ra|=a),Tt===4&&ms(t,Pe,Ln,!1)),Xi(t))}function Vx(t,i,a){if((et&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||di(t,i),f=l?GS(t,i):Bp(t,i,!0),p=l;do{if(f===0){Ro&&!l&&ms(t,i,0,!1);break}else{if(a=t.current.alternate,p&&!HS(a)){f=Bp(t,i,!1),p=!1;continue}if(f===2){if(p=i,t.errorRecoveryDisabledLanes&p)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;e:{var T=t;f=hc;var V=T.current.memoizedState.isDehydrated;if(V&&(Do(T,b).flags|=256),b=Bp(T,b,!1),b!==2){if(Rp&&!V){T.errorRecoveryDisabledLanes|=p,Ra|=p,f=4;break e}p=Cn,Cn=f,p!==null&&(Cn===null?Cn=p:Cn.push.apply(Cn,p))}f=b}if(p=!1,f!==2)continue}}if(f===1){Do(t,0),ms(t,i,0,!0);break}e:{switch(l=t,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ms(l,i,Ln,!hs);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=md+300-yn(),10<f)){if(ms(l,i,Ln,!hs),zi(l,0,!0)!==0)break e;Cr=i,l.timeoutHandle=m1(Lx.bind(null,l,a,Cn,xd,Ip,i,Ln,Ra,jo,hs,p,"Throttled",-0,0),f);break e}Lx(l,a,Cn,xd,Ip,i,Ln,Ra,jo,hs,p,null,-0,0)}}break}while(!0);Xi(t)}function Lx(t,i,a,l,f,p,b,T,V,Y,te,se,Q,Z){if(t.timeoutHandle=-1,se=i.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pi},kx(i,p,se);var ye=(p&62914560)===p?md-yn():(p&4194048)===p?Mx-yn():0;if(ye=RA(se,ye),ye!==null){Cr=p,t.cancelPendingCommit=ye(Kx.bind(null,t,i,p,a,l,f,b,T,V,te,se,null,Q,Z)),ms(t,p,b,!Y);return}}Kx(t,i,p,a,l,f,b,T,V)}function HS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],p=f.getSnapshot;f=f.value;try{if(!Bn(p(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ms(t,i,a,l){i&=~jp,i&=~Ra,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var p=31-Rt(f),b=1<<p;l[p]=-1,f&=~b}a!==0&&ia(t,a,i)}function vd(){return(et&6)===0?(pc(0),!1):!0}function Np(){if(Ve!==null){if(rt===0)var t=Ve.return;else t=Ve,gr=va=null,Qf(t),_o=null,Ql=0,t=Ve;for(;t!==null;)yx(t.alternate,t),t=t.return;Ve=null}}function Do(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,uA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Cr=0,Np(),dt=t,Ve=a=fr(t.current,null),Pe=i,rt=0,Vn=null,hs=!1,Ro=di(t,i),Rp=!1,jo=Ln=jp=Ra=fs=Tt=0,Cn=hc=null,Ip=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-Rt(l),p=1<<f;i|=t[f],l&=~p}return Tr=i,Lu(),a}function Px(t,i){Oe=null,ee.H=rc,i===bo||i===Ku?(i=i0(),rt=3):i===Ff?(i=i0(),rt=4):rt=i===hp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Vn=i,Ve===null&&(Tt=1,ld(t,Zn(i,t.current)))}function Ux(){var t=On.current;return t===null?!0:(Pe&4194048)===Pe?ii===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===ii:!1}function qx(){var t=ee.H;return ee.H=rc,t===null?rc:t}function Hx(){var t=ee.A;return ee.A=US,t}function bd(){Tt=4,hs||(Pe&4194048)!==Pe&&On.current!==null||(Ro=!0),(fs&134217727)===0&&(Ra&134217727)===0||dt===null||ms(dt,Pe,Ln,!1)}function Bp(t,i,a){var l=et;et|=2;var f=qx(),p=Hx();(dt!==t||Pe!==i)&&(xd=null,Do(t,i)),i=!1;var b=Tt;e:do try{if(rt!==0&&Ve!==null){var T=Ve,V=Vn;switch(rt){case 8:Np(),b=6;break e;case 3:case 2:case 9:case 6:On.current===null&&(i=!0);var Y=rt;if(rt=0,Vn=null,ko(t,T,V,Y),a&&Ro){b=0;break e}break;default:Y=rt,rt=0,Vn=null,ko(t,T,V,Y)}}WS(),b=Tt;break}catch(te){Px(t,te)}while(!0);return i&&t.shellSuspendCounter++,gr=va=null,et=l,ee.H=f,ee.A=p,Ve===null&&(dt=null,Pe=0,Lu()),b}function WS(){for(;Ve!==null;)Wx(Ve)}function GS(t,i){var a=et;et|=2;var l=qx(),f=Hx();dt!==t||Pe!==i?(xd=null,yd=yn()+500,Do(t,i)):Ro=di(t,i);e:do try{if(rt!==0&&Ve!==null){i=Ve;var p=Vn;t:switch(rt){case 1:rt=0,Vn=null,ko(t,i,p,1);break;case 2:case 9:if(t0(p)){rt=0,Vn=null,Gx(i);break}i=function(){rt!==2&&rt!==9||dt!==t||(rt=7),Xi(t)},p.then(i,i);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:t0(p)?(rt=0,Vn=null,Gx(i)):(rt=0,Vn=null,ko(t,i,p,7));break;case 5:var b=null;switch(Ve.tag){case 26:b=Ve.memoizedState;case 5:case 27:var T=Ve;if(b?D1(b):T.stateNode.complete){rt=0,Vn=null;var V=T.sibling;if(V!==null)Ve=V;else{var Y=T.return;Y!==null?(Ve=Y,_d(Y)):Ve=null}break t}}rt=0,Vn=null,ko(t,i,p,5);break;case 6:rt=0,Vn=null,ko(t,i,p,6);break;case 8:Np(),Tt=6;break e;default:throw Error(s(462))}}$S();break}catch(te){Px(t,te)}while(!0);return gr=va=null,ee.H=l,ee.A=f,et=a,Ve!==null?0:(dt=null,Pe=0,Lu(),Tt)}function $S(){for(;Ve!==null&&!df();)Wx(Ve)}function Wx(t){var i=gx(t.alternate,t,Tr);t.memoizedProps=t.pendingProps,i===null?_d(t):Ve=i}function Gx(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=cx(a,i,i.pendingProps,i.type,void 0,Pe);break;case 11:i=cx(a,i,i.pendingProps,i.type.render,i.ref,Pe);break;case 5:Qf(i);default:yx(a,i),i=Ve=Hy(i,Tr),i=gx(a,i,Tr)}t.memoizedProps=t.pendingProps,i===null?_d(t):Ve=i}function ko(t,i,a,l){gr=va=null,Qf(i),_o=null,Ql=0;var f=i.return;try{if(BS(t,f,i,a,Pe)){Tt=1,ld(t,Zn(a,t.current)),Ve=null;return}}catch(p){if(f!==null)throw Ve=f,p;Tt=1,ld(t,Zn(a,t.current)),Ve=null;return}i.flags&32768?(Ge||l===1?t=!0:Ro||(Pe&536870912)!==0?t=!1:(hs=t=!0,(l===2||l===9||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),$x(i,t)):_d(i)}function _d(t){var i=t;do{if((i.flags&32768)!==0){$x(i,hs);return}t=i.return;var a=FS(i.alternate,i,Tr);if(a!==null){Ve=a;return}if(i=i.sibling,i!==null){Ve=i;return}Ve=i=t}while(i!==null);Tt===0&&(Tt=5)}function $x(t,i){do{var a=VS(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);Tt=6,Ve=null}function Kx(t,i,a,l,f,p,b,T,V){t.cancelPendingCommit=null;do Ed();while(Yt!==0);if((et&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(p=i.lanes|i.childLanes,p|=Sf,pf(t,a,p,b,T,V),t===dt&&(Ve=dt=null,Pe=0),Io=i,gs=t,Cr=a,Dp=p,kp=f,Ox=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,XS(Gr,function(){return Zx(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=ee.T,ee.T=null,f=fe.p,fe.p=2,b=et,et|=4;try{LS(t,i,a)}finally{et=b,fe.p=f,ee.T=l}}Yt=1,Yx(),Qx(),Xx()}}function Yx(){if(Yt===1){Yt=0;var t=gs,i=Io,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=ee.T,ee.T=null;var l=fe.p;fe.p=2;var f=et;et|=4;try{jx(i,t);var p=$p,b=By(t.containerInfo),T=p.focusedElem,V=p.selectionRange;if(b!==T&&T&&T.ownerDocument&&Ny(T.ownerDocument.documentElement,T)){if(V!==null&&xf(T)){var Y=V.start,te=V.end;if(te===void 0&&(te=Y),"selectionStart"in T)T.selectionStart=Y,T.selectionEnd=Math.min(te,T.value.length);else{var se=T.ownerDocument||document,Q=se&&se.defaultView||window;if(Q.getSelection){var Z=Q.getSelection(),ye=T.textContent.length,Se=Math.min(V.start,ye),ut=V.end===void 0?Se:Math.min(V.end,ye);!Z.extend&&Se>ut&&(b=ut,ut=Se,Se=b);var H=zy(T,Se),q=zy(T,ut);if(H&&q&&(Z.rangeCount!==1||Z.anchorNode!==H.node||Z.anchorOffset!==H.offset||Z.focusNode!==q.node||Z.focusOffset!==q.offset)){var K=se.createRange();K.setStart(H.node,H.offset),Z.removeAllRanges(),Se>ut?(Z.addRange(K),Z.extend(q.node,q.offset)):(K.setEnd(q.node,q.offset),Z.addRange(K))}}}}for(se=[],Z=T;Z=Z.parentNode;)Z.nodeType===1&&se.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<se.length;T++){var ne=se[T];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Nd=!!Gp,$p=Gp=null}finally{et=f,fe.p=l,ee.T=a}}t.current=i,Yt=2}}function Qx(){if(Yt===2){Yt=0;var t=gs,i=Io,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=ee.T,ee.T=null;var l=fe.p;fe.p=2;var f=et;et|=4;try{Ax(t,i.alternate,i)}finally{et=f,fe.p=l,ee.T=a}}Yt=3}}function Xx(){if(Yt===4||Yt===3){Yt=0,hu();var t=gs,i=Io,a=Cr,l=Ox;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Yt=5:(Yt=0,Io=gs=null,Jx(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(ps=null),cr(a),i=i.stateNode,nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(ui,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=ee.T,f=fe.p,fe.p=2,ee.T=null;try{for(var p=t.onRecoverableError,b=0;b<l.length;b++){var T=l[b];p(T.value,{componentStack:T.stack})}}finally{ee.T=i,fe.p=f}}(Cr&3)!==0&&Ed(),Xi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===zp?fc++:(fc=0,zp=t):fc=0,pc(0)}}function Jx(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Kl(i)))}function Ed(){return Yx(),Qx(),Xx(),Zx()}function Zx(){if(Yt!==5)return!1;var t=gs,i=Dp;Dp=0;var a=cr(Cr),l=ee.T,f=fe.p;try{fe.p=32>a?32:a,ee.T=null,a=kp,kp=null;var p=gs,b=Cr;if(Yt=0,Io=gs=null,Cr=0,(et&6)!==0)throw Error(s(331));var T=et;if(et|=4,Nx(p.current),Dx(p,p.current,b,a),et=T,pc(0,!1),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(ui,p)}catch{}return!0}finally{fe.p=f,ee.T=l,Jx(t,i)}}function e1(t,i,a){i=Zn(a,i),i=dp(t.stateNode,i,2),t=ls(t,i,2),t!==null&&(na(t,2),Xi(t))}function st(t,i,a){if(t.tag===3)e1(t,t,a);else for(;i!==null;){if(i.tag===3){e1(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ps===null||!ps.has(l))){t=Zn(a,t),a=tx(2),l=ls(i,a,2),l!==null&&(nx(a,l,i,t),na(l,2),Xi(l));break}}i=i.return}}function Mp(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new qS;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Rp=!0,f.add(a),t=KS.bind(null,t,i,a),i.then(t,t))}function KS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,dt===t&&(Pe&a)===a&&(Tt===4||Tt===3&&(Pe&62914560)===Pe&&300>yn()-md?(et&2)===0&&Do(t,0):jp|=a,jo===Pe&&(jo=0)),Xi(t)}function t1(t,i){i===0&&(i=xu()),t=ma(t,i),t!==null&&(na(t,i),Xi(t))}function YS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),t1(t,a)}function QS(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),t1(t,a)}function XS(t,i){return Kt(t,i)}var Sd=null,zo=null,Op=!1,Ad=!1,Fp=!1,ys=0;function Xi(t){t!==zo&&t.next===null&&(zo===null?Sd=zo=t:zo=zo.next=t),Ad=!0,Op||(Op=!0,ZS())}function pc(t,i){if(!Fp&&Ad){Fp=!0;do for(var a=!1,l=Sd;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var b=l.suspendedLanes,T=l.pingedLanes;p=(1<<31-Rt(42|t)+1)-1,p&=f&~(b&~T),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,s1(l,p))}else p=Pe,p=zi(l,l===dt?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||di(l,p)||(a=!0,s1(l,p));l=l.next}while(a);Fp=!1}}function JS(){n1()}function n1(){Ad=Op=!1;var t=0;ys!==0&&cA()&&(t=ys);for(var i=yn(),a=null,l=Sd;l!==null;){var f=l.next,p=i1(l,i);p===0?(l.next=null,a===null?Sd=f:a.next=f,f===null&&(zo=a)):(a=l,(t!==0||(p&3)!==0)&&(Ad=!0)),l=f}Yt!==0&&Yt!==5||pc(t),ys!==0&&(ys=0)}function i1(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var b=31-Rt(p),T=1<<b,V=f[b];V===-1?((T&a)===0||(T&l)!==0)&&(f[b]=ff(T,i)):V<=i&&(t.expiredLanes|=T),p&=~T}if(i=dt,a=Pe,a=zi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(rt===2||rt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Wr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||di(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Wr(l),cr(a)){case 2:case 8:a=Al;break;case 32:a=Gr;break;case 268435456:a=fu;break;default:a=Gr}return l=r1.bind(null,t),a=Kt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Wr(l),t.callbackPriority=2,t.callbackNode=null,2}function r1(t,i){if(Yt!==0&&Yt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ed()&&t.callbackNode!==a)return null;var l=Pe;return l=zi(t,t===dt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Vx(t,l,i),i1(t,yn()),t.callbackNode!=null&&t.callbackNode===a?r1.bind(null,t):null)}function s1(t,i){if(Ed())return null;Vx(t,i,!0)}function ZS(){dA(function(){(et&6)!==0?Kt(Sl,JS):n1()})}function Vp(){if(ys===0){var t=xo;t===0&&(t=Di,Di<<=1,(Di&261888)===0&&(Di=256)),ys=t}return ys}function a1(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:no(""+t)}function o1(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function eA(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var p=a1((f[Jt]||null).action),b=l.submitter;b&&(i=(i=b[Jt]||null)?a1(i.formAction):b.getAttribute("formAction"),i!==null&&(p=i,b=null));var T=new Hi("action","action",null,l,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ys!==0){var V=b?o1(f,b):new FormData(f);sp(a,{pending:!0,data:V,method:f.method,action:p},null,V)}}else typeof p=="function"&&(T.preventDefault(),V=b?o1(f,b):new FormData(f),sp(a,{pending:!0,data:V,method:f.method,action:p},p,V))},currentTarget:f}]})}}for(var Lp=0;Lp<Ef.length;Lp++){var Pp=Ef[Lp],tA=Pp.toLowerCase(),nA=Pp[0].toUpperCase()+Pp.slice(1);vi(tA,"on"+nA)}vi(Fy,"onAnimationEnd"),vi(Vy,"onAnimationIteration"),vi(Ly,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(xS,"onTransitionRun"),vi(vS,"onTransitionStart"),vi(bS,"onTransitionCancel"),vi(Py,"onTransitionEnd"),Li("onMouseEnter",["mouseout","mouseover"]),Li("onMouseLeave",["mouseout","mouseover"]),Li("onPointerEnter",["pointerout","pointerover"]),Li("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gc));function l1(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var p=void 0;if(i)for(var b=l.length-1;0<=b;b--){var T=l[b],V=T.instance,Y=T.currentTarget;if(T=T.listener,V!==p&&f.isPropagationStopped())break e;p=T,f.currentTarget=Y;try{p(f)}catch(te){Vu(te)}f.currentTarget=null,p=V}else for(b=0;b<l.length;b++){if(T=l[b],V=T.instance,Y=T.currentTarget,T=T.listener,V!==p&&f.isPropagationStopped())break e;p=T,f.currentTarget=Y;try{p(f)}catch(te){Vu(te)}f.currentTarget=null,p=V}}}}function Le(t,i){var a=i[Xa];a===void 0&&(a=i[Xa]=new Set);var l=t+"__bubble";a.has(l)||(c1(i,t,2,!1),a.add(l))}function Up(t,i,a){var l=0;i&&(l|=4),c1(a,t,l,i)}var Td="_reactListening"+Math.random().toString(36).slice(2);function qp(t){if(!t[Td]){t[Td]=!0,wl.forEach(function(a){a!=="selectionchange"&&(iA.has(a)||Up(a,!1,t),Up(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Td]||(i[Td]=!0,Up("selectionchange",!1,i))}}function c1(t,i,a,l){switch(F1(i)){case 2:var f=DA;break;case 8:f=kA;break;default:f=rg}a=f.bind(null,i,a,t),f=void 0,!la||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Hp(t,i,a,l,f){var p=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var T=l.stateNode.containerInfo;if(T===f)break;if(b===4)for(b=l.return;b!==null;){var V=b.tag;if((V===3||V===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;T!==null;){if(b=Oi(T),b===null)return;if(V=b.tag,V===5||V===6||V===26||V===27){l=p=b;continue e}T=T.parentNode}}l=l.return}Jr(function(){var Y=p,te=Yn(a),se=[];e:{var Q=Uy.get(t);if(Q!==void 0){var Z=Hi,ye=t;switch(t){case"keypress":if(ua(a)===0)break e;case"keydown":case"keyup":Z=Mu;break;case"focusin":ye="focus",Z=ha;break;case"focusout":ye="blur",Z=ha;break;case"beforeblur":case"afterblur":Z=ha;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=v;break;case Fy:case Vy:case Ly:Z=ju;break;case Py:Z=R;break;case"scroll":case"scrollend":Z=Vl;break;case"wheel":Z=J;break;case"copy":case"cut":case"paste":Z=Iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=hr;break;case"toggle":case"beforetoggle":Z=Me}var Se=(i&4)!==0,ut=!Se&&(t==="scroll"||t==="scrollend"),H=Se?Q!==null?Q+"Capture":null:Q;Se=[];for(var q=Y,K;q!==null;){var ne=q;if(K=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||K===null||H===null||(ne=gi(q,H),ne!=null&&Se.push(mc(q,ne,K))),ut)break;q=q.return}0<Se.length&&(Q=new Z(Q,ye,null,a,te),se.push({event:Q,listeners:Se}))}}if((i&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",Z=t==="mouseout"||t==="pointerout",Q&&a!==Ml&&(ye=a.relatedTarget||a.fromElement)&&(Oi(ye)||ye[Bi]))break e;if((Z||Q)&&(Q=te.window===te?te:(Q=te.ownerDocument)?Q.defaultView||Q.parentWindow:window,Z?(ye=a.relatedTarget||a.toElement,Z=Y,ye=ye?Oi(ye):null,ye!==null&&(ut=u(ye),Se=ye.tag,ye!==ut||Se!==5&&Se!==27&&Se!==6)&&(ye=null)):(Z=null,ye=Y),Z!==ye)){if(Se=Ll,ne="onMouseLeave",H="onMouseEnter",q="mouse",(t==="pointerout"||t==="pointerover")&&(Se=hr,ne="onPointerLeave",H="onPointerEnter",q="pointer"),ut=Z==null?Q:zn(Z),K=ye==null?Q:zn(ye),Q=new Se(ne,q+"leave",Z,a,te),Q.target=ut,Q.relatedTarget=K,ne=null,Oi(te)===Y&&(Se=new Se(H,q+"enter",ye,a,te),Se.target=K,Se.relatedTarget=ut,ne=Se),ut=ne,Z&&ye)t:{for(Se=rA,H=Z,q=ye,K=0,ne=H;ne;ne=Se(ne))K++;ne=0;for(var be=q;be;be=Se(be))ne++;for(;0<K-ne;)H=Se(H),K--;for(;0<ne-K;)q=Se(q),ne--;for(;K--;){if(H===q||q!==null&&H===q.alternate){Se=H;break t}H=Se(H),q=Se(q)}Se=null}else Se=null;Z!==null&&u1(se,Q,Z,Se,!1),ye!==null&&ut!==null&&u1(se,ut,ye,Se,!0)}}e:{if(Q=Y?zn(Y):window,Z=Q.nodeName&&Q.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Q.type==="file")var Ye=wy;else if(Ty(Q))if(Ry)Ye=gS;else{Ye=fS;var xe=hS}else Z=Q.nodeName,!Z||Z.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Y&&to(Y.elementType)&&(Ye=wy):Ye=pS;if(Ye&&(Ye=Ye(t,Y))){Cy(se,Ye,a,te);break e}xe&&xe(t,Q,Y),t==="focusout"&&Y&&Q.type==="number"&&Y.memoizedProps.value!=null&&zl(Q,"number",Q.value)}switch(xe=Y?zn(Y):window,t){case"focusin":(Ty(xe)||xe.contentEditable==="true")&&(co=xe,vf=Y,Wl=null);break;case"focusout":Wl=vf=co=null;break;case"mousedown":bf=!0;break;case"contextmenu":case"mouseup":case"dragend":bf=!1,My(se,a,te);break;case"selectionchange":if(yS)break;case"keydown":case"keyup":My(se,a,te)}var Fe;if(Ze)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else lo?fa(t,a)&&(Ue="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ue="onCompositionStart");Ue&&($i&&a.locale!=="ko"&&(lo||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&lo&&(Fe=Fl()):(qi=te,Ol="value"in qi?qi.value:qi.textContent,lo=!0)),xe=Cd(Y,Ue),0<xe.length&&(Ue=new Gi(Ue,t,null,a,te),se.push({event:Ue,listeners:xe}),Fe?Ue.data=Fe:(Fe=oo(a),Fe!==null&&(Ue.data=Fe)))),(Fe=Xn?lS(t,a):cS(t,a))&&(Ue=Cd(Y,"onBeforeInput"),0<Ue.length&&(xe=new Gi("onBeforeInput","beforeinput",null,a,te),se.push({event:xe,listeners:Ue}),xe.data=Fe)),eA(se,t,Y,a,te)}l1(se,i)})}function mc(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Cd(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=gi(t,a),f!=null&&l.unshift(mc(t,f,p)),f=gi(t,i),f!=null&&l.push(mc(t,f,p))),t.tag===3)return l;t=t.return}return[]}function rA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function u1(t,i,a,l,f){for(var p=i._reactName,b=[];a!==null&&a!==l;){var T=a,V=T.alternate,Y=T.stateNode;if(T=T.tag,V!==null&&V===l)break;T!==5&&T!==26&&T!==27||Y===null||(V=Y,f?(Y=gi(a,p),Y!=null&&b.unshift(mc(a,Y,V))):f||(Y=gi(a,p),Y!=null&&b.push(mc(a,Y,V)))),a=a.return}b.length!==0&&t.push({event:i,listeners:b})}var sA=/\r\n?/g,aA=/\u0000|\uFFFD/g;function d1(t){return(typeof t=="string"?t:""+t).replace(sA,`
`).replace(aA,"")}function h1(t,i){return i=d1(i),d1(t)===i}function ct(t,i,a,l,f,p){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||En(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&En(t,""+l);break;case"className":Nn(t,"class",l);break;case"tabIndex":Nn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Nn(t,a,l);break;case"style":Bl(t,l,p);break;case"data":if(i!=="object"){Nn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=no(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(i!=="input"&&ct(t,i,"name",f.name,f,null),ct(t,i,"formEncType",f.formEncType,f,null),ct(t,i,"formMethod",f.formMethod,f,null),ct(t,i,"formTarget",f.formTarget,f,null)):(ct(t,i,"encType",f.encType,f,null),ct(t,i,"method",f.method,f,null),ct(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=no(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=pi);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=no(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Le("beforetoggle",t),Le("toggle",t),Za(t,"popover",l);break;case"xlinkActuate":Ft(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ft(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ft(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ft(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ft(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ft(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Za(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Cu.get(a)||a,Za(t,a,l))}}function Wp(t,i,a,l,f,p){switch(a){case"style":Bl(t,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?En(t,l):(typeof l=="number"||typeof l=="bigint")&&En(t,""+l);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"onClick":l!=null&&(t.onclick=pi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),p=t[Jt]||null,p=p!=null?p[a]:null,typeof p=="function"&&t.removeEventListener(i,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Za(t,a,l)}}}function ln(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var l=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var b=a[p];if(b!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ct(t,i,p,b,a,null)}}f&&ct(t,i,"srcSet",a.srcSet,a,null),l&&ct(t,i,"src",a.src,a,null);return;case"input":Le("invalid",t);var T=p=b=f=null,V=null,Y=null;for(l in a)if(a.hasOwnProperty(l)){var te=a[l];if(te!=null)switch(l){case"name":f=te;break;case"type":b=te;break;case"checked":V=te;break;case"defaultChecked":Y=te;break;case"value":p=te;break;case"defaultValue":T=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,i));break;default:ct(t,i,l,te,a,null)}}Su(t,p,T,V,Y,b,f,!1);return;case"select":Le("invalid",t),l=b=p=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":p=T;break;case"defaultValue":b=T;break;case"multiple":l=T;default:ct(t,i,f,T,a,null)}i=p,a=b,t.multiple=!!l,i!=null?Kr(t,!!l,i,!1):a!=null&&Kr(t,!!l,a,!0);return;case"textarea":Le("invalid",t),p=f=l=null;for(b in a)if(a.hasOwnProperty(b)&&(T=a[b],T!=null))switch(b){case"value":l=T;break;case"defaultValue":f=T;break;case"children":p=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:ct(t,i,b,T,a,null)}Yr(t,l,f,p);return;case"option":for(V in a)a.hasOwnProperty(V)&&(l=a[V],l!=null)&&(V==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":ct(t,i,V,l,a,null));return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(l=0;l<gc.length;l++)Le(gc[l],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in a)if(a.hasOwnProperty(Y)&&(l=a[Y],l!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ct(t,i,Y,l,a,null)}return;default:if(to(i)){for(te in a)a.hasOwnProperty(te)&&(l=a[te],l!==void 0&&Wp(t,i,te,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&ct(t,i,T,l,a,null))}function oA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,b=null,T=null,V=null,Y=null,te=null;for(Z in a){var se=a[Z];if(a.hasOwnProperty(Z)&&se!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":V=se;default:l.hasOwnProperty(Z)||ct(t,i,Z,null,l,se)}}for(var Q in l){var Z=l[Q];if(se=a[Q],l.hasOwnProperty(Q)&&(Z!=null||se!=null))switch(Q){case"type":p=Z;break;case"name":f=Z;break;case"checked":Y=Z;break;case"defaultChecked":te=Z;break;case"value":b=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,i));break;default:Z!==se&&ct(t,i,Q,Z,l,se)}}eo(t,b,T,V,Y,te,p,f);return;case"select":Z=b=T=Q=null;for(p in a)if(V=a[p],a.hasOwnProperty(p)&&V!=null)switch(p){case"value":break;case"multiple":Z=V;default:l.hasOwnProperty(p)||ct(t,i,p,null,l,V)}for(f in l)if(p=l[f],V=a[f],l.hasOwnProperty(f)&&(p!=null||V!=null))switch(f){case"value":Q=p;break;case"defaultValue":T=p;break;case"multiple":b=p;default:p!==V&&ct(t,i,f,p,l,V)}i=T,a=b,l=Z,Q!=null?Kr(t,!!a,Q,!1):!!l!=!!a&&(i!=null?Kr(t,!!a,i,!0):Kr(t,!!a,a?[]:"",!1));return;case"textarea":Z=Q=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ct(t,i,T,null,l,f)}for(b in l)if(f=l[b],p=a[b],l.hasOwnProperty(b)&&(f!=null||p!=null))switch(b){case"value":Q=f;break;case"defaultValue":Z=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&ct(t,i,b,f,l,p)}Au(t,Q,Z);return;case"option":for(var ye in a)Q=a[ye],a.hasOwnProperty(ye)&&Q!=null&&!l.hasOwnProperty(ye)&&(ye==="selected"?t.selected=!1:ct(t,i,ye,null,l,Q));for(V in l)Q=l[V],Z=a[V],l.hasOwnProperty(V)&&Q!==Z&&(Q!=null||Z!=null)&&(V==="selected"?t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":ct(t,i,V,Q,l,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)Q=a[Se],a.hasOwnProperty(Se)&&Q!=null&&!l.hasOwnProperty(Se)&&ct(t,i,Se,null,l,Q);for(Y in l)if(Q=l[Y],Z=a[Y],l.hasOwnProperty(Y)&&Q!==Z&&(Q!=null||Z!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:ct(t,i,Y,Q,l,Z)}return;default:if(to(i)){for(var ut in a)Q=a[ut],a.hasOwnProperty(ut)&&Q!==void 0&&!l.hasOwnProperty(ut)&&Wp(t,i,ut,void 0,l,Q);for(te in l)Q=l[te],Z=a[te],!l.hasOwnProperty(te)||Q===Z||Q===void 0&&Z===void 0||Wp(t,i,te,Q,l,Z);return}}for(var H in a)Q=a[H],a.hasOwnProperty(H)&&Q!=null&&!l.hasOwnProperty(H)&&ct(t,i,H,null,l,Q);for(se in l)Q=l[se],Z=a[se],!l.hasOwnProperty(se)||Q===Z||Q==null&&Z==null||ct(t,i,se,Q,l,Z)}function f1(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],p=f.transferSize,b=f.initiatorType,T=f.duration;if(p&&T&&f1(b)){for(b=0,T=f.responseEnd,l+=1;l<a.length;l++){var V=a[l],Y=V.startTime;if(Y>T)break;var te=V.transferSize,se=V.initiatorType;te&&f1(se)&&(V=V.responseEnd,b+=te*(V<T?1:(T-Y)/(V-Y)))}if(--l,i+=8*(p+b)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Gp=null,$p=null;function wd(t){return t.nodeType===9?t:t.ownerDocument}function p1(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function g1(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Kp(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Yp=null;function cA(){var t=window.event;return t&&t.type==="popstate"?t===Yp?!1:(Yp=t,!0):(Yp=null,!1)}var m1=typeof setTimeout=="function"?setTimeout:void 0,uA=typeof clearTimeout=="function"?clearTimeout:void 0,y1=typeof Promise=="function"?Promise:void 0,dA=typeof queueMicrotask=="function"?queueMicrotask:typeof y1<"u"?function(t){return y1.resolve(null).then(t).catch(hA)}:m1;function hA(t){setTimeout(function(){throw t})}function xs(t){return t==="head"}function x1(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),Oo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")yc(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,yc(a);for(var p=a.firstChild;p;){var b=p.nextSibling,T=p.nodeName;p[Mi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=b}}else a==="body"&&yc(t.ownerDocument.body);a=f}while(a);Oo(i)}function v1(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Qp(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Qp(a),Ja(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function fA(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Mi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=ri(t.nextSibling),t===null)break}return null}function pA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ri(t.nextSibling),t===null))return null;return t}function b1(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=ri(t.nextSibling),t===null))return null;return t}function Xp(t){return t.data==="$?"||t.data==="$~"}function Jp(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function gA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ri(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Zp=null;function _1(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return ri(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function E1(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function S1(t,i,a){switch(i=wd(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function yc(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ja(t)}var si=new Map,A1=new Set;function Rd(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var wr=fe.d;fe.d={f:mA,r:yA,D:xA,C:vA,L:bA,m:_A,X:SA,S:EA,M:AA};function mA(){var t=wr.f(),i=vd();return t||i}function yA(t){var i=Kn(t);i!==null&&i.tag===5&&i.type==="form"?P0(i):wr.r(t)}var No=typeof document>"u"?null:document;function T1(t,i,a){var l=No;if(l&&typeof i=="string"&&i){var f=_n(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),A1.has(f)||(A1.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),ln(i,"link",t),Ot(i),l.head.appendChild(i)))}}function xA(t){wr.D(t),T1("dns-prefetch",t,null)}function vA(t,i){wr.C(t,i),T1("preconnect",t,i)}function bA(t,i,a){wr.L(t,i,a);var l=No;if(l&&t&&i){var f='link[rel="preload"][as="'+_n(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+_n(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+_n(a.imageSizes)+'"]')):f+='[href="'+_n(t)+'"]';var p=f;switch(i){case"style":p=Bo(t);break;case"script":p=Mo(t)}si.has(p)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),si.set(p,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(xc(p))||i==="script"&&l.querySelector(vc(p))||(i=l.createElement("link"),ln(i,"link",t),Ot(i),l.head.appendChild(i)))}}function _A(t,i){wr.m(t,i);var a=No;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+_n(l)+'"][href="'+_n(t)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Mo(t)}if(!si.has(p)&&(t=E({rel:"modulepreload",href:t},i),si.set(p,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vc(p)))return}l=a.createElement("link"),ln(l,"link",t),Ot(l),a.head.appendChild(l)}}}function EA(t,i,a){wr.S(t,i,a);var l=No;if(l&&t){var f=Fi(l).hoistableStyles,p=Bo(t);i=i||"default";var b=f.get(p);if(!b){var T={loading:0,preload:null};if(b=l.querySelector(xc(p)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=si.get(p))&&eg(t,a);var V=b=l.createElement("link");Ot(V),ln(V,"link",t),V._p=new Promise(function(Y,te){V.onload=Y,V.onerror=te}),V.addEventListener("load",function(){T.loading|=1}),V.addEventListener("error",function(){T.loading|=2}),T.loading|=4,jd(b,i,l)}b={type:"stylesheet",instance:b,count:1,state:T},f.set(p,b)}}}function SA(t,i){wr.X(t,i);var a=No;if(a&&t){var l=Fi(a).hoistableScripts,f=Mo(t),p=l.get(f);p||(p=a.querySelector(vc(f)),p||(t=E({src:t,async:!0},i),(i=si.get(f))&&tg(t,i),p=a.createElement("script"),Ot(p),ln(p,"link",t),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function AA(t,i){wr.M(t,i);var a=No;if(a&&t){var l=Fi(a).hoistableScripts,f=Mo(t),p=l.get(f);p||(p=a.querySelector(vc(f)),p||(t=E({src:t,async:!0,type:"module"},i),(i=si.get(f))&&tg(t,i),p=a.createElement("script"),Ot(p),ln(p,"link",t),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function C1(t,i,a,l){var f=(f=je.current)?Rd(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Bo(a.href),a=Fi(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Bo(a.href);var p=Fi(f).hoistableStyles,b=p.get(t);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,b),(p=f.querySelector(xc(t)))&&!p._p&&(b.instance=p,b.state.loading=5),si.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},si.set(t,a),p||TA(f,t,a,b.state))),i&&l===null)throw Error(s(528,""));return b}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Mo(a),a=Fi(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Bo(t){return'href="'+_n(t)+'"'}function xc(t){return'link[rel="stylesheet"]['+t+"]"}function w1(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function TA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ln(i,"link",a),Ot(i),t.head.appendChild(i))}function Mo(t){return'[src="'+_n(t)+'"]'}function vc(t){return"script[async]"+t}function R1(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+_n(a.href)+'"]');if(l)return i.instance=l,Ot(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ot(l),ln(l,"style",f),jd(l,a.precedence,t),i.instance=l;case"stylesheet":f=Bo(a.href);var p=t.querySelector(xc(f));if(p)return i.state.loading|=4,i.instance=p,Ot(p),p;l=w1(a),(f=si.get(f))&&eg(l,f),p=(t.ownerDocument||t).createElement("link"),Ot(p);var b=p;return b._p=new Promise(function(T,V){b.onload=T,b.onerror=V}),ln(p,"link",l),i.state.loading|=4,jd(p,a.precedence,t),i.instance=p;case"script":return p=Mo(a.src),(f=t.querySelector(vc(p)))?(i.instance=f,Ot(f),f):(l=a,(f=si.get(p))&&(l=E({},a),tg(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Ot(f),ln(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,jd(l,a.precedence,t));return i.instance}function jd(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,b=0;b<l.length;b++){var T=l[b];if(T.dataset.precedence===i)p=T;else if(p!==f)break}p?p.parentNode.insertBefore(t,p.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function eg(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function tg(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Id=null;function j1(t,i,a){if(Id===null){var l=new Map,f=Id=new Map;f.set(a,l)}else f=Id,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var p=a[f];if(!(p[Mi]||p[Mt]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(i)||"";b=t+b;var T=l.get(b);T?T.push(p):l.set(b,[p])}}return l}function I1(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function CA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function D1(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function wA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Bo(l.href),p=i.querySelector(xc(f));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Dd.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=p,Ot(p);return}p=i.ownerDocument||i,l=w1(l),(f=si.get(f))&&eg(l,f),p=p.createElement("link"),Ot(p);var b=p;b._p=new Promise(function(T,V){b.onload=T,b.onerror=V}),ln(p,"link",l),a.instance=p}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Dd.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var ng=0;function RA(t,i){return t.stylesheets&&t.count===0&&zd(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&zd(t,t.stylesheets),t.unsuspend){var p=t.unsuspend;t.unsuspend=null,p()}},6e4+i);0<t.imgBytes&&ng===0&&(ng=62500*lA());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&zd(t,t.stylesheets),t.unsuspend)){var p=t.unsuspend;t.unsuspend=null,p()}},(t.imgBytes>ng?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Dd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var kd=null;function zd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,kd=new Map,i.forEach(jA,t),kd=null,Dd.call(t))}function jA(t,i){if(!(i.state.loading&4)){var a=kd.get(t);if(a)var l=a.get(null);else{a=new Map,kd.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var b=f[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}f=i.instance,b=f.getAttribute("data-precedence"),p=a.get(b)||l,p===l&&a.set(null,f),a.set(b,f),this.count++,l=Dd.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var bc={$$typeof:U,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function IA(t,i,a,l,f,p,b,T,V){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.hiddenUpdates=Ni(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function k1(t,i,a,l,f,p,b,T,V,Y,te,se){return t=new IA(t,i,a,b,V,Y,te,se,T),i=1,p===!0&&(i|=24),p=Mn(3,null,null,i),t.current=p,p.stateNode=t,i=Bf(),i.refCount++,t.pooledCache=i,i.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:i},Vf(p),t}function z1(t){return t?(t=fo,t):fo}function N1(t,i,a,l,f,p){f=z1(f),l.context===null?l.context=f:l.pendingContext=f,l=os(i),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=ls(t,l,i),a!==null&&(wn(a,t,i),Jl(a,t,i))}function B1(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function ig(t,i){B1(t,i),(t=t.alternate)&&B1(t,i)}function M1(t){if(t.tag===13||t.tag===31){var i=ma(t,67108864);i!==null&&wn(i,t,67108864),ig(t,67108864)}}function O1(t){if(t.tag===13||t.tag===31){var i=Pn();i=ra(i);var a=ma(t,i);a!==null&&wn(a,t,i),ig(t,i)}}var Nd=!0;function DA(t,i,a,l){var f=ee.T;ee.T=null;var p=fe.p;try{fe.p=2,rg(t,i,a,l)}finally{fe.p=p,ee.T=f}}function kA(t,i,a,l){var f=ee.T;ee.T=null;var p=fe.p;try{fe.p=8,rg(t,i,a,l)}finally{fe.p=p,ee.T=f}}function rg(t,i,a,l){if(Nd){var f=sg(l);if(f===null)Hp(t,i,l,Bd,a),V1(t,l);else if(NA(f,t,i,a,l))l.stopPropagation();else if(V1(t,l),i&4&&-1<zA.indexOf(t)){for(;f!==null;){var p=Kn(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=ki(p.pendingLanes);if(b!==0){var T=p;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var V=1<<31-Rt(b);T.entanglements[1]|=V,b&=~V}Xi(p),(et&6)===0&&(yd=yn()+500,pc(0))}}break;case 31:case 13:T=ma(p,2),T!==null&&wn(T,p,2),vd(),ig(p,2)}if(p=sg(l),p===null&&Hp(t,i,l,Bd,a),p===f)break;f=p}f!==null&&l.stopPropagation()}else Hp(t,i,l,null,a)}}function sg(t){return t=Yn(t),ag(t)}var Bd=null;function ag(t){if(Bd=null,t=Oi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=g(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Bd=t,null}function F1(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ea()){case Sl:return 2;case Al:return 8;case Gr:case hf:return 32;case fu:return 268435456;default:return 32}default:return 32}}var og=!1,vs=null,bs=null,_s=null,_c=new Map,Ec=new Map,Es=[],zA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function V1(t,i){switch(t){case"focusin":case"focusout":vs=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":_c.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ec.delete(i.pointerId)}}function Sc(t,i,a,l,f,p){return t===null||t.nativeEvent!==p?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},i!==null&&(i=Kn(i),i!==null&&M1(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function NA(t,i,a,l,f){switch(i){case"focusin":return vs=Sc(vs,t,i,a,l,f),!0;case"dragenter":return bs=Sc(bs,t,i,a,l,f),!0;case"mouseover":return _s=Sc(_s,t,i,a,l,f),!0;case"pointerover":var p=f.pointerId;return _c.set(p,Sc(_c.get(p)||null,t,i,a,l,f)),!0;case"gotpointercapture":return p=f.pointerId,Ec.set(p,Sc(Ec.get(p)||null,t,i,a,l,f)),!0}return!1}function L1(t){var i=Oi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,hi(t.priority,function(){O1(a)});return}}else if(i===31){if(i=g(a),i!==null){t.blockedOn=i,hi(t.priority,function(){O1(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Md(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=sg(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ml=l,a.target.dispatchEvent(l),Ml=null}else return i=Kn(a),i!==null&&M1(i),t.blockedOn=a,!1;i.shift()}return!0}function P1(t,i,a){Md(t)&&a.delete(i)}function BA(){og=!1,vs!==null&&Md(vs)&&(vs=null),bs!==null&&Md(bs)&&(bs=null),_s!==null&&Md(_s)&&(_s=null),_c.forEach(P1),Ec.forEach(P1)}function Od(t,i){t.blockedOn===i&&(t.blockedOn=null,og||(og=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,BA)))}var Fd=null;function U1(t){Fd!==t&&(Fd=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Fd===t&&(Fd=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(ag(l||a)===null)continue;break}var p=Kn(a);p!==null&&(t.splice(i,3),i-=3,sp(p,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Oo(t){function i(V){return Od(V,t)}vs!==null&&Od(vs,t),bs!==null&&Od(bs,t),_s!==null&&Od(_s,t),_c.forEach(i),Ec.forEach(i);for(var a=0;a<Es.length;a++){var l=Es[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Es.length&&(a=Es[0],a.blockedOn===null);)L1(a),a.blockedOn===null&&Es.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],p=a[l+1],b=f[Jt]||null;if(typeof p=="function")b||U1(a);else if(b){var T=null;if(p&&p.hasAttribute("formAction")){if(f=p,b=p[Jt]||null)T=b.formAction;else if(ag(f)!==null)continue}else T=b.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),U1(a)}}}function q1(){function t(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function lg(t){this._internalRoot=t}Vd.prototype.render=lg.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Pn();N1(a,l,t,i,null,null)},Vd.prototype.unmount=lg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;N1(t.current,2,null,t,null,null),vd(),i[Bi]=null}};function Vd(t){this._internalRoot=t}Vd.prototype.unstable_scheduleHydration=function(t){if(t){var i=vu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Es.length&&i!==0&&i<Es[a].priority;a++);Es.splice(a,0,t),a===0&&L1(t)}};var H1=e.version;if(H1!=="19.2.4")throw Error(s(527,H1,"19.2.4"));fe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var MA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ld.isDisabled&&Ld.supportsFiber)try{ui=Ld.inject(MA),nn=Ld}catch{}}return Tc.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=X0,p=J0,b=Z0;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError)),i=k1(t,1,!1,null,null,a,l,null,f,p,b,q1),t[Bi]=i.current,qp(t),new lg(i)},Tc.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",p=X0,b=J0,T=Z0,V=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(V=a.formState)),i=k1(t,1,!0,i,a??null,l,f,V,p,b,T,q1),i.context=z1(null),a=i.current,l=Pn(),l=ra(l),f=os(l),f.callback=null,ls(a,f,l),a=l,i.current.lanes=a,na(i,a),Xi(i),t[Bi]=i.current,qp(t),new Vd(i)},Tc.version="19.2.4",Tc}var e2;function GA(){if(e2)return dg.exports;e2=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),dg.exports=WA(),dg.exports}var $A=GA();const KA=Jv($A);var t2="popstate";function YA(r={}){function e(s,o){let{pathname:u,search:h,hash:g}=s.location;return Og("",{pathname:u,search:h,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Uc(o)}return XA(e,n,null,r)}function bt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ti(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QA(){return Math.random().toString(36).substring(2,10)}function n2(r,e){return{usr:r.state,key:r.key,idx:e}}function Og(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ll(e):e,state:n,key:e&&e.key||s||QA()}}function Uc({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ll(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function XA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,g="POP",m=null,y=x();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function x(){return(h.state||{idx:null}).idx}function E(){g="POP";let M=x(),W=M==null?null:M-y;y=M,m&&m({action:g,location:j.location,delta:W})}function A(M,W){g="PUSH";let z=Og(j.location,M,W);y=x()+1;let U=n2(z,y),X=j.createHref(z);try{h.pushState(U,"",X)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;o.location.assign(X)}u&&m&&m({action:g,location:j.location,delta:1})}function I(M,W){g="REPLACE";let z=Og(j.location,M,W);y=x();let U=n2(z,y),X=j.createHref(z);h.replaceState(U,"",X),u&&m&&m({action:g,location:j.location,delta:0})}function L(M){return JA(M)}let j={get action(){return g},get location(){return r(o,h)},listen(M){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(t2,E),m=M,()=>{o.removeEventListener(t2,E),m=null}},createHref(M){return e(o,M)},createURL:L,encodeLocation(M){let W=L(M);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:A,replace:I,go(M){return h.go(M)}};return j}function JA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),bt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Uc(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Zv(r,e,n="/"){return ZA(r,e,n,!1)}function ZA(r,e,n,s){let o=typeof e=="string"?ll(e):e,u=Nr(o.pathname||"/",n);if(u==null)return null;let h=eb(r);eT(h);let g=null;for(let m=0;g==null&&m<h.length;++m){let y=dT(u);g=cT(h[m],y,s)}return g}function eb(r,e=[],n=[],s="",o=!1){let u=(h,g,m=o,y)=>{let x={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:g,route:h};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(s)&&m)return;bt(x.relativePath.startsWith(s),`Absolute route path "${x.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(s.length)}let E=kr([s,x.relativePath]),A=n.concat(x);h.children&&h.children.length>0&&(bt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),eb(h.children,e,A,E,m)),!(h.path==null&&!h.index)&&e.push({path:E,score:oT(E,h.index),routesMeta:A})};return r.forEach((h,g)=>{if(h.path===""||!h.path?.includes("?"))u(h,g);else for(let m of tb(h.path))u(h,g,!0,m)}),e}function tb(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=tb(s.join("/")),g=[];return g.push(...h.map(m=>m===""?u:[u,m].join("/"))),o&&g.push(...h),g.map(m=>r.startsWith("/")&&m===""?"/":m)}function eT(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:lT(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var tT=/^:[\w-]+$/,nT=3,iT=2,rT=1,sT=10,aT=-2,i2=r=>r==="*";function oT(r,e){let n=r.split("/"),s=n.length;return n.some(i2)&&(s+=aT),e&&(s+=iT),n.filter(o=>!i2(o)).reduce((o,u)=>o+(tT.test(u)?nT:u===""?rT:sT),s)}function lT(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function cT(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let g=0;g<s.length;++g){let m=s[g],y=g===s.length-1,x=u==="/"?e:e.slice(u.length)||"/",E=dh({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},x),A=m.route;if(!E&&y&&n&&!s[s.length-1].route.index&&(E=dh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},x)),!E)return null;Object.assign(o,E.params),h.push({params:o,pathname:kr([u,E.pathname]),pathnameBase:gT(kr([u,E.pathnameBase])),route:A}),E.pathnameBase!=="/"&&(u=kr([u,E.pathnameBase]))}return h}function dh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=uT(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((y,{paramName:x,isOptional:E},A)=>{if(x==="*"){let L=g[A]||"";h=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const I=g[A];return E&&!I?y[x]=void 0:y[x]=(I||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:r}}function uT(r,e=!1,n=!0){Ti(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,g,m)=>(s.push({paramName:g,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function dT(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ti(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Nr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var hT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function fT(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ll(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=r2(n.substring(1),"/"):u=r2(n,e)):u=e,{pathname:u,search:mT(s),hash:yT(o)}}function r2(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function gg(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pT(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function gm(r){let e=pT(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function mm(r,e,n,s=!1){let o;typeof r=="string"?o=ll(r):(o={...r},bt(!o.pathname||!o.pathname.includes("?"),gg("?","pathname","search",o)),bt(!o.pathname||!o.pathname.includes("#"),gg("#","pathname","hash",o)),bt(!o.search||!o.search.includes("#"),gg("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,g;if(h==null)g=n;else{let E=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),E-=1;o.pathname=A.join("/")}g=E>=0?e[E]:"/"}let m=fT(o,g),y=h&&h!=="/"&&h.endsWith("/"),x=(u||h===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(y||x)&&(m.pathname+="/"),m}var kr=r=>r.join("/").replace(/\/\/+/g,"/"),gT=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),mT=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,yT=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,xT=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function vT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function bT(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var nb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ib(r,e){let n=r;if(typeof n!="string"||!hT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(nb)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),g=Nr(h.pathname,e);h.origin===u.origin&&g!=null?n=g+h.search+h.hash:o=!0}catch{Ti(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var rb=["POST","PUT","PATCH","DELETE"];new Set(rb);var _T=["GET",...rb];new Set(_T);var cl=k.createContext(null);cl.displayName="DataRouter";var Mh=k.createContext(null);Mh.displayName="DataRouterState";var ET=k.createContext(!1),sb=k.createContext({isTransitioning:!1});sb.displayName="ViewTransition";var ST=k.createContext(new Map);ST.displayName="Fetchers";var AT=k.createContext(null);AT.displayName="Await";var Wn=k.createContext(null);Wn.displayName="Navigation";var Zc=k.createContext(null);Zc.displayName="Location";var ar=k.createContext({outlet:null,matches:[],isDataRoute:!1});ar.displayName="Route";var ym=k.createContext(null);ym.displayName="RouteError";var ab="REACT_ROUTER_ERROR",TT="REDIRECT",CT="ROUTE_ERROR_RESPONSE";function wT(r){if(r.startsWith(`${ab}:${TT}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function RT(r){if(r.startsWith(`${ab}:${CT}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new xT(e.status,e.statusText,e.data)}catch{}}function jT(r,{relative:e}={}){bt(ul(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=k.useContext(Wn),{hash:o,pathname:u,search:h}=eu(r,{relative:e}),g=u;return n!=="/"&&(g=u==="/"?n:kr([n,u])),s.createHref({pathname:g,search:h,hash:o})}function ul(){return k.useContext(Zc)!=null}function $s(){return bt(ul(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Zc).location}var ob="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lb(r){k.useContext(Wn).static||k.useLayoutEffect(r)}function Ks(){let{isDataRoute:r}=k.useContext(ar);return r?UT():IT()}function IT(){bt(ul(),"useNavigate() may be used only in the context of a <Router> component.");let r=k.useContext(cl),{basename:e,navigator:n}=k.useContext(Wn),{matches:s}=k.useContext(ar),{pathname:o}=$s(),u=JSON.stringify(gm(s)),h=k.useRef(!1);return lb(()=>{h.current=!0}),k.useCallback((m,y={})=>{if(Ti(h.current,ob),!h.current)return;if(typeof m=="number"){n.go(m);return}let x=mm(m,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:kr([e,x.pathname])),(y.replace?n.replace:n.push)(x,y.state,y)},[e,n,u,o,r])}k.createContext(null);function eu(r,{relative:e}={}){let{matches:n}=k.useContext(ar),{pathname:s}=$s(),o=JSON.stringify(gm(n));return k.useMemo(()=>mm(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function DT(r,e){return cb(r,e)}function cb(r,e,n,s,o){bt(ul(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=k.useContext(Wn),{matches:h}=k.useContext(ar),g=h[h.length-1],m=g?g.params:{},y=g?g.pathname:"/",x=g?g.pathnameBase:"/",E=g&&g.route;{let z=E&&E.path||"";db(y,!E||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let A=$s(),I;if(e){let z=typeof e=="string"?ll(e):e;bt(x==="/"||z.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${z.pathname}" was given in the \`location\` prop.`),I=z}else I=A;let L=I.pathname||"/",j=L;if(x!=="/"){let z=x.replace(/^\//,"").split("/");j="/"+L.replace(/^\//,"").split("/").slice(z.length).join("/")}let M=Zv(r,{pathname:j});Ti(E||M!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Ti(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=MT(M&&M.map(z=>Object.assign({},z,{params:Object.assign({},m,z.params),pathname:kr([x,u.encodeLocation?u.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?x:kr([x,u.encodeLocation?u.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),h,n,s,o);return e&&W?k.createElement(Zc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},W):W}function kT(){let r=PT(),e=vT(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:u},"ErrorBoundary")," or"," ",k.createElement("code",{style:u},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:o},n):null,h)}var zT=k.createElement(kT,null),ub=class extends k.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=RT(r.digest);n&&(r=n)}let e=r!==void 0?k.createElement(ar.Provider,{value:this.props.routeContext},k.createElement(ym.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?k.createElement(NT,{error:r},e):e}};ub.contextType=ET;var mg=new WeakMap;function NT({children:r,error:e}){let{basename:n}=k.useContext(Wn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=wT(e.digest);if(s){let o=mg.get(e);if(o)throw o;let u=ib(s.location,n);if(nb&&!mg.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw mg.set(e,h),h}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function BT({routeContext:r,match:e,children:n}){let s=k.useContext(cl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(ar.Provider,{value:r},n)}function MT(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let x=u.findIndex(E=>E.route.id&&h?.[E.route.id]!==void 0);bt(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,x+1))}let g=!1,m=-1;if(n)for(let x=0;x<u.length;x++){let E=u[x];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(m=x),E.route.id){let{loaderData:A,errors:I}=n,L=E.route.loader&&!A.hasOwnProperty(E.route.id)&&(!I||I[E.route.id]===void 0);if(E.route.lazy||L){g=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}let y=n&&s?(x,E)=>{s(x,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:bT(n.matches),errorInfo:E})}:void 0;return u.reduceRight((x,E,A)=>{let I,L=!1,j=null,M=null;n&&(I=h&&E.route.id?h[E.route.id]:void 0,j=E.route.errorElement||zT,g&&(m<0&&A===0?(db("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,M=null):m===A&&(L=!0,M=E.route.hydrateFallbackElement||null)));let W=e.concat(u.slice(0,A+1)),z=()=>{let U;return I?U=j:L?U=M:E.route.Component?U=k.createElement(E.route.Component,null):E.route.element?U=E.route.element:U=x,k.createElement(BT,{match:E,routeContext:{outlet:x,matches:W,isDataRoute:n!=null},children:U})};return n&&(E.route.ErrorBoundary||E.route.errorElement||A===0)?k.createElement(ub,{location:n.location,revalidation:n.revalidation,component:j,error:I,children:z(),routeContext:{outlet:null,matches:W,isDataRoute:!0},onError:y}):z()},null)}function xm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OT(r){let e=k.useContext(cl);return bt(e,xm(r)),e}function FT(r){let e=k.useContext(Mh);return bt(e,xm(r)),e}function VT(r){let e=k.useContext(ar);return bt(e,xm(r)),e}function vm(r){let e=VT(r),n=e.matches[e.matches.length-1];return bt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function LT(){return vm("useRouteId")}function PT(){let r=k.useContext(ym),e=FT("useRouteError"),n=vm("useRouteError");return r!==void 0?r:e.errors?.[n]}function UT(){let{router:r}=OT("useNavigate"),e=vm("useNavigate"),n=k.useRef(!1);return lb(()=>{n.current=!0}),k.useCallback(async(o,u={})=>{Ti(n.current,ob),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var s2={};function db(r,e,n){!e&&!s2[r]&&(s2[r]=!0,Ti(!1,n))}k.memo(qT);function qT({routes:r,future:e,state:n,onError:s}){return cb(r,void 0,n,s,e)}function Bc({to:r,replace:e,state:n,relative:s}){bt(ul(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=k.useContext(Wn);Ti(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=k.useContext(ar),{pathname:h}=$s(),g=Ks(),m=mm(r,gm(u),h,s==="path"),y=JSON.stringify(m);return k.useEffect(()=>{g(JSON.parse(y),{replace:e,state:n,relative:s})},[g,y,s,e,n]),null}function ht(r){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function HT({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){bt(!ul(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=r.replace(/^\/*/,"/"),m=k.useMemo(()=>({basename:g,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[g,o,u,h]);typeof n=="string"&&(n=ll(n));let{pathname:y="/",search:x="",hash:E="",state:A=null,key:I="default"}=n,L=k.useMemo(()=>{let j=Nr(y,g);return j==null?null:{location:{pathname:j,search:x,hash:E,state:A,key:I},navigationType:s}},[g,y,x,E,A,I,s]);return Ti(L!=null,`<Router basename="${g}"> is not able to match the URL "${y}${x}${E}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:k.createElement(Wn.Provider,{value:m},k.createElement(Zc.Provider,{children:e,value:L}))}function WT({children:r,location:e}){return DT(Fg(r),e)}function Fg(r,e=[]){let n=[];return k.Children.forEach(r,(s,o)=>{if(!k.isValidElement(s))return;let u=[...e,o];if(s.type===k.Fragment){n.push.apply(n,Fg(s.props.children,u));return}bt(s.type===ht,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Fg(s.props.children,u)),n.push(h)}),n}var Jd="get",Zd="application/x-www-form-urlencoded";function Oh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function GT(r){return Oh(r)&&r.tagName.toLowerCase()==="button"}function $T(r){return Oh(r)&&r.tagName.toLowerCase()==="form"}function KT(r){return Oh(r)&&r.tagName.toLowerCase()==="input"}function YT(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function QT(r,e){return r.button===0&&(!e||e==="_self")&&!YT(r)}var Pd=null;function XT(){if(Pd===null)try{new FormData(document.createElement("form"),0),Pd=!1}catch{Pd=!0}return Pd}var JT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yg(r){return r!=null&&!JT.has(r)?(Ti(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zd}"`),null):r}function ZT(r,e){let n,s,o,u,h;if($T(r)){let g=r.getAttribute("action");s=g?Nr(g,e):null,n=r.getAttribute("method")||Jd,o=yg(r.getAttribute("enctype"))||Zd,u=new FormData(r)}else if(GT(r)||KT(r)&&(r.type==="submit"||r.type==="image")){let g=r.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||g.getAttribute("action");if(s=m?Nr(m,e):null,n=r.getAttribute("formmethod")||g.getAttribute("method")||Jd,o=yg(r.getAttribute("formenctype"))||yg(g.getAttribute("enctype"))||Zd,u=new FormData(g,r),!XT()){let{name:y,type:x,value:E}=r;if(x==="image"){let A=y?`${y}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else y&&u.append(y,E)}}else{if(Oh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Jd,s=null,o=Zd,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function eC(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&Nr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function tC(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nC(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function iC(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await tC(u,n);return h.links?h.links():[]}return[]}));return oC(s.flat(1).filter(nC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function a2(r,e,n,s,o,u){let h=(m,y)=>n[y]?m.route.id!==n[y].route.id:!0,g=(m,y)=>n[y].pathname!==m.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==m.params["*"];return u==="assets"?e.filter((m,y)=>h(m,y)||g(m,y)):u==="data"?e.filter((m,y)=>{let x=s.routes[m.route.id];if(!x||!x.hasLoader)return!1;if(h(m,y)||g(m,y))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function rC(r,e,{includeHydrateFallback:n}={}){return sC(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function sC(r){return[...new Set(r)]}function aC(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function oC(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(aC(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function hb(){let r=k.useContext(cl);return bm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function lC(){let r=k.useContext(Mh);return bm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var _m=k.createContext(void 0);_m.displayName="FrameworkContext";function fb(){let r=k.useContext(_m);return bm(r,"You must render this element inside a <HydratedRouter> element"),r}function cC(r,e){let n=k.useContext(_m),[s,o]=k.useState(!1),[u,h]=k.useState(!1),{onFocus:g,onBlur:m,onMouseEnter:y,onMouseLeave:x,onTouchStart:E}=e,A=k.useRef(null);k.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let j=W=>{W.forEach(z=>{h(z.isIntersecting)})},M=new IntersectionObserver(j,{threshold:.5});return A.current&&M.observe(A.current),()=>{M.disconnect()}}},[r]),k.useEffect(()=>{if(s){let j=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(j)}}},[s]);let I=()=>{o(!0)},L=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:Cc(g,I),onBlur:Cc(m,L),onMouseEnter:Cc(y,I),onMouseLeave:Cc(x,L),onTouchStart:Cc(E,I)}]:[!1,A,{}]}function Cc(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function uC({page:r,...e}){let{router:n}=hb(),s=k.useMemo(()=>Zv(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?k.createElement(hC,{page:r,matches:s,...e}):null}function dC(r){let{manifest:e,routeModules:n}=fb(),[s,o]=k.useState([]);return k.useEffect(()=>{let u=!1;return iC(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function hC({page:r,matches:e,...n}){let s=$s(),{future:o,manifest:u,routeModules:h}=fb(),{basename:g}=hb(),{loaderData:m,matches:y}=lC(),x=k.useMemo(()=>a2(r,e,y,u,s,"data"),[r,e,y,u,s]),E=k.useMemo(()=>a2(r,e,y,u,s,"assets"),[r,e,y,u,s]),A=k.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let j=new Set,M=!1;if(e.forEach(z=>{let U=u.routes[z.route.id];!U||!U.hasLoader||(!x.some(X=>X.route.id===z.route.id)&&z.route.id in m&&h[z.route.id]?.shouldRevalidate||U.hasClientLoader?M=!0:j.add(z.route.id))}),j.size===0)return[];let W=eC(r,g,o.unstable_trailingSlashAwareDataRequests,"data");return M&&j.size>0&&W.searchParams.set("_routes",e.filter(z=>j.has(z.route.id)).map(z=>z.route.id).join(",")),[W.pathname+W.search]},[g,o.unstable_trailingSlashAwareDataRequests,m,s,u,x,e,r,h]),I=k.useMemo(()=>rC(E,u),[E,u]),L=dC(E);return k.createElement(k.Fragment,null,A.map(j=>k.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),I.map(j=>k.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),L.map(({key:j,link:M})=>k.createElement("link",{key:j,nonce:n.nonce,...M,crossOrigin:M.crossOrigin??n.crossOrigin})))}function fC(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var pC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pC&&(window.__reactRouterVersion="7.13.0")}catch{}function gC({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=k.useRef();o.current==null&&(o.current=YA({window:s,v5Compat:!0}));let u=o.current,[h,g]=k.useState({action:u.action,location:u.location}),m=k.useCallback(y=>{n===!1?g(y):k.startTransition(()=>g(y))},[n]);return k.useLayoutEffect(()=>u.listen(m),[u,m]),k.createElement(HT,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var pb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qo=k.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:g,target:m,to:y,preventScrollReset:x,viewTransition:E,unstable_defaultShouldRevalidate:A,...I},L){let{basename:j,unstable_useTransitions:M}=k.useContext(Wn),W=typeof y=="string"&&pb.test(y),z=ib(y,j);y=z.to;let U=jT(y,{relative:o}),[X,G,oe]=cC(s,I),S=xC(y,{replace:h,state:g,target:m,preventScrollReset:x,relative:o,viewTransition:E,unstable_defaultShouldRevalidate:A,unstable_useTransitions:M});function C(O){e&&e(O),O.defaultPrevented||S(O)}let w=k.createElement("a",{...I,...oe,href:z.absoluteURL||U,onClick:z.isExternal||u?e:C,ref:fC(L,G),target:m,"data-discover":!W&&n==="render"?"true":void 0});return X&&!W?k.createElement(k.Fragment,null,w,k.createElement(uC,{page:U})):w});qo.displayName="Link";var Vg=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:g,children:m,...y},x){let E=eu(h,{relative:y.relative}),A=$s(),I=k.useContext(Mh),{navigator:L,basename:j}=k.useContext(Wn),M=I!=null&&SC(E)&&g===!0,W=L.encodeLocation?L.encodeLocation(E).pathname:E.pathname,z=A.pathname,U=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(z=z.toLowerCase(),U=U?U.toLowerCase():null,W=W.toLowerCase()),U&&j&&(U=Nr(U,j)||U);const X=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let G=z===W||!o&&z.startsWith(W)&&z.charAt(X)==="/",oe=U!=null&&(U===W||!o&&U.startsWith(W)&&U.charAt(W.length)==="/"),S={isActive:G,isPending:oe,isTransitioning:M},C=G?e:void 0,w;typeof s=="function"?w=s(S):w=[s,G?"active":null,oe?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(S):u;return k.createElement(qo,{...y,"aria-current":C,className:w,ref:x,style:O,to:h,viewTransition:g},typeof m=="function"?m(S):m)});Vg.displayName="NavLink";var mC=k.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=Jd,action:g,onSubmit:m,relative:y,preventScrollReset:x,viewTransition:E,unstable_defaultShouldRevalidate:A,...I},L)=>{let{unstable_useTransitions:j}=k.useContext(Wn),M=_C(),W=EC(g,{relative:y}),z=h.toLowerCase()==="get"?"get":"post",U=typeof g=="string"&&pb.test(g),X=G=>{if(m&&m(G),G.defaultPrevented)return;G.preventDefault();let oe=G.nativeEvent.submitter,S=oe?.getAttribute("formmethod")||h,C=()=>M(oe||G.currentTarget,{fetcherKey:e,method:S,navigate:n,replace:o,state:u,relative:y,preventScrollReset:x,viewTransition:E,unstable_defaultShouldRevalidate:A});j&&n!==!1?k.startTransition(()=>C()):C()};return k.createElement("form",{ref:L,method:z,action:W,onSubmit:s?m:X,...I,"data-discover":!U&&r==="render"?"true":void 0})});mC.displayName="Form";function yC(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gb(r){let e=k.useContext(cl);return bt(e,yC(r)),e}function xC(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:g,unstable_useTransitions:m}={}){let y=Ks(),x=$s(),E=eu(r,{relative:u});return k.useCallback(A=>{if(QT(A,e)){A.preventDefault();let I=n!==void 0?n:Uc(x)===Uc(E),L=()=>y(r,{replace:I,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:g});m?k.startTransition(()=>L()):L()}},[x,y,E,n,s,e,r,o,u,h,g,m])}var vC=0,bC=()=>`__${String(++vC)}__`;function _C(){let{router:r}=gb("useSubmit"),{basename:e}=k.useContext(Wn),n=LT(),s=r.fetch,o=r.navigate;return k.useCallback(async(u,h={})=>{let{action:g,method:m,encType:y,formData:x,body:E}=ZT(u,e);if(h.navigate===!1){let A=h.fetcherKey||bC();await s(A,n,h.action||g,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:x,body:E,formMethod:h.method||m,formEncType:h.encType||y,flushSync:h.flushSync})}else await o(h.action||g,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:x,body:E,formMethod:h.method||m,formEncType:h.encType||y,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function EC(r,{relative:e}={}){let{basename:n}=k.useContext(Wn),s=k.useContext(ar);bt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...eu(r||".",{relative:e})},h=$s();if(r==null){u.search=h.search;let g=new URLSearchParams(u.search),m=g.getAll("index");if(m.some(x=>x==="")){g.delete("index"),m.filter(E=>E).forEach(E=>g.append("index",E));let x=g.toString();u.search=x?`?${x}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:kr([n,u.pathname])),Uc(u)}function SC(r,{relative:e}={}){let n=k.useContext(sb);bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=gb("useViewTransitionState"),o=eu(r,{relative:e});if(!n.isTransitioning)return!1;let u=Nr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Nr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return dh(o.pathname,h)!=null||dh(o.pathname,u)!=null}const AC=()=>{};var o2={};const mb=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},TC=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],g=r[n++],m=((o&7)<<18|(u&63)<<12|(h&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},yb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,g=h?r[o+1]:0,m=o+2<r.length,y=m?r[o+2]:0,x=u>>2,E=(u&3)<<4|g>>4;let A=(g&15)<<2|y>>6,I=y&63;m||(I=64,h||(A=64)),s.push(n[x],n[E],n[A],n[I])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(mb(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):TC(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],g=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const E=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||g==null||y==null||E==null)throw new CC;const A=u<<2|g>>4;if(s.push(A),y!==64){const I=g<<4&240|y>>2;if(s.push(I),E!==64){const L=y<<6&192|E;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class CC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wC=function(r){const e=mb(r);return yb.encodeByteArray(e,!0)},hh=function(r){return wC(r).replace(/\./g,"")},xb=function(r){try{return yb.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function RC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const jC=()=>RC().__FIREBASE_DEFAULTS__,IC=()=>{if(typeof process>"u"||typeof o2>"u")return;const r=o2.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},DC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&xb(r[1]);return e&&JSON.parse(e)},Fh=()=>{try{return AC()||jC()||IC()||DC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},vb=r=>Fh()?.emulatorHosts?.[r],kC=r=>{const e=vb(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},bb=()=>Fh()?.config,_b=r=>Fh()?.[`_${r}`];class zC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function dl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Eb(r){return(await fetch(r,{credentials:"include"})).ok}function NC(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[hh(JSON.stringify(n)),hh(JSON.stringify(h)),""].join(".")}const Mc={};function BC(){const r={prod:[],emulator:[]};for(const e of Object.keys(Mc))Mc[e]?r.emulator.push(e):r.prod.push(e);return r}function MC(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let l2=!1;function Sb(r,e){if(typeof window>"u"||typeof document>"u"||!dl(window.location.host)||Mc[r]===e||Mc[r]||l2)return;Mc[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=BC().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function g(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function m(A,I){A.setAttribute("width","24"),A.setAttribute("id",I),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{l2=!0,h()},A}function x(A,I){A.setAttribute("id",I),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function E(){const A=MC(s),I=n("text"),L=document.getElementById(I)||document.createElement("span"),j=n("learnmore"),M=document.getElementById(j)||document.createElement("a"),W=n("preprendIcon"),z=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const U=A.element;g(U),x(M,j);const X=y();m(z,W),U.append(z,L,M,X),document.body.appendChild(U)}u?(L.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function FC(){const r=Fh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function PC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UC(){const r=mn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function qC(){return!FC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HC(){try{return typeof indexedDB=="object"}catch{return!1}}function WC(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const GC="FirebaseError";class qr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=GC,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?$C(u,s):"Error",g=`${this.serviceName}: ${h} (${o}).`;return new qr(o,g,s)}}function $C(r,e){return r.replace(KC,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const KC=/\{\$([^}]+)}/g;function YC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Br(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(c2(u)&&c2(h)){if(!Br(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function c2(r){return r!==null&&typeof r=="object"}function nu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function jc(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ic(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function QC(r,e){const n=new XC(r,e);return n.subscribe.bind(n)}class XC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");JC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=xg),o.error===void 0&&(o.error=xg),o.complete===void 0&&(o.complete=xg);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JC(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function xg(){}function Et(r){return r&&r._delegate?r._delegate:r}class Ma{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ia="[DEFAULT]";class ZC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new zC;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tw(e))try{this.getOrInitializeService({instanceIdentifier:Ia})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ia){return this.instances.has(e)}getOptions(e=Ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);s===g&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ew(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ia){return this.component?this.component.multipleInstances?e:Ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ew(r){return r===Ia?void 0:r}function tw(r){return r.instantiationMode==="EAGER"}class nw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ZC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var qe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(qe||(qe={}));const iw={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},rw=qe.INFO,sw={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},aw=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=sw[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Em{constructor(e){this.name=e,this._logLevel=rw,this._logHandler=aw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const ow=(r,e)=>e.some(n=>r instanceof n);let u2,d2;function lw(){return u2||(u2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cw(){return d2||(d2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ab=new WeakMap,Lg=new WeakMap,Tb=new WeakMap,vg=new WeakMap,Sm=new WeakMap;function uw(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(zs(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&Ab.set(n,r)}).catch(()=>{}),Sm.set(e,r),e}function dw(r){if(Lg.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Lg.set(r,e)}let Pg={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Lg.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Tb.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function hw(r){Pg=r(Pg)}function fw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(bg(this),e,...n);return Tb.set(s,e.sort?e.sort():[e]),zs(s)}:cw().includes(r)?function(...e){return r.apply(bg(this),e),zs(Ab.get(this))}:function(...e){return zs(r.apply(bg(this),e))}}function pw(r){return typeof r=="function"?fw(r):(r instanceof IDBTransaction&&dw(r),ow(r,lw())?new Proxy(r,Pg):r)}function zs(r){if(r instanceof IDBRequest)return uw(r);if(vg.has(r))return vg.get(r);const e=pw(r);return e!==r&&(vg.set(r,e),Sm.set(e,r)),e}const bg=r=>Sm.get(r);function gw(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),g=zs(h);return s&&h.addEventListener("upgradeneeded",m=>{s(zs(h.result),m.oldVersion,m.newVersion,zs(h.transaction),m)}),n&&h.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),g.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const mw=["get","getKey","getAll","getAllKeys","count"],yw=["put","add","delete","clear"],_g=new Map;function h2(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(_g.get(e))return _g.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=yw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||mw.includes(n)))return;const u=async function(h,...g){const m=this.transaction(h,o?"readwrite":"readonly");let y=m.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[n](...g),o&&m.done]))[0]};return _g.set(e,u),u}hw(r=>({...r,get:(e,n,s)=>h2(e,n)||r.get(e,n,s),has:(e,n)=>!!h2(e,n)||r.has(e,n)}));class xw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function vw(r){return r.getComponent()?.type==="VERSION"}const Ug="@firebase/app",f2="0.14.8";const Mr=new Em("@firebase/app"),bw="@firebase/app-compat",_w="@firebase/analytics-compat",Ew="@firebase/analytics",Sw="@firebase/app-check-compat",Aw="@firebase/app-check",Tw="@firebase/auth",Cw="@firebase/auth-compat",ww="@firebase/database",Rw="@firebase/data-connect",jw="@firebase/database-compat",Iw="@firebase/functions",Dw="@firebase/functions-compat",kw="@firebase/installations",zw="@firebase/installations-compat",Nw="@firebase/messaging",Bw="@firebase/messaging-compat",Mw="@firebase/performance",Ow="@firebase/performance-compat",Fw="@firebase/remote-config",Vw="@firebase/remote-config-compat",Lw="@firebase/storage",Pw="@firebase/storage-compat",Uw="@firebase/firestore",qw="@firebase/ai",Hw="@firebase/firestore-compat",Ww="firebase",Gw="12.9.0";const qg="[DEFAULT]",$w={[Ug]:"fire-core",[bw]:"fire-core-compat",[Ew]:"fire-analytics",[_w]:"fire-analytics-compat",[Aw]:"fire-app-check",[Sw]:"fire-app-check-compat",[Tw]:"fire-auth",[Cw]:"fire-auth-compat",[ww]:"fire-rtdb",[Rw]:"fire-data-connect",[jw]:"fire-rtdb-compat",[Iw]:"fire-fn",[Dw]:"fire-fn-compat",[kw]:"fire-iid",[zw]:"fire-iid-compat",[Nw]:"fire-fcm",[Bw]:"fire-fcm-compat",[Mw]:"fire-perf",[Ow]:"fire-perf-compat",[Fw]:"fire-rc",[Vw]:"fire-rc-compat",[Lw]:"fire-gcs",[Pw]:"fire-gcs-compat",[Uw]:"fire-fst",[Hw]:"fire-fst-compat",[qw]:"fire-vertex","fire-js":"fire-js",[Ww]:"fire-js-all"};const fh=new Map,Kw=new Map,Hg=new Map;function p2(r,e){try{r.container.addComponent(e)}catch(n){Mr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Xo(r){const e=r.name;if(Hg.has(e))return Mr.debug(`There were multiple attempts to register component ${e}.`),!1;Hg.set(e,r);for(const n of fh.values())p2(n,r);for(const n of Kw.values())p2(n,r);return!0}function Am(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function jn(r){return r==null?!1:r.settings!==void 0}const Yw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ns=new tu("app","Firebase",Yw);class Qw{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ns.create("app-deleted",{appName:this._name})}}const hl=Gw;function Cb(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:qg,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ns.create("bad-app-name",{appName:String(o)});if(n||(n=bb()),!n)throw Ns.create("no-options");const u=fh.get(o);if(u){if(Br(n,u.options)&&Br(s,u.config))return u;throw Ns.create("duplicate-app",{appName:o})}const h=new nw(o);for(const m of Hg.values())h.addComponent(m);const g=new Qw(n,s,h);return fh.set(o,g),g}function wb(r=qg){const e=fh.get(r);if(!e&&r===qg&&bb())return Cb();if(!e)throw Ns.create("no-app",{appName:r});return e}function Bs(r,e,n){let s=$w[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mr.warn(h.join(" "));return}Xo(new Ma(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const Xw="firebase-heartbeat-database",Jw=1,qc="firebase-heartbeat-store";let Eg=null;function Rb(){return Eg||(Eg=gw(Xw,Jw,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(qc)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ns.create("idb-open",{originalErrorMessage:r.message})})),Eg}async function Zw(r){try{const n=(await Rb()).transaction(qc),s=await n.objectStore(qc).get(jb(r));return await n.done,s}catch(e){if(e instanceof qr)Mr.warn(e.message);else{const n=Ns.create("idb-get",{originalErrorMessage:e?.message});Mr.warn(n.message)}}}async function g2(r,e){try{const s=(await Rb()).transaction(qc,"readwrite");await s.objectStore(qc).put(e,jb(r)),await s.done}catch(n){if(n instanceof qr)Mr.warn(n.message);else{const s=Ns.create("idb-set",{originalErrorMessage:n?.message});Mr.warn(s.message)}}}function jb(r){return`${r.name}!${r.options.appId}`}const e6=1024,t6=30;class n6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new r6(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=m2();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>t6){const o=s6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Mr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=m2(),{heartbeatsToSend:n,unsentEntries:s}=i6(this._heartbeatsCache.heartbeats),o=hh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Mr.warn(e),""}}}function m2(){return new Date().toISOString().substring(0,10)}function i6(r,e=e6){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),y2(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),y2(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class r6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HC()?WC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Zw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return g2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return g2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function y2(r){return hh(JSON.stringify({version:2,heartbeats:r})).length}function s6(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function a6(r){Xo(new Ma("platform-logger",e=>new xw(e),"PRIVATE")),Xo(new Ma("heartbeat",e=>new n6(e),"PRIVATE")),Bs(Ug,f2,r),Bs(Ug,f2,"esm2020"),Bs("fire-js","")}a6("");function Ib(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const o6=Ib,Db=new tu("auth","Firebase",Ib());const ph=new Em("@firebase/auth");function l6(r,...e){ph.logLevel<=qe.WARN&&ph.warn(`Auth (${hl}): ${r}`,...e)}function eh(r,...e){ph.logLevel<=qe.ERROR&&ph.error(`Auth (${hl}): ${r}`,...e)}function ci(r,...e){throw Cm(r,...e)}function Si(r,...e){return Cm(r,...e)}function Tm(r,e,n){const s={...o6(),[e]:n};return new tu("auth","Firebase",s).create(e,{appName:r.name})}function Zi(r){return Tm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kb(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&ci(r,"argument-error"),Tm(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Cm(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return Db.create(r,...e)}function Ce(r,e,...n){if(!r)throw Cm(e,...n)}function Ir(r){const e="INTERNAL ASSERTION FAILED: "+r;throw eh(e),new Error(e)}function Or(r,e){r||Ir(e)}function Wg(){return typeof self<"u"&&self.location?.href||""}function c6(){return x2()==="http:"||x2()==="https:"}function x2(){return typeof self<"u"&&self.location?.protocol||null}function u6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(c6()||LC()||"connection"in navigator)?navigator.onLine:!0}function d6(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class iu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Or(n>e,"Short delay should be less than long delay!"),this.isMobile=OC()||PC()}get(){return u6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wm(r,e){Or(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class zb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const h6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const f6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],p6=new iu(3e4,6e4);function Ys(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function or(r,e,n,s,o={}){return Nb(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const g=nu({key:r.config.apiKey,...h}).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:m,...u};return VC()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&dl(r.emulatorConfig.host)&&(y.credentials="include"),zb.fetch()(await Bb(r,r.config.apiHost,n,g),y)})}async function Nb(r,e,n){r._canInitEmulator=!1;const s={...h6,...e};try{const o=new m6(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Ud(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const g=u.ok?h.errorMessage:h.error.message,[m,y]=g.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ud(r,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw Ud(r,"email-already-in-use",h);if(m==="USER_DISABLED")throw Ud(r,"user-disabled",h);const x=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Tm(r,x,y);ci(r,x)}}catch(o){if(o instanceof qr)throw o;ci(r,"network-request-failed",{message:String(o)})}}async function ru(r,e,n,s,o={}){const u=await or(r,e,n,s,o);return"mfaPendingCredential"in u&&ci(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function Bb(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?wm(r.config,o):`${r.config.apiScheme}://${o}`;return f6.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function g6(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class m6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Si(this.auth,"network-request-failed")),p6.get())})}}function Ud(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Si(r,e,s);return o.customData._tokenResponse=n,o}function v2(r){return r!==void 0&&r.enterprise!==void 0}class y6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return g6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function x6(r,e){return or(r,"GET","/v2/recaptchaConfig",Ys(r,e))}async function v6(r,e){return or(r,"POST","/v1/accounts:delete",e)}async function gh(r,e){return or(r,"POST","/v1/accounts:lookup",e)}function Oc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function b6(r,e=!1){const n=Et(r),s=await n.getIdToken(e),o=Rm(s);Ce(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:Oc(Sg(o.auth_time)),issuedAtTime:Oc(Sg(o.iat)),expirationTime:Oc(Sg(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Sg(r){return Number(r)*1e3}function Rm(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return eh("JWT malformed, contained fewer than 3 sections"),null;try{const o=xb(n);return o?JSON.parse(o):(eh("Failed to decode base64 JWT payload"),null)}catch(o){return eh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function b2(r){const e=Rm(r);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Oa(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof qr&&_6(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function _6({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class E6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Gg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oc(this.lastLoginAt),this.creationTime=Oc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function mh(r){const e=r.auth,n=await r.getIdToken(),s=await Oa(r,gh(e,{idToken:n}));Ce(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?Mb(o.providerUserInfo):[],h=A6(r.providerData,u),g=r.isAnonymous,m=!(r.email&&o.passwordHash)&&!h?.length,y=g?m:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Gg(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,x)}async function S6(r){const e=Et(r);await mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function A6(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Mb(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function T6(r,e){const n=await Nb(r,{},async()=>{const s=nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await Bb(r,o,"/v1/token",`key=${u}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:g,body:s};return r.emulatorConfig&&dl(r.emulatorConfig.host)&&(m.credentials="include"),zb.fetch()(h,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function C6(r,e){return or(r,"POST","/v2/accounts:revokeToken",Ys(r,e))}class Ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):b2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=b2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await T6(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new Ho;return s&&(Ce(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ce(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ce(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ho,this.toJSON())}_performRefresh(){return Ir("not implemented")}}function As(r,e){Ce(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Ei{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new E6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Gg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Oa(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return b6(this,e)}reload(){return S6(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await mh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(Zi(this.auth));const e=await this.getIdToken();return await Oa(this,v6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,g=n.tenantId??void 0,m=n._redirectEventId??void 0,y=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:E,emailVerified:A,isAnonymous:I,providerData:L,stsTokenManager:j}=n;Ce(E&&j,e,"internal-error");const M=Ho.fromJSON(this.name,j);Ce(typeof E=="string",e,"internal-error"),As(s,e.name),As(o,e.name),Ce(typeof A=="boolean",e,"internal-error"),Ce(typeof I=="boolean",e,"internal-error"),As(u,e.name),As(h,e.name),As(g,e.name),As(m,e.name),As(y,e.name),As(x,e.name);const W=new Ei({uid:E,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:I,photoURL:h,phoneNumber:u,tenantId:g,stsTokenManager:M,createdAt:y,lastLoginAt:x});return L&&Array.isArray(L)&&(W.providerData=L.map(z=>({...z}))),m&&(W._redirectEventId=m),W}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ho;o.updateFromServerResponse(n);const u=new Ei({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await mh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ce(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Mb(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,g=new Ho;g.updateFromIdToken(s);const m=new Ei({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Gg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(m,y),m}}const _2=new Map;function Dr(r){Or(r instanceof Function,"Expected a class definition");let e=_2.get(r);return e?(Or(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,_2.set(r,e),e)}class Ob{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ob.type="NONE";const E2=Ob;function th(r,e,n){return`firebase:${r}:${e}:${n}`}class Wo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=th(this.userKey,o.apiKey,u),this.fullPersistenceKey=th("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await gh(this.auth,{idToken:e}).catch(()=>{});return n?Ei._fromGetAccountInfoResponse(this.auth,n,e):null}return Ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Wo(Dr(E2),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Dr(E2);const h=th(s,e.config.apiKey,e.name);let g=null;for(const y of n)try{const x=await y._get(h);if(x){let E;if(typeof x=="string"){const A=await gh(e,{idToken:x}).catch(()=>{});if(!A)break;E=await Ei._fromGetAccountInfoResponse(e,A,x)}else E=Ei._fromJSON(e,x);y!==u&&(g=E),u=y;break}}catch{}const m=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new Wo(u,e,s):(u=m[0],g&&await u._set(h,g.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(h)}catch{}})),new Wo(u,e,s))}}function S2(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Pb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qb(e))return"Blackberry";if(Hb(e))return"Webos";if(Vb(e))return"Safari";if((e.includes("chrome/")||Lb(e))&&!e.includes("edge/"))return"Chrome";if(Ub(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function Fb(r=mn()){return/firefox\//i.test(r)}function Vb(r=mn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Lb(r=mn()){return/crios\//i.test(r)}function Pb(r=mn()){return/iemobile/i.test(r)}function Ub(r=mn()){return/android/i.test(r)}function qb(r=mn()){return/blackberry/i.test(r)}function Hb(r=mn()){return/webos/i.test(r)}function jm(r=mn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function w6(r=mn()){return jm(r)&&!!window.navigator?.standalone}function R6(){return UC()&&document.documentMode===10}function Wb(r=mn()){return jm(r)||Ub(r)||Hb(r)||qb(r)||/windows phone/i.test(r)||Pb(r)}function Gb(r,e=[]){let n;switch(r){case"Browser":n=S2(mn());break;case"Worker":n=`${S2(mn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${hl}/${s}`}class j6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,g)=>{try{const m=e(u);h(m)}catch(m){g(m)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function I6(r,e={}){return or(r,"GET","/v2/passwordPolicy",Ys(r,e))}const D6=6;class k6{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??D6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class z6{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new A2(this),this.idTokenSubscription=new A2(this),this.beforeStateQueue=new j6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Db,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Dr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gh(this,{idToken:e}),s=await Ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(jn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,g=await this.tryRedirectSignIn(e);(!u||u===h)&&g?.user&&(s=g.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=d6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(Zi(this));const n=e?Et(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await I6(this),n=new k6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await C6(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Dr(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await Wo.create(this,[Dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(g,this,"internal-error"),g.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,o);return()=>{h=!0,m()}}else{const m=e.addObserver(n);return()=>{h=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Gb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&l6(`Error while retrieving App Check token: ${e.error}`),e?.token}}function lr(r){return Et(r)}class A2{constructor(e){this.auth=e,this.observer=null,this.addObserver=QC(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Vh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function N6(r){Vh=r}function $b(r){return Vh.loadJS(r)}function B6(){return Vh.recaptchaEnterpriseScript}function M6(){return Vh.gapiScript}function O6(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class F6{constructor(){this.enterprise=new V6}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class V6{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const L6="recaptcha-enterprise",Kb="NO_RECAPTCHA";class P6{constructor(e){this.type=L6,this.auth=lr(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,g)=>{x6(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const y=new y6(m);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,h(y.siteKey)}}).catch(m=>{g(m)})})}function o(u,h,g){const m=window.grecaptcha;v2(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(y=>{h(y)}).catch(()=>{h(Kb)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new F6().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(g=>{if(!n&&v2(window.grecaptcha))o(g,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let m=B6();m.length!==0&&(m+=g),$b(m).then(()=>{o(g,u,h)}).catch(y=>{h(y)})}}).catch(g=>{h(g)})})}}async function T2(r,e,n,s=!1,o=!1){const u=new P6(r);let h;if(o)h=Kb;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const g={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const m=g.phoneEnrollmentInfo.phoneNumber,y=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const m=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:h}):Object.assign(g,{captchaResponse:h}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function $g(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await T2(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await T2(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(u)})}function U6(r,e){const n=Am(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Br(u,e??{}))return o;ci(o,"already-initialized")}return n.initialize({options:e})}function q6(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Dr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function H6(r,e,n){const s=lr(r);Ce(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Yb(e),{host:h,port:g}=W6(e),m=g===null?"":`:${g}`,y={url:`${u}//${h}${m}/`},x=Object.freeze({host:h,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ce(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ce(Br(y,s.config.emulator)&&Br(x,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=x,s.settings.appVerificationDisabledForTesting=!0,dl(h)?(Eb(`${u}//${h}${m}`),Sb("Auth",!0)):G6()}function Yb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function W6(r){const e=Yb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:C2(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:C2(h)}}}function C2(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function G6(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Im{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ir("not implemented")}_getIdTokenResponse(e){return Ir("not implemented")}_linkToIdToken(e,n){return Ir("not implemented")}_getReauthenticationResolver(e){return Ir("not implemented")}}async function $6(r,e){return or(r,"POST","/v1/accounts:update",e)}async function K6(r,e){return or(r,"POST","/v1/accounts:signUp",e)}async function Y6(r,e){return ru(r,"POST","/v1/accounts:signInWithPassword",Ys(r,e))}async function Q6(r,e){return ru(r,"POST","/v1/accounts:signInWithEmailLink",Ys(r,e))}async function X6(r,e){return ru(r,"POST","/v1/accounts:signInWithEmailLink",Ys(r,e))}class Hc extends Im{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Hc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Hc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $g(e,n,"signInWithPassword",Y6);case"emailLink":return Q6(e,{email:this._email,oobCode:this._password});default:ci(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $g(e,s,"signUpPassword",K6);case"emailLink":return X6(e,{idToken:n,email:this._email,oobCode:this._password});default:ci(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Go(r,e){return ru(r,"POST","/v1/accounts:signInWithIdp",Ys(r,e))}const J6="http://localhost";class Fa extends Im{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new Fa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Go(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Go(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Go(e,n)}buildRequest(){const e={requestUri:J6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nu(n)}return e}}function Z6(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function e4(r){const e=jc(Ic(r)).link,n=e?jc(Ic(e)).deep_link_id:null,s=jc(Ic(r)).deep_link_id;return(s?jc(Ic(s)).link:null)||s||n||e||r}class Dm{constructor(e){const n=jc(Ic(e)),s=n.apiKey??null,o=n.oobCode??null,u=Z6(n.mode??null);Ce(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=e4(e);try{return new Dm(n)}catch{return null}}}class Fs{constructor(){this.providerId=Fs.PROVIDER_ID}static credential(e,n){return Hc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Dm.parseLink(n);return Ce(s,"argument-error"),Hc._fromEmailAndCode(e,s.code,s.tenantId)}}Fs.PROVIDER_ID="password";Fs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Lh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class su extends Lh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ts extends su{constructor(){super("facebook.com")}static credential(e){return Fa._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ts.PROVIDER_ID="facebook.com";class Rr extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fa._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Rr.credential(n,s)}catch{return null}}}Rr.GOOGLE_SIGN_IN_METHOD="google.com";Rr.PROVIDER_ID="google.com";class Cs extends su{constructor(){super("github.com")}static credential(e){return Fa._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.GITHUB_SIGN_IN_METHOD="github.com";Cs.PROVIDER_ID="github.com";class ws extends su{constructor(){super("twitter.com")}static credential(e,n){return Fa._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ws.credential(n,s)}catch{return null}}}ws.TWITTER_SIGN_IN_METHOD="twitter.com";ws.PROVIDER_ID="twitter.com";async function t4(r,e){return ru(r,"POST","/v1/accounts:signUp",Ys(r,e))}class Va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Ei._fromIdTokenResponse(e,s,o),h=w2(s);return new Va({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=w2(s);return new Va({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function w2(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class yh extends qr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,yh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new yh(e,n,s,o)}}function Qb(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?yh._fromErrorAndOperation(r,u,e,s):u})}async function n4(r,e,n=!1){const s=await Oa(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Va._forOperation(r,"link",s)}async function Xb(r,e,n=!1){const{auth:s}=r;if(jn(s.app))return Promise.reject(Zi(s));const o="reauthenticate";try{const u=await Oa(r,Qb(s,o,e,r),n);Ce(u.idToken,s,"internal-error");const h=Rm(u.idToken);Ce(h,s,"internal-error");const{sub:g}=h;return Ce(r.uid===g,s,"user-mismatch"),Va._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ci(s,"user-mismatch"),u}}async function Jb(r,e,n=!1){if(jn(r.app))return Promise.reject(Zi(r));const s="signIn",o=await Qb(r,s,e),u=await Va._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function i4(r,e){return Jb(lr(r),e)}async function R2(r,e){return Xb(Et(r),e)}async function Zb(r){const e=lr(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function r4(r,e,n){if(jn(r.app))return Promise.reject(Zi(r));const s=lr(r),h=await $g(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",t4).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Zb(r),m}),g=await Va._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(g.user),g}function s4(r,e,n){return jn(r.app)?Promise.reject(Zi(r)):i4(Et(r),Fs.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Zb(r),s})}async function a4(r,e){return or(r,"POST","/v1/accounts:update",e)}async function o4(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Et(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},h=await Oa(s,a4(s.auth,u));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const g=s.providerData.find(({providerId:m})=>m==="password");g&&(g.displayName=s.displayName,g.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}function l4(r,e){return c4(Et(r),null,e)}async function c4(r,e,n){const{auth:s}=r,u={idToken:await r.getIdToken(),returnSecureToken:!0};n&&(u.password=n);const h=await Oa(r,$6(s,u));await r._updateTokensIfNecessary(h,!0)}function u4(r,e,n,s){return Et(r).onIdTokenChanged(e,n,s)}function d4(r,e,n){return Et(r).beforeAuthStateChanged(e,n)}function h4(r,e,n,s){return Et(r).onAuthStateChanged(e,n,s)}function f4(r){return Et(r).signOut()}async function p4(r){return Et(r).delete()}const xh="__sak";class e_{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const g4=1e3,m4=10;class t_ extends e_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Wb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,g,m)=>{this.notifyListeners(h,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);R6()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,m4):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},g4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}t_.type="LOCAL";const y4=t_;class n_ extends e_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}n_.type="SESSION";const i_=n_;function x4(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Ph{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Ph(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const g=Array.from(h).map(async y=>y(n.origin,u)),m=await x4(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ph.receivers=[];function km(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class v4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((g,m)=>{const y=km("",20);o.port1.start();const x=setTimeout(()=>{m(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(E){const A=E;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(x),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(A.data.response);break;default:clearTimeout(x),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function er(){return window}function b4(r){er().location.href=r}function r_(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}async function _4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function E4(){return navigator?.serviceWorker?.controller||null}function S4(){return r_()?self:null}const s_="firebaseLocalStorageDb",A4=1,vh="firebaseLocalStorage",a_="fbase_key";class au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uh(r,e){return r.transaction([vh],e?"readwrite":"readonly").objectStore(vh)}function T4(){const r=indexedDB.deleteDatabase(s_);return new au(r).toPromise()}function Kg(){const r=indexedDB.open(s_,A4);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(vh,{keyPath:a_})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(vh)?e(s):(s.close(),await T4(),e(await Kg()))})})}async function j2(r,e,n){const s=Uh(r,!0).put({[a_]:e,value:n});return new au(s).toPromise()}async function C4(r,e){const n=Uh(r,!1).get(e),s=await new au(n).toPromise();return s===void 0?null:s.value}function I2(r,e){const n=Uh(r,!0).delete(e);return new au(n).toPromise()}const w4=800,R4=3;class o_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>R4)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return r_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ph._getInstance(S4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _4(),!this.activeServiceWorker)return;this.sender=new v4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||E4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kg();return await j2(e,xh,"1"),await I2(e,xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>j2(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>C4(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>I2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Uh(o,!1).getAll();return new au(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),w4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}o_.type="LOCAL";const j4=o_;new iu(3e4,6e4);function zm(r,e){return e?Dr(e):(Ce(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Nm extends Im{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Go(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Go(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Go(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function I4(r){return Jb(r.auth,new Nm(r),r.bypassAuthState)}function D4(r){const{auth:e,user:n}=r;return Ce(n,e,"internal-error"),Xb(n,new Nm(r),r.bypassAuthState)}async function k4(r){const{auth:e,user:n}=r;return Ce(n,e,"internal-error"),n4(n,new Nm(r),r.bypassAuthState)}class l_{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:g}=e;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(m))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return I4;case"linkViaPopup":case"linkViaRedirect":return k4;case"reauthViaPopup":case"reauthViaRedirect":return D4;default:ci(this.auth,"internal-error")}}resolve(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const z4=new iu(2e3,1e4);async function c_(r,e,n){if(jn(r.app))return Promise.reject(Si(r,"operation-not-supported-in-this-environment"));const s=lr(r);kb(r,e,Lh);const o=zm(s,n);return new ka(s,"signInViaPopup",e,o).executeNotNull()}class ka extends l_{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ka.currentPopupAction&&ka.currentPopupAction.cancel(),ka.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Or(this.filter.length===1,"Popup operations only handle one event");const e=km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ka.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,z4.get())};e()}}ka.currentPopupAction=null;const N4="pendingRedirect",nh=new Map;class B4 extends l_{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=nh.get(this.auth._key());if(!e){try{const s=await M4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}nh.set(this.auth._key(),e)}return this.bypassAuthState||nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function M4(r,e){const n=d_(e),s=u_(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}async function O4(r,e){return u_(r)._set(d_(e),"true")}function F4(r,e){nh.set(r._key(),e)}function u_(r){return Dr(r._redirectPersistence)}function d_(r){return th(N4,r.config.apiKey,r.name)}function h_(r,e,n){return V4(r,e,n)}async function V4(r,e,n){if(jn(r.app))return Promise.reject(Zi(r));const s=lr(r);kb(r,e,Lh),await s._initializationPromise;const o=zm(s,n);return await O4(o,s),o._openRedirect(s,e,"signInViaRedirect")}async function f_(r,e){return await lr(r)._initializationPromise,p_(r,e,!1)}async function p_(r,e,n=!1){if(jn(r.app))return Promise.reject(Zi(r));const s=lr(r),o=zm(s,e),h=await new B4(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const L4=600*1e3;class P4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!U4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!g_(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Si(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=L4&&this.cachedEventUids.clear(),this.cachedEventUids.has(D2(e))}saveEventToCache(e){this.cachedEventUids.add(D2(e)),this.lastProcessedEventTime=Date.now()}}function D2(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function g_({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function U4(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return g_(r);default:return!1}}async function q4(r,e={}){return or(r,"GET","/v1/projects",e)}const H4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,W4=/^https?/;async function G4(r){if(r.config.emulator)return;const{authorizedDomains:e}=await q4(r);for(const n of e)try{if($4(n))return}catch{}ci(r,"unauthorized-domain")}function $4(r){const e=Wg(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!W4.test(n))return!1;if(H4.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const K4=new iu(3e4,6e4);function k2(){const r=er().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function Y4(r){return new Promise((e,n)=>{function s(){k2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{k2(),n(Si(r,"network-request-failed"))},timeout:K4.get()})}if(er().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(er().gapi?.load)s();else{const o=O6("iframefcb");return er()[o]=()=>{gapi.load?s():n(Si(r,"network-request-failed"))},$b(`${M6()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw ih=null,e})}let ih=null;function Q4(r){return ih=ih||Y4(r),ih}const X4=new iu(5e3,15e3),J4="__/auth/iframe",Z4="emulator/auth/iframe",eR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nR(r){const e=r.config;Ce(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?wm(e,Z4):`https://${r.config.authDomain}/${J4}`,s={apiKey:e.apiKey,appName:r.name,v:hl},o=tR.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${nu(s).slice(1)}`}async function iR(r){const e=await Q4(r),n=er().gapi;return Ce(n,r,"internal-error"),e.open({where:document.body,url:nR(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eR,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Si(r,"network-request-failed"),g=er().setTimeout(()=>{u(h)},X4.get());function m(){er().clearTimeout(g),o(s)}s.ping(m).then(m,()=>{u(h)})}))}const rR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sR=500,aR=600,oR="_blank",lR="http://localhost";class z2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cR(r,e,n,s=sR,o=aR){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const m={...rR,width:s.toString(),height:o.toString(),top:u,left:h},y=mn().toLowerCase();n&&(g=Lb(y)?oR:n),Fb(y)&&(e=e||lR,m.scrollbars="yes");const x=Object.entries(m).reduce((A,[I,L])=>`${A}${I}=${L},`,"");if(w6(y)&&g!=="_self")return uR(e||"",g),new z2(null);const E=window.open(e||"",g,x);Ce(E,r,"popup-blocked");try{E.focus()}catch{}return new z2(E)}function uR(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const dR="__/auth/handler",hR="emulator/auth/handler",fR=encodeURIComponent("fac");async function N2(r,e,n,s,o,u){Ce(r.config.authDomain,r,"auth-domain-config-required"),Ce(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:hl,eventId:o};if(e instanceof Lh){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",YC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,E]of Object.entries({}))h[x]=E}if(e instanceof su){const x=e.getScopes().filter(E=>E!=="");x.length>0&&(h.scopes=x.join(","))}r.tenantId&&(h.tid=r.tenantId);const g=h;for(const x of Object.keys(g))g[x]===void 0&&delete g[x];const m=await r._getAppCheckToken(),y=m?`#${fR}=${encodeURIComponent(m)}`:"";return`${pR(r)}?${nu(g).slice(1)}${y}`}function pR({config:r}){return r.emulator?wm(r,hR):`https://${r.authDomain}/${dR}`}const Ag="webStorageSupport";class gR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=i_,this._completeRedirectFn=p_,this._overrideRedirectResult=F4}async _openPopup(e,n,s,o){Or(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await N2(e,n,s,Wg(),o);return cR(e,u,km())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await N2(e,n,s,Wg(),o);return b4(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Or(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await iR(e),s=new P4(e);return n.register("authEvent",o=>(Ce(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ag,{type:Ag},o=>{const u=o?.[0]?.[Ag];u!==void 0&&n(!!u),ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=G4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Wb()||Vb()||jm()}}const mR=gR;var B2="@firebase/auth",M2="1.12.0";class yR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function xR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vR(r){Xo(new Ma("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:g}=s.options;Ce(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:h,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gb(r)},y=new z6(s,o,u,m);return q6(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Xo(new Ma("auth-internal",e=>{const n=lr(e.getProvider("auth").getImmediate());return(s=>new yR(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bs(B2,M2,xR(r)),Bs(B2,M2,"esm2020")}const bR=300,_R=_b("authIdTokenMaxAge")||bR;let O2=null;const ER=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>_R)return;const o=n?.token;O2!==o&&(O2=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function SR(r=wb()){const e=Am(r,"auth");if(e.isInitialized())return e.getImmediate();const n=U6(r,{popupRedirectResolver:mR,persistence:[j4,y4,i_]}),s=_b("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=ER(u.toString());d4(n,h,()=>h(n.currentUser)),u4(n,g=>h(g))}}const o=vb("auth");return o&&H6(n,`http://${o}`),n}function AR(){return document.getElementsByTagName("head")?.[0]??document}N6({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Si("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",AR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vR("Browser");var F2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ms,m_;(function(){var r;function e(S,C){function w(){}w.prototype=C.prototype,S.F=C.prototype,S.prototype=new w,S.prototype.constructor=S,S.D=function(O,D,F){for(var N=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)N[Ee-2]=arguments[Ee];return C.prototype[D].apply(O,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(S,C,w){w||(w=0);const O=Array(16);if(typeof C=="string")for(var D=0;D<16;++D)O[D]=C.charCodeAt(w++)|C.charCodeAt(w++)<<8|C.charCodeAt(w++)<<16|C.charCodeAt(w++)<<24;else for(D=0;D<16;++D)O[D]=C[w++]|C[w++]<<8|C[w++]<<16|C[w++]<<24;C=S.g[0],w=S.g[1],D=S.g[2];let F=S.g[3],N;N=C+(F^w&(D^F))+O[0]+3614090360&4294967295,C=w+(N<<7&4294967295|N>>>25),N=F+(D^C&(w^D))+O[1]+3905402710&4294967295,F=C+(N<<12&4294967295|N>>>20),N=D+(w^F&(C^w))+O[2]+606105819&4294967295,D=F+(N<<17&4294967295|N>>>15),N=w+(C^D&(F^C))+O[3]+3250441966&4294967295,w=D+(N<<22&4294967295|N>>>10),N=C+(F^w&(D^F))+O[4]+4118548399&4294967295,C=w+(N<<7&4294967295|N>>>25),N=F+(D^C&(w^D))+O[5]+1200080426&4294967295,F=C+(N<<12&4294967295|N>>>20),N=D+(w^F&(C^w))+O[6]+2821735955&4294967295,D=F+(N<<17&4294967295|N>>>15),N=w+(C^D&(F^C))+O[7]+4249261313&4294967295,w=D+(N<<22&4294967295|N>>>10),N=C+(F^w&(D^F))+O[8]+1770035416&4294967295,C=w+(N<<7&4294967295|N>>>25),N=F+(D^C&(w^D))+O[9]+2336552879&4294967295,F=C+(N<<12&4294967295|N>>>20),N=D+(w^F&(C^w))+O[10]+4294925233&4294967295,D=F+(N<<17&4294967295|N>>>15),N=w+(C^D&(F^C))+O[11]+2304563134&4294967295,w=D+(N<<22&4294967295|N>>>10),N=C+(F^w&(D^F))+O[12]+1804603682&4294967295,C=w+(N<<7&4294967295|N>>>25),N=F+(D^C&(w^D))+O[13]+4254626195&4294967295,F=C+(N<<12&4294967295|N>>>20),N=D+(w^F&(C^w))+O[14]+2792965006&4294967295,D=F+(N<<17&4294967295|N>>>15),N=w+(C^D&(F^C))+O[15]+1236535329&4294967295,w=D+(N<<22&4294967295|N>>>10),N=C+(D^F&(w^D))+O[1]+4129170786&4294967295,C=w+(N<<5&4294967295|N>>>27),N=F+(w^D&(C^w))+O[6]+3225465664&4294967295,F=C+(N<<9&4294967295|N>>>23),N=D+(C^w&(F^C))+O[11]+643717713&4294967295,D=F+(N<<14&4294967295|N>>>18),N=w+(F^C&(D^F))+O[0]+3921069994&4294967295,w=D+(N<<20&4294967295|N>>>12),N=C+(D^F&(w^D))+O[5]+3593408605&4294967295,C=w+(N<<5&4294967295|N>>>27),N=F+(w^D&(C^w))+O[10]+38016083&4294967295,F=C+(N<<9&4294967295|N>>>23),N=D+(C^w&(F^C))+O[15]+3634488961&4294967295,D=F+(N<<14&4294967295|N>>>18),N=w+(F^C&(D^F))+O[4]+3889429448&4294967295,w=D+(N<<20&4294967295|N>>>12),N=C+(D^F&(w^D))+O[9]+568446438&4294967295,C=w+(N<<5&4294967295|N>>>27),N=F+(w^D&(C^w))+O[14]+3275163606&4294967295,F=C+(N<<9&4294967295|N>>>23),N=D+(C^w&(F^C))+O[3]+4107603335&4294967295,D=F+(N<<14&4294967295|N>>>18),N=w+(F^C&(D^F))+O[8]+1163531501&4294967295,w=D+(N<<20&4294967295|N>>>12),N=C+(D^F&(w^D))+O[13]+2850285829&4294967295,C=w+(N<<5&4294967295|N>>>27),N=F+(w^D&(C^w))+O[2]+4243563512&4294967295,F=C+(N<<9&4294967295|N>>>23),N=D+(C^w&(F^C))+O[7]+1735328473&4294967295,D=F+(N<<14&4294967295|N>>>18),N=w+(F^C&(D^F))+O[12]+2368359562&4294967295,w=D+(N<<20&4294967295|N>>>12),N=C+(w^D^F)+O[5]+4294588738&4294967295,C=w+(N<<4&4294967295|N>>>28),N=F+(C^w^D)+O[8]+2272392833&4294967295,F=C+(N<<11&4294967295|N>>>21),N=D+(F^C^w)+O[11]+1839030562&4294967295,D=F+(N<<16&4294967295|N>>>16),N=w+(D^F^C)+O[14]+4259657740&4294967295,w=D+(N<<23&4294967295|N>>>9),N=C+(w^D^F)+O[1]+2763975236&4294967295,C=w+(N<<4&4294967295|N>>>28),N=F+(C^w^D)+O[4]+1272893353&4294967295,F=C+(N<<11&4294967295|N>>>21),N=D+(F^C^w)+O[7]+4139469664&4294967295,D=F+(N<<16&4294967295|N>>>16),N=w+(D^F^C)+O[10]+3200236656&4294967295,w=D+(N<<23&4294967295|N>>>9),N=C+(w^D^F)+O[13]+681279174&4294967295,C=w+(N<<4&4294967295|N>>>28),N=F+(C^w^D)+O[0]+3936430074&4294967295,F=C+(N<<11&4294967295|N>>>21),N=D+(F^C^w)+O[3]+3572445317&4294967295,D=F+(N<<16&4294967295|N>>>16),N=w+(D^F^C)+O[6]+76029189&4294967295,w=D+(N<<23&4294967295|N>>>9),N=C+(w^D^F)+O[9]+3654602809&4294967295,C=w+(N<<4&4294967295|N>>>28),N=F+(C^w^D)+O[12]+3873151461&4294967295,F=C+(N<<11&4294967295|N>>>21),N=D+(F^C^w)+O[15]+530742520&4294967295,D=F+(N<<16&4294967295|N>>>16),N=w+(D^F^C)+O[2]+3299628645&4294967295,w=D+(N<<23&4294967295|N>>>9),N=C+(D^(w|~F))+O[0]+4096336452&4294967295,C=w+(N<<6&4294967295|N>>>26),N=F+(w^(C|~D))+O[7]+1126891415&4294967295,F=C+(N<<10&4294967295|N>>>22),N=D+(C^(F|~w))+O[14]+2878612391&4294967295,D=F+(N<<15&4294967295|N>>>17),N=w+(F^(D|~C))+O[5]+4237533241&4294967295,w=D+(N<<21&4294967295|N>>>11),N=C+(D^(w|~F))+O[12]+1700485571&4294967295,C=w+(N<<6&4294967295|N>>>26),N=F+(w^(C|~D))+O[3]+2399980690&4294967295,F=C+(N<<10&4294967295|N>>>22),N=D+(C^(F|~w))+O[10]+4293915773&4294967295,D=F+(N<<15&4294967295|N>>>17),N=w+(F^(D|~C))+O[1]+2240044497&4294967295,w=D+(N<<21&4294967295|N>>>11),N=C+(D^(w|~F))+O[8]+1873313359&4294967295,C=w+(N<<6&4294967295|N>>>26),N=F+(w^(C|~D))+O[15]+4264355552&4294967295,F=C+(N<<10&4294967295|N>>>22),N=D+(C^(F|~w))+O[6]+2734768916&4294967295,D=F+(N<<15&4294967295|N>>>17),N=w+(F^(D|~C))+O[13]+1309151649&4294967295,w=D+(N<<21&4294967295|N>>>11),N=C+(D^(w|~F))+O[4]+4149444226&4294967295,C=w+(N<<6&4294967295|N>>>26),N=F+(w^(C|~D))+O[11]+3174756917&4294967295,F=C+(N<<10&4294967295|N>>>22),N=D+(C^(F|~w))+O[2]+718787259&4294967295,D=F+(N<<15&4294967295|N>>>17),N=w+(F^(D|~C))+O[9]+3951481745&4294967295,S.g[0]=S.g[0]+C&4294967295,S.g[1]=S.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,S.g[2]=S.g[2]+D&4294967295,S.g[3]=S.g[3]+F&4294967295}s.prototype.v=function(S,C){C===void 0&&(C=S.length);const w=C-this.blockSize,O=this.C;let D=this.h,F=0;for(;F<C;){if(D==0)for(;F<=w;)o(this,S,F),F+=this.blockSize;if(typeof S=="string"){for(;F<C;)if(O[D++]=S.charCodeAt(F++),D==this.blockSize){o(this,O),D=0;break}}else for(;F<C;)if(O[D++]=S[F++],D==this.blockSize){o(this,O),D=0;break}}this.h=D,this.o+=C},s.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var C=1;C<S.length-8;++C)S[C]=0;C=this.o*8;for(var w=S.length-8;w<S.length;++w)S[w]=C&255,C/=256;for(this.v(S),S=Array(16),C=0,w=0;w<4;++w)for(let O=0;O<32;O+=8)S[C++]=this.g[w]>>>O&255;return S};function u(S,C){var w=g;return Object.prototype.hasOwnProperty.call(w,S)?w[S]:w[S]=C(S)}function h(S,C){this.h=C;const w=[];let O=!0;for(let D=S.length-1;D>=0;D--){const F=S[D]|0;O&&F==C||(w[D]=F,O=!1)}this.g=w}var g={};function m(S){return-128<=S&&S<128?u(S,function(C){return new h([C|0],C<0?-1:0)}):new h([S|0],S<0?-1:0)}function y(S){if(isNaN(S)||!isFinite(S))return E;if(S<0)return M(y(-S));const C=[];let w=1;for(let O=0;S>=w;O++)C[O]=S/w|0,w*=4294967296;return new h(C,0)}function x(S,C){if(S.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(S.charAt(0)=="-")return M(x(S.substring(1),C));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=y(Math.pow(C,8));let O=E;for(let F=0;F<S.length;F+=8){var D=Math.min(8,S.length-F);const N=parseInt(S.substring(F,F+D),C);D<8?(D=y(Math.pow(C,D)),O=O.j(D).add(y(N))):(O=O.j(w),O=O.add(y(N)))}return O}var E=m(0),A=m(1),I=m(16777216);r=h.prototype,r.m=function(){if(j(this))return-M(this).m();let S=0,C=1;for(let w=0;w<this.g.length;w++){const O=this.i(w);S+=(O>=0?O:4294967296+O)*C,C*=4294967296}return S},r.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(L(this))return"0";if(j(this))return"-"+M(this).toString(S);const C=y(Math.pow(S,6));var w=this;let O="";for(;;){const D=X(w,C).g;w=W(w,D.j(C));let F=((w.g.length>0?w.g[0]:w.h)>>>0).toString(S);if(w=D,L(w))return F+O;for(;F.length<6;)F="0"+F;O=F+O}},r.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function L(S){if(S.h!=0)return!1;for(let C=0;C<S.g.length;C++)if(S.g[C]!=0)return!1;return!0}function j(S){return S.h==-1}r.l=function(S){return S=W(this,S),j(S)?-1:L(S)?0:1};function M(S){const C=S.g.length,w=[];for(let O=0;O<C;O++)w[O]=~S.g[O];return new h(w,~S.h).add(A)}r.abs=function(){return j(this)?M(this):this},r.add=function(S){const C=Math.max(this.g.length,S.g.length),w=[];let O=0;for(let D=0;D<=C;D++){let F=O+(this.i(D)&65535)+(S.i(D)&65535),N=(F>>>16)+(this.i(D)>>>16)+(S.i(D)>>>16);O=N>>>16,F&=65535,N&=65535,w[D]=N<<16|F}return new h(w,w[w.length-1]&-2147483648?-1:0)};function W(S,C){return S.add(M(C))}r.j=function(S){if(L(this)||L(S))return E;if(j(this))return j(S)?M(this).j(M(S)):M(M(this).j(S));if(j(S))return M(this.j(M(S)));if(this.l(I)<0&&S.l(I)<0)return y(this.m()*S.m());const C=this.g.length+S.g.length,w=[];for(var O=0;O<2*C;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<S.g.length;D++){const F=this.i(O)>>>16,N=this.i(O)&65535,Ee=S.i(D)>>>16,Be=S.i(D)&65535;w[2*O+2*D]+=N*Be,z(w,2*O+2*D),w[2*O+2*D+1]+=F*Be,z(w,2*O+2*D+1),w[2*O+2*D+1]+=N*Ee,z(w,2*O+2*D+1),w[2*O+2*D+2]+=F*Ee,z(w,2*O+2*D+2)}for(S=0;S<C;S++)w[S]=w[2*S+1]<<16|w[2*S];for(S=C;S<2*C;S++)w[S]=0;return new h(w,0)};function z(S,C){for(;(S[C]&65535)!=S[C];)S[C+1]+=S[C]>>>16,S[C]&=65535,C++}function U(S,C){this.g=S,this.h=C}function X(S,C){if(L(C))throw Error("division by zero");if(L(S))return new U(E,E);if(j(S))return C=X(M(S),C),new U(M(C.g),M(C.h));if(j(C))return C=X(S,M(C)),new U(M(C.g),C.h);if(S.g.length>30){if(j(S)||j(C))throw Error("slowDivide_ only works with positive integers.");for(var w=A,O=C;O.l(S)<=0;)w=G(w),O=G(O);var D=oe(w,1),F=oe(O,1);for(O=oe(O,2),w=oe(w,2);!L(O);){var N=F.add(O);N.l(S)<=0&&(D=D.add(w),F=N),O=oe(O,1),w=oe(w,1)}return C=W(S,D.j(C)),new U(D,C)}for(D=E;S.l(C)>=0;){for(w=Math.max(1,Math.floor(S.m()/C.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),F=y(w),N=F.j(C);j(N)||N.l(S)>0;)w-=O,F=y(w),N=F.j(C);L(F)&&(F=A),D=D.add(F),S=W(S,N)}return new U(D,S)}r.B=function(S){return X(this,S).h},r.and=function(S){const C=Math.max(this.g.length,S.g.length),w=[];for(let O=0;O<C;O++)w[O]=this.i(O)&S.i(O);return new h(w,this.h&S.h)},r.or=function(S){const C=Math.max(this.g.length,S.g.length),w=[];for(let O=0;O<C;O++)w[O]=this.i(O)|S.i(O);return new h(w,this.h|S.h)},r.xor=function(S){const C=Math.max(this.g.length,S.g.length),w=[];for(let O=0;O<C;O++)w[O]=this.i(O)^S.i(O);return new h(w,this.h^S.h)};function G(S){const C=S.g.length+1,w=[];for(let O=0;O<C;O++)w[O]=S.i(O)<<1|S.i(O-1)>>>31;return new h(w,S.h)}function oe(S,C){const w=C>>5;C%=32;const O=S.g.length-w,D=[];for(let F=0;F<O;F++)D[F]=C>0?S.i(F+w)>>>C|S.i(F+w+1)<<32-C:S.i(F+w);return new h(D,S.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,m_=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=x,Ms=h}).apply(typeof F2<"u"?F2:typeof self<"u"?self:typeof window<"u"?window:{});var qd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var y_,Dc,x_,rh,Yg,v_,b_,__;(function(){var r,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof qd=="object"&&qd];for(var v=0;v<d.length;++v){var _=d[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(d,v){if(v)e:{var _=s;d=d.split(".");for(var R=0;R<d.length-1;R++){var $=d[R];if(!($ in _))break e;_=_[$]}d=d[d.length-1],R=_[d],v=v(R),v!=R&&v!=null&&e(_,d,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(v){var _=[],R;for(R in v)Object.prototype.hasOwnProperty.call(v,R)&&_.push([R,v[R]]);return _}});var u=u||{},h=this||self;function g(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function m(d,v,_){return d.call.apply(d.bind,arguments)}function y(d,v,_){return y=m,y.apply(null,arguments)}function x(d,v){var _=Array.prototype.slice.call(arguments,1);return function(){var R=_.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function E(d,v){function _(){}_.prototype=v.prototype,d.Z=v.prototype,d.prototype=new _,d.prototype.constructor=d,d.Ob=function(R,$,J){for(var he=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)he[Me-2]=arguments[Me];return v.prototype[$].apply(R,he)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function I(d){const v=d.length;if(v>0){const _=Array(v);for(let R=0;R<v;R++)_[R]=d[R];return _}return[]}function L(d,v){for(let R=1;R<arguments.length;R++){const $=arguments[R];var _=typeof $;if(_=_!="object"?_:$?Array.isArray($)?"array":_:"null",_=="array"||_=="object"&&typeof $.length=="number"){_=d.length||0;const J=$.length||0;d.length=_+J;for(let he=0;he<J;he++)d[_+he]=$[he]}else d.push($)}}class j{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function M(d){h.setTimeout(()=>{throw d},0)}function W(){var d=S;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class z{constructor(){this.h=this.g=null}add(v,_){const R=U.get();R.set(v,_),this.h?this.h.next=R:this.g=R,this.h=R}}var U=new j(()=>new X,d=>d.reset());class X{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let G,oe=!1,S=new z,C=()=>{const d=Promise.resolve(void 0);G=()=>{d.then(w)}};function w(){for(var d;d=W();){try{d.h.call(d.g)}catch(_){M(_)}var v=U;v.j(d),v.h<100&&(v.h++,d.next=v.g,v.g=d)}oe=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const _=()=>{};h.addEventListener("test",_,v),h.removeEventListener("test",_,v)}catch{}return d})();function N(d){return/^[\s\xa0]*$/.test(d)}function Ee(d,v){D.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,v)}E(Ee,D),Ee.prototype.init=function(d,v){const _=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget,v||(_=="mouseover"?v=d.fromElement:_=="mouseout"&&(v=d.toElement)),this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Ee.Z.h.call(this)},Ee.prototype.h=function(){Ee.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Be="closure_listenable_"+(Math.random()*1e6|0),ee=0;function fe(d,v,_,R,$){this.listener=d,this.proxy=null,this.src=v,this.type=_,this.capture=!!R,this.ha=$,this.key=++ee,this.da=this.fa=!1}function ve(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function le(d,v,_){for(const R in d)v.call(_,d[R],R,d)}function Te(d,v){for(const _ in d)v.call(void 0,d[_],_,d)}function P(d){const v={};for(const _ in d)v[_]=d[_];return v}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(d,v){let _,R;for(let $=1;$<arguments.length;$++){R=arguments[$];for(_ in R)d[_]=R[_];for(let J=0;J<B.length;J++)_=B[J],Object.prototype.hasOwnProperty.call(R,_)&&(d[_]=R[_])}}function ce(d){this.src=d,this.g={},this.h=0}ce.prototype.add=function(d,v,_,R,$){const J=d.toString();d=this.g[J],d||(d=this.g[J]=[],this.h++);const he=je(d,v,R,$);return he>-1?(v=d[he],_||(v.fa=!1)):(v=new fe(v,this.src,J,!!R,$),v.fa=_,d.push(v)),v};function Ae(d,v){const _=v.type;if(_ in d.g){var R=d.g[_],$=Array.prototype.indexOf.call(R,v,void 0),J;(J=$>=0)&&Array.prototype.splice.call(R,$,1),J&&(ve(v),d.g[_].length==0&&(delete d.g[_],d.h--))}}function je(d,v,_,R){for(let $=0;$<d.length;++$){const J=d[$];if(!J.da&&J.listener==v&&J.capture==!!_&&J.ha==R)return $}return-1}var $e="closure_lm_"+(Math.random()*1e6|0),$t={};function yt(d,v,_,R,$){if(Array.isArray(v)){for(let J=0;J<v.length;J++)yt(d,v[J],_,R,$);return null}return _=El(_),d&&d[Be]?d.J(v,_,g(R)?!!R.capture:!1,$):Js(d,v,_,!1,R,$)}function Js(d,v,_,R,$,J){if(!v)throw Error("Invalid event type");const he=g($)?!!$.capture:!!$;let Me=Zs(d);if(Me||(d[$e]=Me=new ce(d)),_=Me.add(v,_,R,he,J),_.proxy)return _;if(R=$a(),_.proxy=R,R.src=d,R.listener=_,d.addEventListener)F||($=he),$===void 0&&($=!1),d.addEventListener(v.toString(),R,$);else if(d.attachEvent)d.attachEvent(Ii(v.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return _}function $a(){function d(_){return v.call(d.src,d.listener,_)}const v=bl;return d}function Ka(d,v,_,R,$){if(Array.isArray(v))for(var J=0;J<v.length;J++)Ka(d,v[J],_,R,$);else R=g(R)?!!R.capture:!!R,_=El(_),d&&d[Be]?(d=d.i,J=String(v).toString(),J in d.g&&(v=d.g[J],_=je(v,_,R,$),_>-1&&(ve(v[_]),Array.prototype.splice.call(v,_,1),v.length==0&&(delete d.g[J],d.h--)))):d&&(d=Zs(d))&&(v=d.g[v.toString()],d=-1,v&&(d=je(v,_,R,$)),(_=d>-1?v[d]:null)&&Ya(_))}function Ya(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Be])Ae(v.i,d);else{var _=d.type,R=d.proxy;v.removeEventListener?v.removeEventListener(_,R,d.capture):v.detachEvent?v.detachEvent(Ii(_),R):v.addListener&&v.removeListener&&v.removeListener(R),(_=Zs(v))?(Ae(_,d),_.h==0&&(_.src=null,v[$e]=null)):ve(d)}}}function Ii(d){return d in $t?$t[d]:$t[d]="on"+d}function bl(d,v){if(d.da)d=!0;else{v=new Ee(v,this);const _=d.listener,R=d.ha||d.src;d.fa&&Ya(d),d=_.call(R,v)}return d}function Zs(d){return d=d[$e],d instanceof ce?d:null}var _l="__closure_events_fn_"+(Math.random()*1e9>>>0);function El(d){return typeof d=="function"?d:(d[_l]||(d[_l]=function(v){return d.handleEvent(v)}),d[_l])}function Nt(){O.call(this),this.i=new ce(this),this.M=this,this.G=null}E(Nt,O),Nt.prototype[Be]=!0,Nt.prototype.removeEventListener=function(d,v,_,R){Ka(this,d,v,_,R)};function Kt(d,v){var _,R=d.G;if(R)for(_=[];R;R=R.G)_.push(R);if(d=d.M,R=v.type||v,typeof v=="string")v=new D(v,d);else if(v instanceof D)v.target=v.target||d;else{var $=v;v=new D(R,d),re(v,$)}$=!0;let J,he;if(_)for(he=_.length-1;he>=0;he--)J=v.g=_[he],$=Wr(J,R,!0,v)&&$;if(J=v.g=d,$=Wr(J,R,!0,v)&&$,$=Wr(J,R,!1,v)&&$,_)for(he=0;he<_.length;he++)J=v.g=_[he],$=Wr(J,R,!1,v)&&$}Nt.prototype.N=function(){if(Nt.Z.N.call(this),this.i){var d=this.i;for(const v in d.g){const _=d.g[v];for(let R=0;R<_.length;R++)ve(_[R]);delete d.g[v],d.h--}}this.G=null},Nt.prototype.J=function(d,v,_,R){return this.i.add(String(d),v,!1,_,R)},Nt.prototype.K=function(d,v,_,R){return this.i.add(String(d),v,!0,_,R)};function Wr(d,v,_,R){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();let $=!0;for(let J=0;J<v.length;++J){const he=v[J];if(he&&!he.da&&he.capture==_){const Me=he.listener,jt=he.ha||he.src;he.fa&&Ae(d.i,he),$=Me.call(jt,R)!==!1&&$}}return $&&!R.defaultPrevented}function df(d,v){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=y(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:h.setTimeout(d,v||0)}function hu(d){d.g=df(()=>{d.g=null,d.i&&(d.i=!1,hu(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class yn extends O{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:hu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ea(d){O.call(this),this.h=d,this.g={}}E(ea,O);var Sl=[];function Al(d){le(d.g,function(v,_){this.g.hasOwnProperty(_)&&Ya(v)},d),d.g={}}ea.prototype.N=function(){ea.Z.N.call(this),Al(this)},ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gr=h.JSON.stringify,hf=h.JSON.parse,fu=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function pu(){}function gu(){}var ui={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function nn(){D.call(this,"d")}E(nn,D);function $n(){D.call(this,"c")}E($n,D);var Rt={},mu=null;function Qa(){return mu=mu||new Nt}Rt.Ia="serverreachability";function yu(d){D.call(this,Rt.Ia,d)}E(yu,D);function Di(d){const v=Qa();Kt(v,new yu(v))}Rt.STAT_EVENT="statevent";function ta(d,v){D.call(this,Rt.STAT_EVENT,d),this.stat=v}E(ta,D);function Bt(d){const v=Qa();Kt(v,new ta(v,d))}Rt.Ja="timingevent";function ki(d,v){D.call(this,Rt.Ja,d),this.size=v}E(ki,D);function zi(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},v)}function di(){this.g=!0}di.prototype.ua=function(){this.g=!1};function ff(d,v,_,R,$,J){d.info(function(){if(d.g)if(J){var he="",Me=J.split("&");for(let Ze=0;Ze<Me.length;Ze++){var jt=Me[Ze].split("=");if(jt.length>1){const xt=jt[0];jt=jt[1];const Xn=xt.split("_");he=Xn.length>=2&&Xn[1]=="type"?he+(xt+"="+jt+"&"):he+(xt+"=redacted&")}}}else he=null;else he=J;return"XMLHTTP REQ ("+R+") [attempt "+$+"]: "+v+`
`+_+`
`+he})}function xu(d,v,_,R,$,J,he){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+$+"]: "+v+`
`+_+`
`+J+" "+he})}function Ni(d,v,_,R){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+pf(d,_)+(R?" "+R:"")})}function na(d,v){d.info(function(){return"TIMEOUT: "+v})}di.prototype.info=function(){};function pf(d,v){if(!d.g)return v;if(!v)return null;try{const J=JSON.parse(v);if(J){for(d=0;d<J.length;d++)if(Array.isArray(J[d])){var _=J[d];if(!(_.length<2)){var R=_[1];if(Array.isArray(R)&&!(R.length<1)){var $=R[0];if($!="noop"&&$!="stop"&&$!="close")for(let he=1;he<R.length;he++)R[he]=""}}}}return Gr(J)}catch{return v}}var ia={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Tl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Cl;function ra(){}E(ra,pu),ra.prototype.g=function(){return new XMLHttpRequest},Cl=new ra;function cr(d){return encodeURIComponent(String(d))}function vu(d){var v=1;d=d.split(":");const _=[];for(;v>0&&d.length;)_.push(d.shift()),v--;return d.length&&_.push(d.join(":")),_}function hi(d,v,_,R){this.j=d,this.i=v,this.l=_,this.S=R||1,this.V=new ea(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fi}function fi(){this.i=null,this.g="",this.h=!1}var Mt={},Jt={};function Bi(d,v,_){d.M=1,d.A=sa(Ft(v)),d.u=_,d.R=!0,Xa(d,null)}function Xa(d,v){d.F=Date.now(),Mi(d),d.B=Ft(d.A);var _=d.B,R=d.S;Array.isArray(R)||(R=[String(R)]),to(_.i,"t",R),d.C=0,_=d.j.L,d.h=new fi,d.g=Nu(d.j,_?v:null,!d.u),d.P>0&&(d.O=new yn(y(d.Y,d,d.g),d.P)),v=d.V,_=d.g,R=d.ba;var $="readystatechange";Array.isArray($)||($&&(Sl[0]=$.toString()),$=Sl);for(let J=0;J<$.length;J++){const he=yt(_,$[J],R||v.handleEvent,!1,v.h||v);if(!he)break;v.g[he.key]=he}v=d.J?P(d.J):{},d.u?(d.v||(d.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,v)):(d.v="GET",d.g.ea(d.B,d.v,null,v)),Di(),ff(d.i,d.v,d.B,d.l,d.S,d.u)}hi.prototype.ba=function(d){d=d.target;const v=this.O;v&&mi(d)==3?v.j():this.Y(d)},hi.prototype.Y=function(d){try{if(d==this.g)e:{const Me=mi(this.g),jt=this.g.ya(),Ze=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||rn(this.g)))){this.K||Me!=4||jt==7||(jt==8||Ze<=0?Di(3):Di(2)),Oi(this);var v=this.g.ca();this.X=v;var _=gf(this);if(this.o=v==200,xu(this.i,this.v,this.B,this.l,this.S,Me,v),this.o){if(this.U&&!this.L){t:{if(this.g){var R,$=this.g;if((R=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(R)){var J=R;break t}}J=null}if(d=J)Ni(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Fi(this,d);else{this.o=!1,this.m=3,Bt(12),zn(this),Kn(this);break e}}if(this.R){d=!0;let xt;for(;!this.K&&this.C<_.length;)if(xt=_u(this,_),xt==Jt){Me==4&&(this.m=4,Bt(14),d=!1),Ni(this.i,this.l,null,"[Incomplete Response]");break}else if(xt==Mt){this.m=4,Bt(15),Ni(this.i,this.l,_,"[Invalid Chunk]"),d=!1;break}else Ni(this.i,this.l,xt,null),Fi(this,xt);if(bu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||_.length!=0||this.h.h||(this.m=1,Bt(16),d=!1),this.o=this.o&&d,!d)Ni(this.i,this.l,_,"[Invalid Chunked Response]"),zn(this),Kn(this);else if(_.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Pl(he),he.P=!0,Bt(11))}}else Ni(this.i,this.l,_,null),Fi(this,_);Me==4&&zn(this),this.o&&!this.K&&(Me==4?Iu(this.j,this):(this.o=!1,Mi(this)))}else dr(this.g),v==400&&_.indexOf("Unknown SID")>0?(this.m=3,Bt(12)):(this.m=0,Bt(13)),zn(this),Kn(this)}}}catch{}};function gf(d){if(!bu(d))return d.g.la();const v=rn(d.g);if(v==="")return"";let _="";const R=v.length,$=mi(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return zn(d),Kn(d),"";d.h.i=new h.TextDecoder}for(let J=0;J<R;J++)d.h.h=!0,_+=d.h.i.decode(v[J],{stream:!($&&J==R-1)});return v.length=0,d.h.g+=_,d.C=0,d.h.g}function bu(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function _u(d,v){var _=d.C,R=v.indexOf(`
`,_);return R==-1?Jt:(_=Number(v.substring(_,R)),isNaN(_)?Mt:(R+=1,R+_>v.length?Jt:(v=v.slice(R,R+_),d.C=R+_,v)))}hi.prototype.cancel=function(){this.K=!0,zn(this)};function Mi(d){d.T=Date.now()+d.H,Ja(d,d.H)}function Ja(d,v){if(d.D!=null)throw Error("WatchDog timer not null");d.D=zi(y(d.aa,d),v)}function Oi(d){d.D&&(h.clearTimeout(d.D),d.D=null)}hi.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(na(this.i,this.B),this.M!=2&&(Di(),Bt(17)),zn(this),this.m=2,Kn(this)):Ja(this,this.T-d)};function Kn(d){d.j.I==0||d.K||Iu(d.j,d)}function zn(d){Oi(d);var v=d.O;v&&typeof v.dispose=="function"&&v.dispose(),d.O=null,Al(d.V),d.g&&(v=d.g,d.g=null,v.abort(),v.dispose())}function Fi(d,v){try{var _=d.j;if(_.I!=0&&(_.g==d||Li(_.h,d))){if(!d.L&&Li(_.h,d)&&_.I==3){try{var R=_.Ba.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var $=R;if($[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<d.F)ao(_),es(_);else break e;ha(_),Bt(18)}}else _.xa=$[1],0<_.xa-_.K&&$[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=zi(y(_.Va,_),6e3));Vi(_.h)<=1&&_.ta&&(_.ta=void 0)}else Gi(_,11)}else if((d.L||_.g==d)&&ao(_),!N(v))for($=_.Ba.g.parse(v),v=0;v<$.length;v++){let Ze=$[v];const xt=Ze[0];if(!(xt<=_.K))if(_.K=xt,Ze=Ze[1],_.I==2)if(Ze[0]=="c"){_.M=Ze[1],_.ba=Ze[2];const Xn=Ze[3];Xn!=null&&(_.ka=Xn,_.j.info("VER="+_.ka));const $i=Ze[4];$i!=null&&(_.za=$i,_.j.info("SVER="+_.za));const yi=Ze[5];yi!=null&&typeof yi=="number"&&yi>0&&(R=1.5*yi,_.O=R,_.j.info("backChannelRequestTimeoutMs_="+R)),R=_;const xi=d.g;if(xi){const fa=xi.g?xi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fa){var J=R.h;J.g||fa.indexOf("spdy")==-1&&fa.indexOf("quic")==-1&&fa.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(jl(J,J.h),J.h=null))}if(R.G){const oo=xi.g?xi.g.getResponseHeader("X-HTTP-Session-Id"):null;oo&&(R.wa=oo,it(R.J,R.G,oo))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-d.F,_.j.info("Handshake RTT: "+_.T+"ms")),R=_;var he=d;if(R.na=zu(R,R.L?R.ba:null,R.W),he.L){Il(R.h,he);var Me=he,jt=R.O;jt&&(Me.H=jt),Me.D&&(Oi(Me),Mi(Me)),R.g=he}else Ru(R);_.i.length>0&&Wi(_)}else Ze[0]!="stop"&&Ze[0]!="close"||Gi(_,7);else _.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Gi(_,7):Vl(_):Ze[0]!="noop"&&_.l&&_.l.qa(Ze),_.A=0)}}Di(4)}catch{}}var Ot=class{constructor(d,v){this.g=d,this.map=v}};function wl(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Rl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Vi(d){return d.h?1:d.g?d.g.size:0}function Li(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function jl(d,v){d.g?d.g.add(v):d.h=v}function Il(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}wl.prototype.cancel=function(){if(this.i=Dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Dl(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const _ of d.g.values())v=v.concat(_.G);return v}return I(d.i)}var Eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Za(d,v){if(d){d=d.split("&");for(let _=0;_<d.length;_++){const R=d[_].indexOf("=");let $,J=null;R>=0?($=d[_].substring(0,R),J=d[_].substring(R+1)):$=d[_],v($,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Nn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;d instanceof Nn?(this.l=d.l,Zt(this,d.j),this.o=d.o,this.g=d.g,$r(this,d.u),this.h=d.h,kl(this,Cu(d.i)),this.m=d.m):d&&(v=String(d).match(Eu))?(this.l=!1,Zt(this,v[1]||"",!0),this.o=Pi(v[2]||""),this.g=Pi(v[3]||"",!0),$r(this,v[4]),this.h=Pi(v[5]||"",!0),kl(this,v[6]||"",!0),this.m=Pi(v[7]||"")):(this.l=!1,this.i=new Yr(null,this.l))}Nn.prototype.toString=function(){const d=[];var v=this.j;v&&d.push(aa(v,eo,!0),":");var _=this.g;return(_||v=="file")&&(d.push("//"),(v=this.o)&&d.push(aa(v,eo,!0),"@"),d.push(cr(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&d.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&d.push("/"),d.push(aa(_,_.charAt(0)=="/"?zl:Su,!0))),(_=this.i.toString())&&d.push("?",_),(_=this.m)&&d.push("#",aa(_,Au)),d.join("")},Nn.prototype.resolve=function(d){const v=Ft(this);let _=!!d.j;_?Zt(v,d.j):_=!!d.o,_?v.o=d.o:_=!!d.g,_?v.g=d.g:_=d.u!=null;var R=d.h;if(_)$r(v,d.u);else if(_=!!d.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var $=v.h.lastIndexOf("/");$!=-1&&(R=v.h.slice(0,$+1)+R)}if($=R,$==".."||$==".")R="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){R=$.lastIndexOf("/",0)==0,$=$.split("/");const J=[];for(let he=0;he<$.length;){const Me=$[he++];Me=="."?R&&he==$.length&&J.push(""):Me==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),R&&he==$.length&&J.push("")):(J.push(Me),R=!0)}R=J.join("/")}else R=$}return _?v.h=R:_=d.i.toString()!=="",_?kl(v,Cu(d.i)):_=!!d.m,_&&(v.m=d.m),v};function Ft(d){return new Nn(d)}function Zt(d,v,_){d.j=_?Pi(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function $r(d,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);d.u=v}else d.u=null}function kl(d,v,_){v instanceof Yr?(d.i=v,no(d.i,d.l)):(_||(v=aa(v,Kr)),d.i=new Yr(v,d.l))}function it(d,v,_){d.i.set(v,_)}function sa(d){return it(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Pi(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function aa(d,v,_){return typeof d=="string"?(d=encodeURI(d).replace(v,_n),_&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function _n(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var eo=/[#\/\?@]/g,Su=/[#\?:]/g,zl=/[#\?]/g,Kr=/[#\?@]/g,Au=/#/g;function Yr(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function En(d){d.g||(d.g=new Map,d.h=0,d.i&&Za(d.i,function(v,_){d.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}r=Yr.prototype,r.add=function(d,v){En(this),this.i=null,d=Qr(this,d);let _=this.g.get(d);return _||this.g.set(d,_=[]),_.push(v),this.h+=1,this};function Tu(d,v){En(d),v=Qr(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function Nl(d,v){return En(d),v=Qr(d,v),d.g.has(v)}r.forEach=function(d,v){En(this),this.g.forEach(function(_,R){_.forEach(function($){d.call(v,$,R,this)},this)},this)};function Bl(d,v){En(d);let _=[];if(typeof v=="string")Nl(d,v)&&(_=_.concat(d.g.get(Qr(d,v))));else for(d=Array.from(d.g.values()),v=0;v<d.length;v++)_=_.concat(d[v]);return _}r.set=function(d,v){return En(this),this.i=null,d=Qr(this,d),Nl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},r.get=function(d,v){return d?(d=Bl(this,d),d.length>0?String(d[0]):v):v};function to(d,v,_){Tu(d,v),_.length>0&&(d.i=null,d.g.set(Qr(d,v),I(_)),d.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(let R=0;R<v.length;R++){var _=v[R];const $=cr(_);_=Bl(this,_);for(let J=0;J<_.length;J++){let he=$;_[J]!==""&&(he+="="+cr(_[J])),d.push(he)}}return this.i=d.join("&")};function Cu(d){const v=new Yr;return v.i=d.i,d.g&&(v.g=new Map(d.g),v.h=d.h),v}function Qr(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function no(d,v){v&&!d.j&&(En(d),d.i=null,d.g.forEach(function(_,R){const $=R.toLowerCase();R!=$&&(Tu(this,R),to(this,$,_))},d)),d.j=v}function pi(d,v){const _=new di;if(h.Image){const R=new Image;R.onload=x(Yn,_,"TestLoadImage: loaded",!0,v,R),R.onerror=x(Yn,_,"TestLoadImage: error",!1,v,R),R.onabort=x(Yn,_,"TestLoadImage: abort",!1,v,R),R.ontimeout=x(Yn,_,"TestLoadImage: timeout",!1,v,R),h.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else v(!1)}function Ml(d,v){const _=new di,R=new AbortController,$=setTimeout(()=>{R.abort(),Yn(_,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:R.signal}).then(J=>{clearTimeout($),J.ok?Yn(_,"TestPingServer: ok",!0,v):Yn(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout($),Yn(_,"TestPingServer: error",!1,v)})}function Yn(d,v,_,R,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),R(_)}catch{}}function Xr(){this.g=new fu}function Ui(d){this.i=d.Sb||null,this.h=d.ab||!1}E(Ui,pu),Ui.prototype.g=function(){return new oa(this.i,this.h)};function oa(d,v){Nt.call(this),this.H=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(oa,Nt),r=oa.prototype,r.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=v,this.readyState=1,gi(this)},r.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(v.body=d),(this.H||h).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Jr(this)),this.readyState=0},r.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,gi(this)),this.g&&(this.readyState=3,gi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;io(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function io(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}r.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Jr(this):gi(this),this.readyState==3&&io(this)}},r.Oa=function(d){this.g&&(this.response=this.responseText=d,Jr(this))},r.Na=function(d){this.g&&(this.response=d,Jr(this))},r.ga=function(){this.g&&Jr(this)};function Jr(d){d.readyState=4,d.l=null,d.j=null,d.B=null,gi(d)}r.setRequestHeader=function(d,v){this.A.append(d,v)},r.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,d.push(_[0]+": "+_[1]),_=v.next();return d.join(`\r
`)};function gi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(oa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Qn(d){let v="";return le(d,function(_,R){v+=R,v+=":",v+=_,v+=`\r
`}),v}function la(d,v,_){e:{for(R in _){var R=!1;break e}R=!0}R||(_=Qn(_),typeof d=="string"?_!=null&&cr(_):it(d,v,_))}function ot(d){Nt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(ot,Nt);var qi=/^https?$/i,Ol=["POST","PUT"];r=ot.prototype,r.Fa=function(d){this.H=d},r.ea=function(d,v,_,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Cl.g(),this.g.onreadystatechange=A(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(J){ca(this,J);return}if(d=_||"",_=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var $ in R)_.set($,R[$]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const J of R.keys())_.set(J,R.get(J));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(_.keys()).find(J=>J.toLowerCase()=="content-type"),$=h.FormData&&d instanceof h.FormData,!(Array.prototype.indexOf.call(Ol,v,void 0)>=0)||R||$||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,he]of _)this.g.setRequestHeader(J,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(J){ca(this,J)}};function ca(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.o=5,Fl(d),ur(d)}function Fl(d){d.A||(d.A=!0,Kt(d,"complete"),Kt(d,"error"))}r.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Kt(this,"complete"),Kt(this,"abort"),ur(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ur(this,!0)),ot.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ua(this):this.Xa())},r.Xa=function(){ua(this)};function ua(d){if(d.h&&typeof u<"u"){if(d.v&&mi(d)==4)setTimeout(d.Ca.bind(d),0);else if(Kt(d,"readystatechange"),mi(d)==4){d.h=!1;try{const J=d.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var R;if(R=J===0){let he=String(d.D).match(Eu)[1]||null;!he&&h.self&&h.self.location&&(he=h.self.location.protocol.slice(0,-1)),R=!qi.test(he?he.toLowerCase():"")}_=R}if(_)Kt(d,"complete"),Kt(d,"success");else{d.o=6;try{var $=mi(d)>2?d.g.statusText:""}catch{$=""}d.l=$+" ["+d.ca()+"]",Fl(d)}}finally{ur(d)}}}}function ur(d,v){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const _=d.g;d.g=null,v||Kt(d,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function mi(d){return d.g?d.g.readyState:0}r.ca=function(){try{return mi(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),hf(v)}};function rn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function dr(d){const v={};d=(d.g&&mi(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(N(d[R]))continue;var _=vu(d[R]);const $=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const J=v[$]||[];v[$]=J,J.push(_)}Te(v,function(R){return R.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hi(d,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[d]||v}function Zr(d){this.za=0,this.i=[],this.j=new di,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hi("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hi("baseRetryDelayMs",5e3,d),this.Za=Hi("retryDelaySeedMs",1e4,d),this.Ta=Hi("forwardChannelMaxRetries",2,d),this.va=Hi("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new wl(d&&d.concurrentRequestLimit),this.Ba=new Xr,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Zr.prototype,r.ka=8,r.I=1,r.connect=function(d,v,_,R){Bt(0),this.W=d,this.H=v||{},_&&R!==void 0&&(this.H.OSID=_,this.H.OAID=R),this.F=this.X,this.J=zu(this,null,this.W),Wi(this)};function Vl(d){if(ro(d),d.I==3){var v=d.V++,_=Ft(d.J);if(it(_,"SID",d.M),it(_,"RID",v),it(_,"TYPE","terminate"),da(d,_),v=new hi(d,d.j,v),v.M=2,v.A=sa(Ft(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(v.A.toString(),"")}catch{}!_&&h.Image&&(new Image().src=v.A,_=!0),_||(v.g=Nu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Mi(v)}ku(d)}function es(d){d.g&&(Pl(d),d.g.cancel(),d.g=null)}function ro(d){es(d),d.v&&(h.clearTimeout(d.v),d.v=null),ao(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&h.clearTimeout(d.m),d.m=null)}function Wi(d){if(!Rl(d.h)&&!d.m){d.m=!0;var v=d.Ea;G||C(),oe||(G(),oe=!0),S.add(v,d),d.D=0}}function so(d,v){return Vi(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=v.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=zi(y(d.Ea,d,v),Du(d,d.D)),d.D++,!0)}r.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const $=new hi(this,this.j,d);let J=this.o;if(this.U&&(J?(J=P(J),re(J,this.U)):J=this.U),this.u!==null||this.R||($.J=J,J=null),this.S)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var R=this.i[_];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,v>4096){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=wu(this,$,v),_=Ft(this.J),it(_,"RID",d),it(_,"CVER",22),this.G&&it(_,"X-HTTP-Session-Id",this.G),da(this,_),J&&(this.R?v="headers="+cr(Qn(J))+"&"+v:this.u&&la(_,this.u,J)),jl(this.h,$),this.Ra&&it(_,"TYPE","init"),this.S?(it(_,"$req",v),it(_,"SID","null"),$.U=!0,Bi($,_,null)):Bi($,_,v),this.I=2}}else this.I==3&&(d?Ll(this,d):this.i.length==0||Rl(this.h)||Ll(this))};function Ll(d,v){var _;v?_=v.l:_=d.V++;const R=Ft(d.J);it(R,"SID",d.M),it(R,"RID",_),it(R,"AID",d.K),da(d,R),d.u&&d.o&&la(R,d.u,d.o),_=new hi(d,d.j,_,d.D+1),d.u===null&&(_.J=d.o),v&&(d.i=v.G.concat(d.i)),v=wu(d,_,1e3),_.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),jl(d.h,_),Bi(_,R,v)}function da(d,v){d.H&&le(d.H,function(_,R){it(v,R,_)}),d.l&&le({},function(_,R){it(v,R,_)})}function wu(d,v,_){_=Math.min(d.i.length,_);const R=d.l?y(d.l.Ka,d.l,d):null;e:{var $=d.i;let Me=-1;for(;;){const jt=["count="+_];Me==-1?_>0?(Me=$[0].g,jt.push("ofs="+Me)):Me=0:jt.push("ofs="+Me);let Ze=!0;for(let xt=0;xt<_;xt++){var J=$[xt].g;const Xn=$[xt].map;if(J-=Me,J<0)Me=Math.max(0,$[xt].g-100),Ze=!1;else try{J="req"+J+"_"||"";try{var he=Xn instanceof Map?Xn:Object.entries(Xn);for(const[$i,yi]of he){let xi=yi;g(yi)&&(xi=Gr(yi)),jt.push(J+$i+"="+encodeURIComponent(xi))}}catch($i){throw jt.push(J+"type="+encodeURIComponent("_badmap")),$i}}catch{R&&R(Xn)}}if(Ze){he=jt.join("&");break e}}he=void 0}return d=d.i.splice(0,_),v.G=d,he}function Ru(d){if(!d.g&&!d.v){d.Y=1;var v=d.Da;G||C(),oe||(G(),oe=!0),S.add(v,d),d.A=0}}function ha(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=zi(y(d.Da,d),Du(d,d.A)),d.A++,!0)}r.Da=function(){if(this.v=null,ju(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=zi(y(this.Wa,this),d)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Bt(10),es(this),ju(this))};function Pl(d){d.B!=null&&(h.clearTimeout(d.B),d.B=null)}function ju(d){d.g=new hi(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var v=Ft(d.na);it(v,"RID","rpc"),it(v,"SID",d.M),it(v,"AID",d.K),it(v,"CI",d.F?"0":"1"),!d.F&&d.ia&&it(v,"TO",d.ia),it(v,"TYPE","xmlhttp"),da(d,v),d.u&&d.o&&la(v,d.u,d.o),d.O&&(d.g.H=d.O);var _=d.g;d=d.ba,_.M=1,_.A=sa(Ft(v)),_.u=null,_.R=!0,Xa(_,d)}r.Va=function(){this.C!=null&&(this.C=null,es(this),ha(this),Bt(19))};function ao(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function Iu(d,v){var _=null;if(d.g==v){ao(d),Pl(d),d.g=null;var R=2}else if(Li(d.h,v))_=v.G,Il(d.h,v),R=1;else return;if(d.I!=0){if(v.o)if(R==1){_=v.u?v.u.length:0,v=Date.now()-v.F;var $=d.D;R=Qa(),Kt(R,new ki(R,_)),Wi(d)}else Ru(d);else if($=v.m,$==3||$==0&&v.X>0||!(R==1&&so(d,v)||R==2&&ha(d)))switch(_&&_.length>0&&(v=d.h,v.i=v.i.concat(_)),$){case 1:Gi(d,5);break;case 4:Gi(d,10);break;case 3:Gi(d,6);break;default:Gi(d,2)}}}function Du(d,v){let _=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(_*=2),_*v}function Gi(d,v){if(d.j.info("Error code "+v),v==2){var _=y(d.bb,d),R=d.Ua;const $=!R;R=new Nn(R||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Zt(R,"https"),sa(R),$?pi(R.toString(),_):Ml(R.toString(),_)}else Bt(2);d.I=0,d.l&&d.l.pa(v),ku(d),ro(d)}r.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function ku(d){if(d.I=0,d.ja=[],d.l){const v=Dl(d.h);(v.length!=0||d.i.length!=0)&&(L(d.ja,v),L(d.ja,d.i),d.h.i.length=0,I(d.i),d.i.length=0),d.l.oa()}}function zu(d,v,_){var R=_ instanceof Nn?Ft(_):new Nn(_);if(R.g!="")v&&(R.g=v+"."+R.g),$r(R,R.u);else{var $=h.location;R=$.protocol,v=v?v+"."+$.hostname:$.hostname,$=+$.port;const J=new Nn(null);R&&Zt(J,R),v&&(J.g=v),$&&$r(J,$),_&&(J.h=_),R=J}return _=d.G,v=d.wa,_&&v&&it(R,_,v),it(R,"VER",d.ka),da(d,R),R}function Nu(d,v,_){if(v&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Aa&&!d.ma?new ot(new Ui({ab:_})):new ot(d.ma),v.Fa(d.L),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}r=Bu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ts(){}ts.prototype.g=function(d,v){return new xn(d,v)};function xn(d,v){Nt.call(this),this.g=new Zr(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(d?d["X-WebChannel-Client-Profile"]=v.sa:d={"X-WebChannel-Client-Profile":v.sa}),this.g.U=d,(d=v&&v.Qb)&&!N(d)&&(this.g.u=d),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!N(v)&&(this.g.G=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new hr(this)}E(xn,Nt),xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){Vl(this.g)},xn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var _={};_.__data__=d,d=_}else this.v&&(_={},_.__data__=Gr(d),d=_);v.i.push(new Ot(v.Ya++,d)),v.I==3&&Wi(v)},xn.prototype.N=function(){this.g.l=null,delete this.j,Vl(this.g),delete this.g,xn.Z.N.call(this)};function Mu(d){nn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const _ in v){d=_;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}E(Mu,nn);function Ou(){$n.call(this),this.status=1}E(Ou,$n);function hr(d){this.g=d}E(hr,Bu),hr.prototype.ra=function(){Kt(this.g,"a")},hr.prototype.qa=function(d){Kt(this.g,new Mu(d))},hr.prototype.pa=function(d){Kt(this.g,new Ou)},hr.prototype.oa=function(){Kt(this.g,"b")},ts.prototype.createWebChannel=ts.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,__=function(){return new ts},b_=function(){return Qa()},v_=Rt,Yg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ia.NO_ERROR=0,ia.TIMEOUT=8,ia.HTTP_ERROR=6,rh=ia,Tl.COMPLETE="complete",x_=Tl,gu.EventType=ui,ui.OPEN="a",ui.CLOSE="b",ui.ERROR="c",ui.MESSAGE="d",Nt.prototype.listen=Nt.prototype.J,Dc=gu,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa,y_=ot}).apply(typeof qd<"u"?qd:typeof self<"u"?self:typeof window<"u"?window:{});let pn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");let fl="12.9.0";function TR(r){fl=r}const La=new Em("@firebase/firestore");function Vo(){return La.logLevel}function me(r,...e){if(La.logLevel<=qe.DEBUG){const n=e.map(Bm);La.debug(`Firestore (${fl}): ${r}`,...n)}}function Fr(r,...e){if(La.logLevel<=qe.ERROR){const n=e.map(Bm);La.error(`Firestore (${fl}): ${r}`,...n)}}function Pa(r,...e){if(La.logLevel<=qe.WARN){const n=e.map(Bm);La.warn(`Firestore (${fl}): ${r}`,...n)}}function Bm(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function we(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,E_(r,s,n)}function E_(r,e,n){let s=`FIRESTORE (${fl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Fr(s),new Error(s)}function nt(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||E_(e,o,s)}function Ne(r,e){return r}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends qr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class S_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(pn.UNAUTHENTICATED)))}shutdown(){}}class wR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class RR{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){nt(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let u=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new zr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const m=u;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},g=m=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((m=>g(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?g(m):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new zr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(nt(typeof s.accessToken=="string",31837,{l:s}),new S_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new pn(e)}}class jR{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class IR{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new jR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class V2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){nt(this.o===void 0,3512);const s=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,me("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new V2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(nt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new V2(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function kR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Mm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=kR(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function He(r,e){return r<e?-1:r>e?1:0}function Qg(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Tg(o)===Tg(u)?He(o,u):Tg(o)?1:-1}return He(r.length,e.length)}const zR=55296,NR=57343;function Tg(r){const e=r.charCodeAt(0);return e>=zR&&e<=NR}function Jo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const L2="__name__";class Ji{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&we(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ji.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ji?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ji.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return He(e.length,n.length)}static compareSegments(e,n){const s=Ji.isNumericId(e),o=Ji.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ji.extractNumericId(e).compare(Ji.extractNumericId(n)):Qg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ms.fromString(e.substring(4,e.length-2))}}class ft extends Ji{construct(e,n,s){return new ft(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new pe(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ft(n)}static emptyPath(){return new ft([])}}const BR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends Ji{construct(e,n,s){return new un(e,n,s)}static isValidIdentifier(e){return BR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L2}static keyField(){return new un([L2])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new pe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new pe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new pe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else g==="`"?(h=!h,o++):g!=="."||h?(s+=g,o++):(u(),o++)}if(u(),h)throw new pe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(n)}static emptyPath(){return new un([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ft.fromString(e))}static fromName(e){return new _e(ft.fromString(e).popFirst(5))}static empty(){return new _e(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ft(e.slice()))}}function A_(r,e,n){if(!n)throw new pe(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function MR(r,e,n,s){if(e===!0&&s===!0)throw new pe(ie.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function P2(r){if(!_e.isDocumentKey(r))throw new pe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function U2(r){if(_e.isDocumentKey(r))throw new pe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function T_(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function qh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":we(12329,{type:typeof r})}function Dn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new pe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qh(r);throw new pe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function OR(r,e){if(e<=0)throw new pe(ie.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}function Wt(r,e){const n={typeString:r};return e&&(n.value=e),n}function ou(r,e){if(!T_(r))throw new pe(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new pe(ie.INVALID_ARGUMENT,n);return!0}const q2=-62135596800,H2=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*H2);return new mt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<q2)throw new pe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/H2}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ou(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-q2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:Wt("string",mt._jsonSchemaVersion),seconds:Wt("number"),nanoseconds:Wt("number")};class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new mt(0,0))}static max(){return new Ie(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Wc=-1;function FR(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(s===1e9?new mt(n+1,0):new mt(n,s));return new Vs(o,_e.empty(),e)}function VR(r){return new Vs(r.readTime,r.key,Wc)}class Vs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Vs(Ie.min(),_e.empty(),Wc)}static max(){return new Vs(Ie.max(),_e.empty(),Wc)}}function LR(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(r.documentKey,e.documentKey),n!==0?n:He(r.largestBatchId,e.largestBatchId))}const PR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function pl(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==PR)throw r;me("LocalStore","Unexpectedly lost primary lease")}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.reject(n)}static resolve(e){return new ae(((n,s)=>{n(e)}))}static reject(e){return new ae(((n,s)=>{s(e)}))}static waitFor(e){return new ae(((n,s)=>{let o=0,u=0,h=!1;e.forEach((g=>{++o,g.next((()=>{++u,h&&u===o&&n()}),(m=>s(m)))})),h=!0,u===o&&n()}))}static or(e){let n=ae.resolve(!1);for(const s of e)n=n.next((o=>o?ae.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ae(((s,o)=>{const u=e.length,h=new Array(u);let g=0;for(let m=0;m<u;m++){const y=m;n(e[y]).next((x=>{h[y]=x,++g,g===u&&s(h)}),(x=>o(x)))}}))}static doWhile(e,n){return new ae(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function qR(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gl(r){return r.name==="IndexedDbTransactionError"}class Hh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hh.ce=-1;const Om=-1;function Wh(r){return r==null}function bh(r){return r===0&&1/r==-1/0}function HR(r){return typeof r=="number"&&Number.isInteger(r)&&!bh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const C_="";function WR(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=W2(e)),e=GR(r.get(n),e);return W2(e)}function GR(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case C_:n+="";break;default:n+=u}}return n}function W2(r){return r+C_+""}function G2(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Qs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function w_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class St{constructor(e,n){this.comparator=e,this.root=n||cn.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hd(this.root,e,this.comparator,!0)}}class Hd{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??cn.RED,this.left=o??cn.EMPTY,this.right=u??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new cn(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return cn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $2(this.data.getIterator())}getIteratorFrom(e){return new $2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Qt(this.comparator);return n.data=e,n}}class $2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qn{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new qn([])}unionWith(e){let n=new Qt(un.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class R_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new R_("Invalid base64 string: "+u):u}})(e);return new dn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const $R=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ls(r){if(nt(!!r,39018),typeof r=="string"){let e=0;const n=$R.exec(r);if(nt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:kt(r.seconds),nanos:kt(r.nanos)}}function kt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ps(r){return typeof r=="string"?dn.fromBase64String(r):dn.fromUint8Array(r)}const j_="server_timestamp",I_="__type__",D_="__previous_value__",k_="__local_write_time__";function Fm(r){return(r?.mapValue?.fields||{})[I_]?.stringValue===j_}function Gh(r){const e=r.mapValue.fields[D_];return Fm(e)?Gh(e):e}function Gc(r){const e=Ls(r.mapValue.fields[k_].timestampValue);return new mt(e.seconds,e.nanos)}class KR{constructor(e,n,s,o,u,h,g,m,y,x,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=g,this.longPollingOptions=m,this.useFetchStreams=y,this.isUsingEmulator=x,this.apiKey=E}}const _h="(default)";class $c{constructor(e,n){this.projectId=e,this.database=n||_h}static empty(){return new $c("","")}get isDefaultDatabase(){return this.database===_h}isEqual(e){return e instanceof $c&&e.projectId===this.projectId&&e.database===this.database}}function YR(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new pe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $c(r.options.projectId,e)}const z_="__type__",QR="__max__",Wd={mapValue:{}},N_="__vector__",Eh="value";function Us(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Fm(r)?4:JR(r)?9007199254740991:XR(r)?10:11:we(28295,{value:r})}function rr(r,e){if(r===e)return!0;const n=Us(r);if(n!==Us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Gc(r).isEqual(Gc(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Ls(o.timestampValue),g=Ls(u.timestampValue);return h.seconds===g.seconds&&h.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Ps(o.bytesValue).isEqual(Ps(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return kt(o.geoPointValue.latitude)===kt(u.geoPointValue.latitude)&&kt(o.geoPointValue.longitude)===kt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return kt(o.integerValue)===kt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=kt(o.doubleValue),g=kt(u.doubleValue);return h===g?bh(h)===bh(g):isNaN(h)&&isNaN(g)}return!1})(r,e);case 9:return Jo(r.arrayValue.values||[],e.arrayValue.values||[],rr);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},g=u.mapValue.fields||{};if(G2(h)!==G2(g))return!1;for(const m in h)if(h.hasOwnProperty(m)&&(g[m]===void 0||!rr(h[m],g[m])))return!1;return!0})(r,e);default:return we(52216,{left:r})}}function Kc(r,e){return(r.values||[]).find((n=>rr(n,e)))!==void 0}function Zo(r,e){if(r===e)return 0;const n=Us(r),s=Us(e);if(n!==s)return He(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const g=kt(u.integerValue||u.doubleValue),m=kt(h.integerValue||h.doubleValue);return g<m?-1:g>m?1:g===m?0:isNaN(g)?isNaN(m)?0:-1:1})(r,e);case 3:return K2(r.timestampValue,e.timestampValue);case 4:return K2(Gc(r),Gc(e));case 5:return Qg(r.stringValue,e.stringValue);case 6:return(function(u,h){const g=Ps(u),m=Ps(h);return g.compareTo(m)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const g=u.split("/"),m=h.split("/");for(let y=0;y<g.length&&y<m.length;y++){const x=He(g[y],m[y]);if(x!==0)return x}return He(g.length,m.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const g=He(kt(u.latitude),kt(h.latitude));return g!==0?g:He(kt(u.longitude),kt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Y2(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const g=u.fields||{},m=h.fields||{},y=g[Eh]?.arrayValue,x=m[Eh]?.arrayValue,E=He(y?.values?.length||0,x?.values?.length||0);return E!==0?E:Y2(y,x)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===Wd.mapValue&&h===Wd.mapValue)return 0;if(u===Wd.mapValue)return 1;if(h===Wd.mapValue)return-1;const g=u.fields||{},m=Object.keys(g),y=h.fields||{},x=Object.keys(y);m.sort(),x.sort();for(let E=0;E<m.length&&E<x.length;++E){const A=Qg(m[E],x[E]);if(A!==0)return A;const I=Zo(g[m[E]],y[x[E]]);if(I!==0)return I}return He(m.length,x.length)})(r.mapValue,e.mapValue);default:throw we(23264,{he:n})}}function K2(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return He(r,e);const n=Ls(r),s=Ls(e),o=He(n.seconds,s.seconds);return o!==0?o:He(n.nanos,s.nanos)}function Y2(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Zo(n[o],s[o]);if(u)return u}return He(n.length,s.length)}function el(r){return Xg(r)}function Xg(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Ls(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Ps(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return _e.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Xg(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Xg(n.fields[h])}`;return o+"}"})(r.mapValue):we(61005,{value:r})}function sh(r){switch(Us(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gh(r);return e?16+sh(e):16;case 5:return 2*r.stringValue.length;case 6:return Ps(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+sh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Qs(s.fields,((u,h)=>{o+=u.length+sh(h)})),o})(r.mapValue);default:throw we(13486,{value:r})}}function Q2(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Jg(r){return!!r&&"integerValue"in r}function Vm(r){return!!r&&"arrayValue"in r}function X2(r){return!!r&&"nullValue"in r}function J2(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ah(r){return!!r&&"mapValue"in r}function XR(r){return(r?.mapValue?.fields||{})[z_]?.stringValue===N_}function Fc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Qs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Fc(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fc(r.arrayValue.values[n]);return e}return{...r}}function JR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===QR}class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ah(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fc(n)}setAll(e){let n=un.emptyPath(),s={},o=[];e.forEach(((h,g)=>{if(!n.isImmediateParentOf(g)){const m=this.getFieldsMap(n);this.applyChanges(m,s,o),s={},o=[],n=g.popLast()}h?s[g.lastSegment()]=Fc(h):o.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ah(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ah(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Qs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new In(Fc(this.value))}}function B_(r){const e=[];return Qs(r.fields,((n,s)=>{const o=new un([n]);if(ah(s)){const u=B_(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new qn(e)}class gn{constructor(e,n,s,o,u,h,g){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=g}static newInvalidDocument(e){return new gn(e,0,Ie.min(),Ie.min(),Ie.min(),In.empty(),0)}static newFoundDocument(e,n,s,o){return new gn(e,1,n,Ie.min(),s,o,0)}static newNoDocument(e,n){return new gn(e,2,n,Ie.min(),Ie.min(),In.empty(),0)}static newUnknownDocument(e,n){return new gn(e,3,n,Ie.min(),Ie.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sh{constructor(e,n){this.position=e,this.inclusive=n}}function Z2(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(h.referenceValue),n.key):s=Zo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function ev(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!rr(r.position[n],e.position[n]))return!1;return!0}class Yc{constructor(e,n="asc"){this.field=e,this.dir=n}}function ZR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class M_{}class Ht extends M_{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new t3(e,n,s):n==="array-contains"?new r3(e,s):n==="in"?new s3(e,s):n==="not-in"?new a3(e,s):n==="array-contains-any"?new o3(e,s):new Ht(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new n3(e,s):new i3(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zo(n,this.value)):n!==null&&Us(this.value)===Us(n)&&this.matchesComparison(Zo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends M_{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ci(e,n)}matches(e){return O_(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function O_(r){return r.op==="and"}function F_(r){return e3(r)&&O_(r)}function e3(r){for(const e of r.filters)if(e instanceof Ci)return!1;return!0}function Zg(r){if(r instanceof Ht)return r.field.canonicalString()+r.op.toString()+el(r.value);if(F_(r))return r.filters.map((e=>Zg(e))).join(",");{const e=r.filters.map((n=>Zg(n))).join(",");return`${r.op}(${e})`}}function V_(r,e){return r instanceof Ht?(function(s,o){return o instanceof Ht&&s.op===o.op&&s.field.isEqual(o.field)&&rr(s.value,o.value)})(r,e):r instanceof Ci?(function(s,o){return o instanceof Ci&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,g)=>u&&V_(h,o.filters[g])),!0):!1})(r,e):void we(19439)}function L_(r){return r instanceof Ht?(function(n){return`${n.field.canonicalString()} ${n.op} ${el(n.value)}`})(r):r instanceof Ci?(function(n){return n.op.toString()+" {"+n.getFilters().map(L_).join(" ,")+"}"})(r):"Filter"}class t3 extends Ht{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class n3 extends Ht{constructor(e,n){super(e,"in",n),this.keys=P_("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class i3 extends Ht{constructor(e,n){super(e,"not-in",n),this.keys=P_("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function P_(r,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class r3 extends Ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Vm(n)&&Kc(n.arrayValue,this.value)}}class s3 extends Ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Kc(this.value.arrayValue,n)}}class a3 extends Ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Kc(this.value.arrayValue,n)}}class o3 extends Ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Vm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Kc(this.value.arrayValue,s)))}}class l3{constructor(e,n=null,s=[],o=[],u=null,h=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=g,this.Te=null}}function tv(r,e=null,n=[],s=[],o=null,u=null,h=null){return new l3(r,e,n,s,o,u,h)}function Lm(r){const e=Ne(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Zg(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Wh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>el(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>el(s))).join(",")),e.Te=n}return e.Te}function Pm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!ZR(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!V_(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!ev(r.startAt,e.startAt)&&ev(r.endAt,e.endAt)}function em(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class ml{constructor(e,n=null,s=[],o=[],u=null,h="F",g=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=g,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function c3(r,e,n,s,o,u,h,g){return new ml(r,e,n,s,o,u,h,g)}function $h(r){return new ml(r)}function nv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function u3(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function U_(r){return r.collectionGroup!==null}function Vc(r){const e=Ne(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let g=new Qt(un.comparator);return h.filters.forEach((m=>{m.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Yc(u,s))})),n.has(un.keyField().canonicalString())||e.Ie.push(new Yc(un.keyField(),s))}return e.Ie}function tr(r){const e=Ne(r);return e.Ee||(e.Ee=d3(e,Vc(r))),e.Ee}function d3(r,e){if(r.limitType==="F")return tv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Yc(o.field,u)}));const n=r.endAt?new Sh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Sh(r.startAt.position,r.startAt.inclusive):null;return tv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function tm(r,e){const n=r.filters.concat([e]);return new ml(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function h3(r,e){const n=r.explicitOrderBy.concat([e]);return new ml(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Ah(r,e,n){return new ml(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Kh(r,e){return Pm(tr(r),tr(e))&&r.limitType===e.limitType}function q_(r){return`${Lm(tr(r))}|lt:${r.limitType}`}function Lo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>L_(o))).join(", ")}]`),Wh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>el(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>el(o))).join(",")),`Target(${s})`})(tr(r))}; limitType=${r.limitType})`}function Yh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Vc(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,g,m){const y=Z2(h,g,m);return h.inclusive?y<=0:y<0})(s.startAt,Vc(s),o)||s.endAt&&!(function(h,g,m){const y=Z2(h,g,m);return h.inclusive?y>=0:y>0})(s.endAt,Vc(s),o))})(r,e)}function f3(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function H_(r){return(e,n)=>{let s=!1;for(const o of Vc(r)){const u=p3(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function p3(r,e,n){const s=r.field.isKeyField()?_e.comparator(e.key,n.key):(function(u,h,g){const m=h.data.field(u),y=g.data.field(u);return m!==null&&y!==null?Zo(m,y):we(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:r.dir})}}class Ha{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return w_(this.inner)}size(){return this.innerSize}}const g3=new St(_e.comparator);function Vr(){return g3}const W_=new St(_e.comparator);function kc(...r){let e=W_;for(const n of r)e=e.insert(n.key,n);return e}function G_(r){let e=W_;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function za(){return Lc()}function $_(){return Lc()}function Lc(){return new Ha((r=>r.toString()),((r,e)=>r.isEqual(e)))}const m3=new St(_e.comparator),y3=new Qt(_e.comparator);function We(...r){let e=y3;for(const n of r)e=e.add(n);return e}const x3=new Qt(He);function v3(){return x3}function Um(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(e)?"-0":e}}function K_(r){return{integerValue:""+r}}function b3(r,e){return HR(e)?K_(e):Um(r,e)}class Qh{constructor(){this._=void 0}}function _3(r,e,n){return r instanceof Qc?(function(o,u){const h={fields:{[I_]:{stringValue:j_},[k_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Fm(u)&&(u=Gh(u)),u&&(h.fields[D_]=u),{mapValue:h}})(n,e):r instanceof tl?Q_(r,e):r instanceof nl?X_(r,e):(function(o,u){const h=Y_(o,u),g=iv(h)+iv(o.Ae);return Jg(h)&&Jg(o.Ae)?K_(g):Um(o.serializer,g)})(r,e)}function E3(r,e,n){return r instanceof tl?Q_(r,e):r instanceof nl?X_(r,e):n}function Y_(r,e){return r instanceof Th?(function(s){return Jg(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Qc extends Qh{}class tl extends Qh{constructor(e){super(),this.elements=e}}function Q_(r,e){const n=J_(e);for(const s of r.elements)n.some((o=>rr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class nl extends Qh{constructor(e){super(),this.elements=e}}function X_(r,e){let n=J_(e);for(const s of r.elements)n=n.filter((o=>!rr(o,s)));return{arrayValue:{values:n}}}class Th extends Qh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function iv(r){return kt(r.integerValue||r.doubleValue)}function J_(r){return Vm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class qm{constructor(e,n){this.field=e,this.transform=n}}function S3(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof tl&&o instanceof tl||s instanceof nl&&o instanceof nl?Jo(s.elements,o.elements,rr):s instanceof Th&&o instanceof Th?rr(s.Ae,o.Ae):s instanceof Qc&&o instanceof Qc})(r.transform,e.transform)}class A3{constructor(e,n){this.version=e,this.transformResults=n}}class oi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new oi}static exists(e){return new oi(void 0,e)}static updateTime(e){return new oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Xh{}function Z_(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Hm(r.key,oi.none()):new lu(r.key,r.data,oi.none());{const n=r.data,s=In.empty();let o=new Qt(un.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Xs(r.key,s,new qn(o.toArray()),oi.none())}}function T3(r,e,n){r instanceof lu?(function(o,u,h){const g=o.value.clone(),m=sv(o.fieldTransforms,u,h.transformResults);g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(r,e,n):r instanceof Xs?(function(o,u,h){if(!oh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const g=sv(o.fieldTransforms,u,h.transformResults),m=u.data;m.setAll(eE(o)),m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Pc(r,e,n,s){return r instanceof lu?(function(u,h,g,m){if(!oh(u.precondition,h))return g;const y=u.value.clone(),x=av(u.fieldTransforms,m,h);return y.setAll(x),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof Xs?(function(u,h,g,m){if(!oh(u.precondition,h))return g;const y=av(u.fieldTransforms,m,h),x=h.data;return x.setAll(eE(u)),x.setAll(y),h.convertToFoundDocument(h.version,x).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(r,e,n,s):(function(u,h,g){return oh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):g})(r,e,n)}function C3(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Y_(s.transform,o||null);u!=null&&(n===null&&(n=In.empty()),n.set(s.field,u))}return n||null}function rv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Jo(s,o,((u,h)=>S3(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class lu extends Xh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Xs extends Xh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function eE(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function sv(r,e,n){const s=new Map;nt(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,g=e.data.field(u.field);s.set(u.field,E3(h,g,n[o]))}return s}function av(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,_3(u,h,e))}return s}class Hm extends Xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class w3 extends Xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class R3{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&T3(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Pc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Pc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=$_();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let g=this.applyToLocalView(h,u.mutatedFields);g=n.has(o.key)?null:g;const m=Z_(h,g);m!==null&&s.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(Ie.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),We())}isEqual(e){return this.batchId===e.batchId&&Jo(this.mutations,e.mutations,((n,s)=>rv(n,s)))&&Jo(this.baseMutations,e.baseMutations,((n,s)=>rv(n,s)))}}class Wm{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){nt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return m3})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Wm(e,n,s,o)}}class j3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class I3{constructor(e,n){this.count=e,this.unchangedNames=n}}var qt,Ke;function D3(r){switch(r){case ie.OK:return we(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return we(15467,{code:r})}}function tE(r){if(r===void 0)return Fr("GRPC error has no .code"),ie.UNKNOWN;switch(r){case qt.OK:return ie.OK;case qt.CANCELLED:return ie.CANCELLED;case qt.UNKNOWN:return ie.UNKNOWN;case qt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case qt.INTERNAL:return ie.INTERNAL;case qt.UNAVAILABLE:return ie.UNAVAILABLE;case qt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case qt.NOT_FOUND:return ie.NOT_FOUND;case qt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case qt.ABORTED:return ie.ABORTED;case qt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case qt.DATA_LOSS:return ie.DATA_LOSS;default:return we(39323,{code:r})}}(Ke=qt||(qt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";function k3(){return new TextEncoder}const z3=new Ms([4294967295,4294967295],0);function ov(r){const e=k3().encode(r),n=new m_;return n.update(e),new Uint8Array(n.digest())}function lv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ms([n,s],0),new Ms([o,u],0)]}class Gm{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new zc(`Invalid padding: ${n}`);if(s<0)throw new zc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new zc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new zc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ms.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Ms.fromNumber(s)));return o.compare(z3)===1&&(o=new Ms([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ov(e),[s,o]=lv(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Gm(u,o,n);return s.forEach((g=>h.insert(g))),h}insert(e){if(this.ge===0)return;const n=ov(e),[s,o]=lv(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.be(h)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class zc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Jh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Jh(Ie.min(),o,new St(He),Vr(),We())}}class cu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new cu(s,n,We(),We(),We())}}class lh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class nE{constructor(e,n){this.targetId=e,this.Ce=n}}class iE{constructor(e,n,s=dn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class cv{constructor(){this.ve=0,this.Fe=uv(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=We(),n=We(),s=We();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:we(38017,{changeType:u})}})),new cu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=uv()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class N3{constructor(e){this.Ge=e,this.ze=new Map,this.je=Vr(),this.He=Gd(),this.Je=Gd(),this.Ze=new St(He)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(em(u))if(s===0){const h=new _e(u.path);this.et(n,h,gn.newNoDocument(h,Ie.min()))}else nt(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const g=this.ut(e),m=g?this.ct(g,e,h):1;if(m!==0){this.it(n);const y=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,g;try{h=Ps(s).toUint8Array()}catch(m){if(m instanceof R_)return Pa("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{g=new Gm(h,o,u)}catch(m){return Pa(m instanceof zc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return g.ge===0?null:g}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),g=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const g=this.ot(h);if(g){if(u.current&&em(g.target)){const m=new _e(g.target.path);this.It(m).has(h)||this.Et(h,m)||this.et(h,m,gn.newNoDocument(m,e))}u.Be&&(n.set(h,u.ke()),u.Ke())}}));let s=We();this.Je.forEach(((u,h)=>{let g=!0;h.forEachWhile((m=>{const y=this.ot(m);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Jh(e,n,this.Ze,this.je,s);return this.je=Vr(),this.He=Gd(),this.Je=Gd(),this.Ze=new St(He),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new cv,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Qt(He),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Qt(He),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new cv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Gd(){return new St(_e.comparator)}function uv(){return new St(_e.comparator)}const B3={asc:"ASCENDING",desc:"DESCENDING"},M3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},O3={and:"AND",or:"OR"};class F3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function nm(r,e){return r.useProto3Json||Wh(e)?e:{value:e}}function Ch(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function V3(r,e){return Ch(r,e.toTimestamp())}function nr(r){return nt(!!r,49232),Ie.fromTimestamp((function(n){const s=Ls(n);return new mt(s.seconds,s.nanos)})(r))}function $m(r,e){return im(r,e).canonicalString()}function im(r,e){const n=(function(o){return new ft(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function sE(r){const e=ft.fromString(r);return nt(uE(e),10190,{key:e.toString()}),e}function rm(r,e){return $m(r.databaseId,e.path)}function Cg(r,e){const n=sE(e);if(n.get(1)!==r.databaseId.projectId)throw new pe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new pe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new _e(oE(n))}function aE(r,e){return $m(r.databaseId,e)}function L3(r){const e=sE(r);return e.length===4?ft.emptyPath():oE(e)}function sm(r){return new ft(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function oE(r){return nt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function dv(r,e,n){return{name:rm(r,e),fields:n.value.mapValue.fields}}function P3(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:we(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,x){return y.useProto3Json?(nt(x===void 0||typeof x=="string",58123),dn.fromBase64String(x||"")):(nt(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),dn.fromUint8Array(x||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,g=h&&(function(y){const x=y.code===void 0?ie.UNKNOWN:tE(y.code);return new pe(x,y.message||"")})(h);n=new iE(s,o,u,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Cg(r,s.document.name),u=nr(s.document.updateTime),h=s.document.createTime?nr(s.document.createTime):Ie.min(),g=new In({mapValue:{fields:s.document.fields}}),m=gn.newFoundDocument(o,u,h,g),y=s.targetIds||[],x=s.removedTargetIds||[];n=new lh(y,x,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Cg(r,s.document),u=s.readTime?nr(s.readTime):Ie.min(),h=gn.newNoDocument(o,u),g=s.removedTargetIds||[];n=new lh([],g,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Cg(r,s.document),u=s.removedTargetIds||[];n=new lh([],u,o,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new I3(o,u),g=s.targetId;n=new nE(g,h)}}return n}function U3(r,e){let n;if(e instanceof lu)n={update:dv(r,e.key,e.value)};else if(e instanceof Hm)n={delete:rm(r,e.key)};else if(e instanceof Xs)n={update:dv(r,e.key,e.data),updateMask:X3(e.fieldMask)};else{if(!(e instanceof w3))return we(16599,{dt:e.type});n={verify:rm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const g=h.transform;if(g instanceof Qc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof tl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof nl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Th)return{fieldPath:h.field.canonicalString(),increment:g.Ae};throw we(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:V3(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we(27497)})(r,e.precondition)),n}function q3(r,e){return r&&r.length>0?(nt(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?nr(o.updateTime):nr(u);return h.isEqual(Ie.min())&&(h=nr(u)),new A3(h,o.transformResults||[])})(n,e)))):[]}function H3(r,e){return{documents:[aE(r,e.path)]}}function W3(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=aE(r,o);const u=(function(y){if(y.length!==0)return cE(Ci.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(y){if(y.length!==0)return y.map((x=>(function(A){return{field:Po(A.field),direction:K3(A.dir)}})(x)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const g=nm(r,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function G3(r){let e=L3(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){nt(s===1,65062);const x=n.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let u=[];n.where&&(u=(function(E){const A=lE(E);return A instanceof Ci&&F_(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(E){return E.map((A=>(function(L){return new Yc(Uo(L.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(A)))})(n.orderBy));let g=null;n.limit&&(g=(function(E){let A;return A=typeof E=="object"?E.value:E,Wh(A)?null:A})(n.limit));let m=null;n.startAt&&(m=(function(E){const A=!!E.before,I=E.values||[];return new Sh(I,A)})(n.startAt));let y=null;return n.endAt&&(y=(function(E){const A=!E.before,I=E.values||[];return new Sh(I,A)})(n.endAt)),c3(e,o,h,u,g,"F",m,y)}function $3(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lE(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Uo(n.unaryFilter.field);return Ht.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Uo(n.unaryFilter.field);return Ht.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Uo(n.unaryFilter.field);return Ht.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Uo(n.unaryFilter.field);return Ht.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ht.create(Uo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Ci.create(n.compositeFilter.filters.map((s=>lE(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(n.compositeFilter.op))})(r):we(30097,{filter:r})}function K3(r){return B3[r]}function Y3(r){return M3[r]}function Q3(r){return O3[r]}function Po(r){return{fieldPath:r.canonicalString()}}function Uo(r){return un.fromServerFormat(r.fieldPath)}function cE(r){return r instanceof Ht?(function(n){if(n.op==="=="){if(J2(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NAN"}};if(X2(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(J2(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NAN"}};if(X2(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(n.field),op:Y3(n.op),value:n.value}}})(r):r instanceof Ci?(function(n){const s=n.getFilters().map((o=>cE(o)));return s.length===1?s[0]:{compositeFilter:{op:Q3(n.op),filters:s}}})(r):we(54877,{filter:r})}function X3(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function uE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function dE(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Is{constructor(e,n,s,o,u=Ie.min(),h=Ie.min(),g=dn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=g,this.expectedCount=m}withSequenceNumber(e){return new Is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class J3{constructor(e){this.yt=e}}function Z3(r){const e=G3({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ah(e,e.limit,"L"):e}class ej{constructor(){this.Sn=new tj}addToCollectionParentIndex(e,n){return this.Sn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Vs.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Vs.min())}updateCollectionGroup(e,n,s){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class tj{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Qt(ft.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Qt(ft.comparator)).toArray()}}const hv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hE=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(hE,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);class il{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new il(0)}static ar(){return new il(-1)}}const fv="LruGarbageCollector",nj=1048576;function pv([r,e],[n,s]){const o=He(r,n);return o===0?He(e,s):o}class ij{constructor(e){this.Pr=e,this.buffer=new Qt(pv),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();pv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rj{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){me(fv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){gl(n)?me(fv,"Ignoring IndexedDB error during garbage collection: ",n):await pl(n)}await this.Ar(3e5)}))}}class sj{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(Hh.ce);const s=new ij(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(hv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hv):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,h,g,m,y;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,h=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(s=E,g=Date.now(),this.removeTargets(e,s,n)))).next((E=>(u=E,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(y=Date.now(),Vo()<=qe.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-x}ms
	Determined least recently used ${o} in `+(g-h)+`ms
	Removed ${u} targets in `+(m-g)+`ms
	Removed ${E} documents in `+(y-m)+`ms
Total Duration: ${y-x}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E}))))}}function aj(r,e){return new sj(r,e)}class oj{constructor(){this.changes=new Ha((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ae.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class cj{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Pc(s.mutation,o,qn.empty(),mt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,We()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=We()){const o=za();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=kc();return u.forEach(((g,m)=>{h=h.insert(g,m.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=za();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,We())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,g)=>{n.set(h,g)}))}))}computeViews(e,n,s,o){let u=Vr();const h=Lc(),g=(function(){return Lc()})();return n.forEach(((m,y)=>{const x=s.get(y.key);o.has(y.key)&&(x===void 0||x.mutation instanceof Xs)?u=u.insert(y.key,y):x!==void 0?(h.set(y.key,x.mutation.getFieldMask()),Pc(x.mutation,y,x.mutation.getFieldMask(),mt.now())):h.set(y.key,qn.empty())})),this.recalculateAndSaveOverlays(e,u).next((m=>(m.forEach(((y,x)=>h.set(y,x))),n.forEach(((y,x)=>g.set(y,new lj(x,h.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,n){const s=Lc();let o=new St(((h,g)=>h-g)),u=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const g of h)g.keys().forEach((m=>{const y=n.get(m);if(y===null)return;let x=s.get(m)||qn.empty();x=g.applyToLocalView(y,x),s.set(m,x);const E=(o.get(g.batchId)||We()).add(m);o=o.insert(g.batchId,E)}))})).next((()=>{const h=[],g=o.getReverseIterator();for(;g.hasNext();){const m=g.getNext(),y=m.key,x=m.value,E=$_();x.forEach((A=>{if(!u.has(A)){const I=Z_(n.get(A),s.get(A));I!==null&&E.set(A,I),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,E))}return ae.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return u3(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):U_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ae.resolve(za());let g=Wc,m=u;return h.next((y=>ae.forEach(y,((x,E)=>(g<E.largestBatchId&&(g=E.largestBatchId),u.get(x)?ae.resolve():this.remoteDocumentCache.getEntry(e,x).next((A=>{m=m.insert(x,A)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,m,y,We()))).next((x=>({batchId:g,changes:G_(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((s=>{let o=kc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=kc();return this.indexManager.getCollectionParents(e,u).next((g=>ae.forEach(g,(m=>{const y=(function(E,A){return new ml(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((x=>{x.forEach(((E,A)=>{h=h.insert(E,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((m,y)=>{const x=y.getKey();h.get(x)===null&&(h=h.insert(x,gn.newInvalidDocument(x)))}));let g=kc();return h.forEach(((m,y)=>{const x=u.get(m);x!==void 0&&Pc(x.mutation,y,qn.empty(),mt.now()),Yh(n,y)&&(g=g.insert(m,y))})),g}))}}class uj{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ae.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:nr(o.createTime)}})(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:Z3(o.bundledQuery),readTime:nr(o.readTime)}})(n)),ae.resolve()}}class dj{constructor(){this.overlays=new St(_e.comparator),this.Lr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const s=za();return ae.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),ae.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),ae.resolve()}getOverlaysForCollection(e,n,s){const o=za(),u=n.length+1,h=new _e(n.child("")),g=this.overlays.getIteratorFrom(h);for(;g.hasNext();){const m=g.getNext().value,y=m.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return ae.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new St(((y,x)=>y-x));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let x=u.get(y.largestBatchId);x===null&&(x=za(),u=u.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const g=za(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((y,x)=>g.set(y,x))),!(g.size()>=o)););return ae.resolve(g)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new j3(n,s));let u=this.Lr.get(n);u===void 0&&(u=We(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class hj{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}class Km{constructor(){this.kr=new Qt(tn.Kr),this.qr=new Qt(tn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new tn(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new tn(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new _e(new ft([])),s=new tn(n,e),o=new tn(n,e+1),u=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new _e(new ft([])),s=new tn(n,e),o=new tn(n,e+1);let u=We();return this.qr.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new tn(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class tn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return _e.comparator(e.key,n.key)||He(e.Hr,n.Hr)}static Ur(e,n){return He(e.Hr,n.Hr)||_e.comparator(e.key,n.key)}}class fj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Qt(tn.Kr)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new R3(u,n,s,o);this.mutationQueue.push(h);for(const g of o)this.Jr=this.Jr.add(new tn(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return ae.resolve(h)}lookupMutationBatch(e,n){return ae.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ae.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Om:this.Yn-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new tn(n,0),o=new tn(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(h=>{const g=this.Zr(h.Hr);u.push(g)})),ae.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Qt(He);return n.forEach((o=>{const u=new tn(o,0),h=new tn(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(g=>{s=s.add(g.Hr)}))})),ae.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const h=new tn(new _e(u),0);let g=new Qt(He);return this.Jr.forEachWhile((m=>{const y=m.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(g=g.add(m.Hr)),!0)}),h),ae.resolve(this.Yr(g))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){nt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ae.forEach(n.mutations,(o=>{const u=new tn(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new tn(n,0),o=this.Jr.firstAfterOrEqual(s);return ae.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class pj{constructor(e){this.ti=e,this.docs=(function(){return new St(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ae.resolve(s?s.document.mutableCopy():gn.newInvalidDocument(n))}getEntries(e,n){let s=Vr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():gn.newInvalidDocument(o))})),ae.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Vr();const h=n.path,g=new _e(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(g);for(;m.hasNext();){const{key:y,value:{document:x}}=m.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||LR(VR(x),s)<=0||(o.has(x.key)||Yh(n,x))&&(u=u.insert(x.key,x.mutableCopy()))}return ae.resolve(u)}getAllFromCollectionGroup(e,n,s,o){we(9500)}ni(e,n){return ae.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new gj(this)}getSize(e){return ae.resolve(this.size)}}class gj extends oj{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ae.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class mj{constructor(e){this.persistence=e,this.ri=new Ha((n=>Lm(n)),Pm),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.ii=0,this.si=new Km,this.targetCount=0,this.oi=il._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ae.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new il(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.lr(n),ae.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((h,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),ae.waitFor(u).next((()=>o))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ae.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ae.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ae.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ae.resolve(s)}containsKey(e,n){return ae.resolve(this.si.containsKey(n))}}class fE{constructor(e,n){this._i={},this.overlays={},this.ai=new Hh(0),this.ui=!1,this.ui=!0,this.ci=new hj,this.referenceDelegate=e(this),this.li=new mj(this),this.indexManager=new ej,this.remoteDocumentCache=(function(o){return new pj(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new J3(n),this.Pi=new uj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new fj(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const o=new yj(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ae.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class yj extends UR{constructor(e){super(),this.currentSequenceNumber=e}}class Ym{constructor(e){this.persistence=e,this.Ri=new Km,this.Ai=null}static Vi(e){return new Ym(e)}get di(){if(this.Ai)return this.Ai;throw we(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ae.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.di,(s=>{const o=_e.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Ie.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class wh{constructor(e,n){this.persistence=e,this.fi=new Ha((s=>WR(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=aj(this,n)}static Vi(e,n){return new wh(e,n)}Ti(){}Ii(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ae.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?ae.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((g=>{g||(s++,u.removeEntry(h,Ie.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ae.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sh(e.data.value)),n}wr(e,n,s){return ae.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ae.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Qm{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=We(),o=We();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Qm(e,n.fromCache,s,o)}}class xj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class vj{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return qC()?8:qR(mn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new xj;return this.ys(e,n,h).next((g=>{if(u.result=g,this.As)return this.ws(e,n,h,g.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(Vo()<=qe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Lo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ae.resolve()):(Vo()<=qe.DEBUG&&me("QueryEngine","Query:",Lo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Vo()<=qe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Lo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tr(n))):ae.resolve())}gs(e,n){if(nv(n))return ae.resolve(null);let s=tr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Ah(n,null,"F"),s=tr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=We(...u);return this.fs.getDocuments(e,h).next((g=>this.indexManager.getMinOffset(e,s).next((m=>{const y=this.bs(n,g);return this.Ss(n,y,h,m.readTime)?this.gs(e,Ah(n,null,"F")):this.Ds(e,y,n,m)}))))})))))}ps(e,n,s,o){return nv(n)||o.isEqual(Ie.min())?ae.resolve(null):this.fs.getDocuments(e,s).next((u=>{const h=this.bs(n,u);return this.Ss(n,h,s,o)?ae.resolve(null):(Vo()<=qe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Lo(n)),this.Ds(e,h,n,FR(o,Wc)).next((g=>g)))}))}bs(e,n){let s=new Qt(H_(e));return n.forEach(((o,u)=>{Yh(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return Vo()<=qe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Lo(n)),this.fs.getDocumentsMatchingQuery(e,n,Vs.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const Xm="LocalStore",bj=3e8;class _j{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new St(He),this.Fs=new Ha((u=>Lm(u)),Pm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cj(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function Ej(r,e,n,s){return new _j(r,e,n,s)}async function pE(r,e){const n=Ne(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],g=[];let m=We();for(const y of o){h.push(y.batchId);for(const x of y.mutations)m=m.add(x.key)}for(const y of u){g.push(y.batchId);for(const x of y.mutations)m=m.add(x.key)}return n.localDocuments.getDocuments(s,m).next((y=>({Ns:y,removedBatchIds:h,addedBatchIds:g})))}))}))}function Sj(r,e){const n=Ne(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(g,m,y,x){const E=y.batch,A=E.keys();let I=ae.resolve();return A.forEach((L=>{I=I.next((()=>x.getEntry(m,L))).next((j=>{const M=y.docVersions.get(L);nt(M!==null,48541),j.version.compareTo(M)<0&&(E.applyToRemoteDocument(j,y),j.isValidDocument()&&(j.setReadTime(y.commitVersion),x.addEntry(j)))}))})),I.next((()=>g.mutationQueue.removeMutationBatch(m,E)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let m=We();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(m=m.add(g.batch.mutations[y].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function gE(r){const e=Ne(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function Aj(r,e){const n=Ne(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const g=[];e.targetChanges.forEach(((x,E)=>{const A=o.get(E);if(!A)return;g.push(n.li.removeMatchingKeys(u,x.removedDocuments,E).next((()=>n.li.addMatchingKeys(u,x.addedDocuments,E))));let I=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?I=I.withResumeToken(dn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):x.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(x.resumeToken,s)),o=o.insert(E,I),(function(j,M,W){return j.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=bj?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(A,I,x)&&g.push(n.li.updateTargetData(u,I))}));let m=Vr(),y=We();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,x))})),g.push(Tj(u,h,e.documentUpdates).next((x=>{m=x.Bs,y=x.Ls}))),!s.isEqual(Ie.min())){const x=n.li.getLastRemoteSnapshotVersion(u).next((E=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));g.push(x)}return ae.waitFor(g).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,m,y))).next((()=>m))})).then((u=>(n.vs=o,u)))}function Tj(r,e,n){let s=We(),o=We();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=Vr();return n.forEach(((g,m)=>{const y=u.get(g);m.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),m.isNoDocument()&&m.version.isEqual(Ie.min())?(e.removeEntry(g,m.readTime),h=h.insert(g,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||m.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(m),h=h.insert(g,m)):me(Xm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",m.version)})),{Bs:h,Ls:o}}))}function Cj(r,e){const n=Ne(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Om),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function wj(r,e){const n=Ne(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,ae.resolve(o)):n.li.allocateTargetId(s).next((h=>(o=new Is(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function am(r,e,n){const s=Ne(r),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!gl(h))throw h;me(Xm,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function gv(r,e,n){const s=Ne(r);let o=Ie.min(),u=We();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(m,y,x){const E=Ne(m),A=E.Fs.get(x);return A!==void 0?ae.resolve(E.vs.get(A)):E.li.getTargetData(y,x)})(s,h,tr(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,g.targetId).next((m=>{u=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:Ie.min(),n?u:We()))).next((g=>(Rj(s,f3(e),g),{documents:g,ks:u})))))}function Rj(r,e,n){let s=r.Ms.get(e)||Ie.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class mv{constructor(){this.activeTargetIds=v3()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jj{constructor(){this.vo=new mv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new mv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ij{Mo(e){}shutdown(){}}const yv="ConnectivityMonitor";class xv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){me(yv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){me(yv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let $d=null;function om(){return $d===null?$d=(function(){return 268435456+Math.round(2147483648*Math.random())})():$d++,"0x"+$d.toString(16)}const wg="RestConnection",Dj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class kj{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===_h?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const h=om(),g=this.Qo(e,n.toUriEncodedString());me(wg,`Sending RPC '${e}' ${h}:`,g,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,o,u);const{host:y}=new URL(g),x=dl(y);return this.zo(e,g,m,s,x).then((E=>(me(wg,`Received RPC '${e}' ${h}: `,E),E)),(E=>{throw Pa(wg,`RPC '${e}' ${h} failed with error: `,E,"url: ",g,"request:",s),E}))}jo(e,n,s,o,u,h){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=Dj[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class zj{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const fn="WebChannelConnection",wc=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class $o extends kj{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!$o.c_){const e=b_();wc(e,v_.STAT_EVENT,(n=>{n.stat===Yg.PROXY?me(fn,"STAT_EVENT: detected buffering proxy"):n.stat===Yg.NOPROXY&&me(fn,"STAT_EVENT: detected no buffering proxy")})),$o.c_=!0}}zo(e,n,s,o,u){const h=om();return new Promise(((g,m)=>{const y=new y_;y.setWithCredentials(!0),y.listenOnce(x_.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case rh.NO_ERROR:const E=y.getResponseJson();me(fn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(E)),g(E);break;case rh.TIMEOUT:me(fn,`RPC '${e}' ${h} timed out`),m(new pe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const A=y.getStatus();if(me(fn,`RPC '${e}' ${h} failed with status:`,A,"response text:",y.getResponseText()),A>0){let I=y.getResponseJson();Array.isArray(I)&&(I=I[0]);const L=I?.error;if(L&&L.status&&L.message){const j=(function(W){const z=W.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(z)>=0?z:ie.UNKNOWN})(L.status);m(new pe(j,L.message))}else m(new pe(ie.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new pe(ie.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{me(fn,`RPC '${e}' ${h} completed.`)}}));const x=JSON.stringify(o);me(fn,`RPC '${e}' ${h} sending request:`,o),y.send(n,"POST",x,s,15)}))}T_(e,n,s){const o=om(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(g.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const y=u.join("");me(fn,`Creating RPC '${e}' stream ${o}: ${y}`,g);const x=h.createWebChannel(y,g);this.I_(x);let E=!1,A=!1;const I=new zj({Ho:L=>{A?me(fn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(E||(me(fn,`Opening RPC '${e}' stream ${o} transport.`),x.open(),E=!0),me(fn,`RPC '${e}' stream ${o} sending:`,L),x.send(L))},Jo:()=>x.close()});return wc(x,Dc.EventType.OPEN,(()=>{A||(me(fn,`RPC '${e}' stream ${o} transport opened.`),I.i_())})),wc(x,Dc.EventType.CLOSE,(()=>{A||(A=!0,me(fn,`RPC '${e}' stream ${o} transport closed`),I.o_(),this.E_(x))})),wc(x,Dc.EventType.ERROR,(L=>{A||(A=!0,Pa(fn,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),I.o_(new pe(ie.UNAVAILABLE,"The operation could not be completed")))})),wc(x,Dc.EventType.MESSAGE,(L=>{if(!A){const j=L.data[0];nt(!!j,16349);const M=j,W=M?.error||M[0]?.error;if(W){me(fn,`RPC '${e}' stream ${o} received error:`,W);const z=W.status;let U=(function(oe){const S=qt[oe];if(S!==void 0)return tE(S)})(z),X=W.message;z==="NOT_FOUND"&&X.includes("database")&&X.includes("does not exist")&&X.includes(this.databaseId.database)&&Pa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),U===void 0&&(U=ie.INTERNAL,X="Unknown error status: "+z+" with message "+W.message),A=!0,I.o_(new pe(U,X)),x.close()}else me(fn,`RPC '${e}' stream ${o} received:`,j),I.__(j)}})),$o.u_(),setTimeout((()=>{I.s_()}),0),I}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return __()}}function Nj(r){return new $o(r)}function Rg(){return typeof document<"u"?document:null}function Zh(r){return new F3(r,!0)}$o.c_=!1;class mE{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const vv="PersistentStream";class yE{constructor(e,n,s,o,u,h,g,m){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=g,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Fr(n.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new pe(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(vv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(me(vv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Bj extends yE{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=P3(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ie.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ie.min():h.readTime?nr(h.readTime):Ie.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=sm(this.serializer),n.addTarget=(function(u,h){let g;const m=h.target;if(g=em(m)?{documents:H3(u,m)}:{query:W3(u,m).ft},g.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){g.resumeToken=rE(u,h.resumeToken);const y=nm(u,h.expectedCount);y!==null&&(g.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ie.min())>0){g.readTime=Ch(u,h.snapshotVersion.toTimestamp());const y=nm(u,h.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const s=$3(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=sm(this.serializer),n.removeTarget=e,this.K_(n)}}class Mj extends yE{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=q3(e.writeResults,e.commitTime),s=nr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=sm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>U3(this.serializer,s)))};this.K_(n)}}class Oj{}class Fj extends Oj{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,im(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(ie.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,g])=>this.connection.jo(e,im(n,s),o,h,g,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new pe(ie.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Vj(r,e,n,s){return new Fj(r,e,n,s)}class Lj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fr(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ua="RemoteStore";class Pj{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{Wa(this)&&(me(Ua,"Restarting streams for network reachability change."),await(async function(m){const y=Ne(m);y.Ea.add(4),await uu(y),y.Va.set("Unknown"),y.Ea.delete(4),await ef(y)})(this))}))})),this.Va=new Lj(s,o)}}async function ef(r){if(Wa(r))for(const e of r.Ra)await e(!0)}async function uu(r){for(const e of r.Ra)await e(!1)}function xE(r,e){const n=Ne(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ty(n)?ey(n):yl(n).O_()&&Zm(n,e))}function Jm(r,e){const n=Ne(r),s=yl(n);n.Ia.delete(e),s.O_()&&vE(n,e),n.Ia.size===0&&(s.O_()?s.L_():Wa(n)&&n.Va.set("Unknown"))}function Zm(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yl(r).Z_(e)}function vE(r,e){r.da.$e(e),yl(r).X_(e)}function ey(r){r.da=new N3({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),yl(r).start(),r.Va.ua()}function ty(r){return Wa(r)&&!yl(r).x_()&&r.Ia.size>0}function Wa(r){return Ne(r).Ea.size===0}function bE(r){r.da=void 0}async function Uj(r){r.Va.set("Online")}async function qj(r){r.Ia.forEach(((e,n)=>{Zm(r,e)}))}async function Hj(r,e){bE(r),ty(r)?(r.Va.ha(e),ey(r)):r.Va.set("Unknown")}async function Wj(r,e,n){if(r.Va.set("Online"),e instanceof iE&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const g of u.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,h),o.Ia.delete(g),o.da.removeTarget(g))})(r,e)}catch(s){me(Ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Rh(r,s)}else if(e instanceof lh?r.da.Xe(e):e instanceof nE?r.da.st(e):r.da.tt(e),!n.isEqual(Ie.min()))try{const s=await gE(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const g=u.da.Tt(h);return g.targetChanges.forEach(((m,y)=>{if(m.resumeToken.approximateByteSize()>0){const x=u.Ia.get(y);x&&u.Ia.set(y,x.withResumeToken(m.resumeToken,h))}})),g.targetMismatches.forEach(((m,y)=>{const x=u.Ia.get(m);if(!x)return;u.Ia.set(m,x.withResumeToken(dn.EMPTY_BYTE_STRING,x.snapshotVersion)),vE(u,m);const E=new Is(x.target,m,y,x.sequenceNumber);Zm(u,E)})),u.remoteSyncer.applyRemoteEvent(g)})(r,n)}catch(s){me(Ua,"Failed to raise snapshot:",s),await Rh(r,s)}}async function Rh(r,e,n){if(!gl(e))throw e;r.Ea.add(1),await uu(r),r.Va.set("Offline"),n||(n=()=>gE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{me(Ua,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await ef(r)}))}function _E(r,e){return e().catch((n=>Rh(r,n,e)))}async function tf(r){const e=Ne(r),n=qs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Om;for(;Gj(e);)try{const o=await Cj(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,$j(e,o)}catch(o){await Rh(e,o)}EE(e)&&SE(e)}function Gj(r){return Wa(r)&&r.Ta.length<10}function $j(r,e){r.Ta.push(e);const n=qs(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function EE(r){return Wa(r)&&!qs(r).x_()&&r.Ta.length>0}function SE(r){qs(r).start()}async function Kj(r){qs(r).ra()}async function Yj(r){const e=qs(r);for(const n of r.Ta)e.ea(n.mutations)}async function Qj(r,e,n){const s=r.Ta.shift(),o=Wm.from(s,e,n);await _E(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await tf(r)}async function Xj(r,e){e&&qs(r).Y_&&await(async function(s,o){if((function(h){return D3(h)&&h!==ie.ABORTED})(o.code)){const u=s.Ta.shift();qs(s).B_(),await _E(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await tf(s)}})(r,e),EE(r)&&SE(r)}async function bv(r,e){const n=Ne(r);n.asyncQueue.verifyOperationInProgress(),me(Ua,"RemoteStore received new credentials");const s=Wa(n);n.Ea.add(3),await uu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ef(n)}async function Jj(r,e){const n=Ne(r);e?(n.Ea.delete(2),await ef(n)):e||(n.Ea.add(2),await uu(n),n.Va.set("Unknown"))}function yl(r){return r.ma||(r.ma=(function(n,s,o){const u=Ne(n);return u.sa(),new Bj(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:Uj.bind(null,r),Yo:qj.bind(null,r),t_:Hj.bind(null,r),J_:Wj.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),ty(r)?ey(r):r.Va.set("Unknown")):(await r.ma.stop(),bE(r))}))),r.ma}function qs(r){return r.fa||(r.fa=(function(n,s,o){const u=Ne(n);return u.sa(),new Mj(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Kj.bind(null,r),t_:Xj.bind(null,r),ta:Yj.bind(null,r),na:Qj.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await tf(r)):(await r.fa.stop(),r.Ta.length>0&&(me(Ua,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ny{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,g=new ny(e,n,h,o,u);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iy(r,e){if(Fr("AsyncQueue",`${e}: ${r}`),gl(r))return new pe(ie.UNAVAILABLE,`${e}: ${r}`);throw r}class Ko{static emptySet(e){return new Ko(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=kc(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ko)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ko;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class _v{constructor(){this.ga=new St(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):we(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class rl{constructor(e,n,s,o,u,h,g,m,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=g,this.excludesMetadataChanges=m,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((g=>{h.push({type:0,doc:g})})),new rl(e,n,Ko.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class Zj{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class eI{constructor(){this.queries=Ev(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ne(n),u=o.queries;o.queries=Ev(),u.forEach(((h,g)=>{for(const m of g.ba)m.onError(s)}))})(this,new pe(ie.ABORTED,"Firestore shutting down"))}}function Ev(){return new Ha((r=>q_(r)),Kh)}async function ry(r,e){const n=Ne(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new Zj,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const g=iy(h,`Initialization of query '${Lo(e.query)}' failed`);return void e.onError(g)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&ay(n)}async function sy(r,e){const n=Ne(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.ba.indexOf(e);h>=0&&(u.ba.splice(h,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function tI(r,e){const n=Ne(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const g of h.ba)g.Fa(o)&&(s=!0);h.wa=o}}s&&ay(n)}function nI(r,e,n){const s=Ne(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function ay(r){r.Ca.forEach((e=>{e.next()}))}var lm,Sv;(Sv=lm||(lm={})).Ma="default",Sv.Cache="cache";class oy{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new rl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==lm.Cache}}class AE{constructor(e){this.key=e}}class TE{constructor(e){this.key=e}}class iI{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=We(),this.mutatedKeys=We(),this.eu=H_(e),this.tu=new Ko(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new _v,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,g=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,E)=>{const A=o.get(x),I=Yh(this.query,E)?E:null,L=!!A&&this.mutatedKeys.has(A.key),j=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let M=!1;A&&I?A.data.isEqual(I.data)?L!==j&&(s.track({type:3,doc:I}),M=!0):this.su(A,I)||(s.track({type:2,doc:I}),M=!0,(m&&this.eu(I,m)>0||y&&this.eu(I,y)<0)&&(g=!0)):!A&&I?(s.track({type:0,doc:I}),M=!0):A&&!I&&(s.track({type:1,doc:A}),M=!0,(m||y)&&(g=!0)),M&&(I?(h=h.add(I),u=j?u.add(x):u.delete(x)):(h=h.delete(x),u=u.delete(x)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const x=this.query.limitType==="F"?h.last():h.first();h=h.delete(x.key),u=u.delete(x.key),s.track({type:1,doc:x})}return{tu:h,iu:s,Ss:g,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((x,E)=>(function(I,L){const j=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:M})}};return j(I)-j(L)})(x.type,E.type)||this.eu(x.doc,E.doc))),this.ou(s),o=o??!1;const g=n&&!o?this._u():[],m=this.Ya.size===0&&this.current&&!o?1:0,y=m!==this.Xa;return this.Xa=m,h.length!==0||y?{snapshot:new rl(this.query,e.tu,u,h,e.mutatedKeys,m===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _v,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=We(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new TE(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new AE(s))})),n}cu(e){this.Za=e.ks,this.Ya=We();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return rl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ly="SyncEngine";class rI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class sI{constructor(e){this.key=e,this.hu=!1}}class aI{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Ha((g=>q_(g)),Kh),this.Iu=new Map,this.Eu=new Set,this.Ru=new St(_e.comparator),this.Au=new Map,this.Vu=new Km,this.du={},this.mu=new Map,this.fu=il.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oI(r,e,n=!0){const s=DE(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await CE(s,e,n,!0),o}async function lI(r,e){const n=DE(r);await CE(n,e,!0,!1)}async function CE(r,e,n,s){const o=await wj(r.localStore,tr(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let g;return s&&(g=await cI(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&xE(r.remoteStore,o),g}async function cI(r,e,n,s,o){r.pu=(E,A,I)=>(async function(j,M,W,z){let U=M.view.ru(W);U.Ss&&(U=await gv(j.localStore,M.query,!1).then((({documents:S})=>M.view.ru(S,U))));const X=z&&z.targetChanges.get(M.targetId),G=z&&z.targetMismatches.get(M.targetId)!=null,oe=M.view.applyChanges(U,j.isPrimaryClient,X,G);return Tv(j,M.targetId,oe.au),oe.snapshot})(r,E,A,I);const u=await gv(r.localStore,e,!0),h=new iI(e,u.ks),g=h.ru(u.documents),m=cu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=h.applyChanges(g,r.isPrimaryClient,m);Tv(r,n,y.au);const x=new rI(e,n,h);return r.Tu.set(e,x),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function uI(r,e,n){const s=Ne(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!Kh(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await am(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Jm(s.remoteStore,o.targetId),cm(s,o.targetId)})).catch(pl)):(cm(s,o.targetId),await am(s.localStore,o.targetId,!0))}async function dI(r,e){const n=Ne(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Jm(n.remoteStore,s.targetId))}async function hI(r,e,n){const s=vI(r);try{const o=await(function(h,g){const m=Ne(h),y=mt.now(),x=g.reduce(((I,L)=>I.add(L.key)),We());let E,A;return m.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let L=Vr(),j=We();return m.xs.getEntries(I,x).next((M=>{L=M,L.forEach(((W,z)=>{z.isValidDocument()||(j=j.add(W))}))})).next((()=>m.localDocuments.getOverlayedDocuments(I,L))).next((M=>{E=M;const W=[];for(const z of g){const U=C3(z,E.get(z.key).overlayedDocument);U!=null&&W.push(new Xs(z.key,U,B_(U.value.mapValue),oi.exists(!0)))}return m.mutationQueue.addMutationBatch(I,y,W,g)})).next((M=>{A=M;const W=M.applyToLocalDocumentSet(E,j);return m.documentOverlayCache.saveOverlays(I,M.batchId,W)}))})).then((()=>({batchId:A.batchId,changes:G_(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,g,m){let y=h.du[h.currentUser.toKey()];y||(y=new St(He)),y=y.insert(g,m),h.du[h.currentUser.toKey()]=y})(s,o.batchId,n),await du(s,o.changes),await tf(s.remoteStore)}catch(o){const u=iy(o,"Failed to persist write");n.reject(u)}}async function wE(r,e){const n=Ne(r);try{const s=await Aj(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(nt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?nt(h.hu,14607):o.removedDocuments.size>0&&(nt(h.hu,42227),h.hu=!1))})),await du(n,s,e)}catch(s){await pl(s)}}function Av(r,e,n){const s=Ne(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const g=h.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(h,g){const m=Ne(h);m.onlineState=g;let y=!1;m.queries.forEach(((x,E)=>{for(const A of E.ba)A.va(g)&&(y=!0)})),y&&ay(m)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function fI(r,e,n){const s=Ne(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new St(_e.comparator);h=h.insert(u,gn.newNoDocument(u,Ie.min()));const g=We().add(u),m=new Jh(Ie.min(),new Map,new St(He),h,g);await wE(s,m),s.Ru=s.Ru.remove(u),s.Au.delete(e),cy(s)}else await am(s.localStore,e,!1).then((()=>cm(s,e,n))).catch(pl)}async function pI(r,e){const n=Ne(r),s=e.batch.batchId;try{const o=await Sj(n.localStore,e);jE(n,s,null),RE(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await du(n,o)}catch(o){await pl(o)}}async function gI(r,e,n){const s=Ne(r);try{const o=await(function(h,g){const m=Ne(h);return m.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let x;return m.mutationQueue.lookupMutationBatch(y,g).next((E=>(nt(E!==null,37113),x=E.keys(),m.mutationQueue.removeMutationBatch(y,E)))).next((()=>m.mutationQueue.performConsistencyCheck(y))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(y,x,g))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,x))).next((()=>m.localDocuments.getDocuments(y,x)))}))})(s.localStore,e);jE(s,e,n),RE(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await du(s,o)}catch(o){await pl(o)}}function RE(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function jE(r,e,n){const s=Ne(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function cm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||IE(r,s)}))}function IE(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(Jm(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),cy(r))}function Tv(r,e,n){for(const s of n)s instanceof AE?(r.Vu.addReference(s.key,e),mI(r,s)):s instanceof TE?(me(ly,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||IE(r,s.key)):we(19791,{wu:s})}function mI(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(me(ly,"New document in limbo: "+n),r.Eu.add(s),cy(r))}function cy(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new _e(ft.fromString(e)),s=r.fu.next();r.Au.set(s,new sI(n)),r.Ru=r.Ru.insert(n,s),xE(r.remoteStore,new Is(tr($h(n.path)),s,"TargetPurposeLimboResolution",Hh.ce))}}async function du(r,e,n){const s=Ne(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,m)=>{h.push(s.pu(m,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const x=y?!y.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,x?"current":"not-current")}if(y){o.push(y);const x=Qm.Es(m.targetId,y);u.push(x)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(m,y){const x=Ne(m);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ae.forEach(y,(A=>ae.forEach(A.Ts,(I=>x.persistence.referenceDelegate.addReference(E,A.targetId,I))).next((()=>ae.forEach(A.Is,(I=>x.persistence.referenceDelegate.removeReference(E,A.targetId,I)))))))))}catch(E){if(!gl(E))throw E;me(Xm,"Failed to update sequence numbers: "+E)}for(const E of y){const A=E.targetId;if(!E.fromCache){const I=x.vs.get(A),L=I.snapshotVersion,j=I.withLastLimboFreeSnapshotVersion(L);x.vs=x.vs.insert(A,j)}}})(s.localStore,u))}async function yI(r,e){const n=Ne(r);if(!n.currentUser.isEqual(e)){me(ly,"User change. New user:",e.toKey());const s=await pE(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((g=>{g.forEach((m=>{m.reject(new pe(ie.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await du(n,s.Ns)}}function xI(r,e){const n=Ne(r),s=n.Au.get(e);if(s&&s.hu)return We().add(s.key);{let o=We();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const g=n.Tu.get(h);o=o.unionWith(g.view.nu)}return o}}function DE(r){const e=Ne(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=wE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fI.bind(null,e),e.Pu.J_=tI.bind(null,e.eventManager),e.Pu.yu=nI.bind(null,e.eventManager),e}function vI(r){const e=Ne(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gI.bind(null,e),e}class jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Ej(this.persistence,new vj,e.initialUser,this.serializer)}Cu(e){return new fE(Ym.Vi,this.serializer)}Du(e){return new jj}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jh.provider={build:()=>new jh};class bI extends jh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){nt(this.persistence.referenceDelegate instanceof wh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new rj(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new fE((s=>wh.Vi(s,n)),this.serializer)}}class um{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Av(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=yI.bind(null,this.syncEngine),await Jj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new eI})()}createDatastore(e){const n=Zh(e.databaseInfo.databaseId),s=Nj(e.databaseInfo);return Vj(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,g){return new Pj(s,o,u,h,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>Av(this.syncEngine,n,0)),(function(){return xv.v()?new xv:new Ij})())}createSyncEngine(e,n){return(function(o,u,h,g,m,y,x){const E=new aI(o,u,h,g,m,y);return x&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ne(n);me(Ua,"RemoteStore shutting down."),s.Ea.add(5),await uu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}um.provider={build:()=>new um};class uy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Fr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Hs="FirestoreClient";class _I{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=pn.UNAUTHENTICATED,this.clientId=Mm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{me(Hs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(me(Hs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=iy(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function jg(r,e){r.asyncQueue.verifyOperationInProgress(),me(Hs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await pE(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Cv(r,e){r.asyncQueue.verifyOperationInProgress();const n=await EI(r);me(Hs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>bv(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>bv(e.remoteStore,o))),r._onlineComponents=e}async function EI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){me(Hs,"Using user provided OfflineComponentProvider");try{await jg(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Pa("Error using user provided cache. Falling back to memory cache: "+n),await jg(r,new jh)}}else me(Hs,"Using default OfflineComponentProvider"),await jg(r,new bI(void 0));return r._offlineComponents}async function kE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(me(Hs,"Using user provided OnlineComponentProvider"),await Cv(r,r._uninitializedComponentsProvider._online)):(me(Hs,"Using default OnlineComponentProvider"),await Cv(r,new um))),r._onlineComponents}function SI(r){return kE(r).then((e=>e.syncEngine))}async function Ih(r){const e=await kE(r),n=e.eventManager;return n.onListen=oI.bind(null,e.syncEngine),n.onUnlisten=uI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dI.bind(null,e.syncEngine),n}function AI(r,e,n,s){const o=new uy(s),u=new oy(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>ry(await Ih(r),u))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>sy(await Ih(r),u)))}}function TI(r,e,n={}){const s=new zr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,g,m,y){const x=new uy({next:A=>{x.Nu(),h.enqueueAndForget((()=>sy(u,E)));const I=A.docs.has(g);!I&&A.fromCache?y.reject(new pe(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&A.fromCache&&m&&m.source==="server"?y.reject(new pe(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),E=new oy($h(g.path),x,{includeMetadataChanges:!0,Ka:!0});return ry(u,E)})(await Ih(r),r.asyncQueue,e,n,s))),s.promise}function CI(r,e,n={}){const s=new zr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,g,m,y){const x=new uy({next:A=>{x.Nu(),h.enqueueAndForget((()=>sy(u,E))),A.fromCache&&m.source==="server"?y.reject(new pe(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),E=new oy(g,x,{includeMetadataChanges:!0,Ka:!0});return ry(u,E)})(await Ih(r),r.asyncQueue,e,n,s))),s.promise}function wI(r,e){const n=new zr;return r.asyncQueue.enqueueAndForget((async()=>hI(await SI(r),e,n))),n.promise}function zE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const RI="ComponentProvider",wv=new Map;function jI(r,e,n,s,o){return new KR(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,zE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const NE="firestore.googleapis.com",Rv=!0;class jv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NE,this.ssl=Rv}else this.host=e.host,this.ssl=e.ssl??Rv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nj)throw new pe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zE(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new CR;switch(s.type){case"firstParty":return new IR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=wv.get(n);s&&(me(RI,"Removing Datastore"),wv.delete(n),s.terminate())})(this),Promise.resolve()}}function II(r,e,n,s={}){r=Dn(r,nf);const o=dl(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${n}`;o&&(Eb(`https://${g}`),Sb("Firestore",!0)),u.host!==NE&&u.host!==g&&Pa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...u,host:g,ssl:o,emulatorOptions:s};if(!Br(m,h)&&(r._setSettings(m),s.mockUserToken)){let y,x;if(typeof s.mockUserToken=="string")y=s.mockUserToken,x=pn.MOCK_USER;else{y=NC(s.mockUserToken,r._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new pe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new pn(E)}r._authCredentials=new wR(new S_(y,x))}}class Hr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Hr(this.firestore,e,this._query)}}class Ct{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ct(this.firestore,e,this._key)}toJSON(){return{type:Ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ou(n,Ct._jsonSchema))return new Ct(e,s||null,new _e(ft.fromString(n.referencePath)))}}Ct._jsonSchemaVersion="firestore/documentReference/1.0",Ct._jsonSchema={type:Wt("string",Ct._jsonSchemaVersion),referencePath:Wt("string")};class Os extends Hr{constructor(e,n,s){super(e,n,$h(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new _e(e))}withConverter(e){return new Os(this.firestore,e,this._path)}}function De(r,e,...n){if(r=Et(r),A_("collection","path",e),r instanceof nf){const s=ft.fromString(e,...n);return U2(s),new Os(r,null,s)}{if(!(r instanceof Ct||r instanceof Os))throw new pe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ft.fromString(e,...n));return U2(s),new Os(r.firestore,null,s)}}function Re(r,e,...n){if(r=Et(r),arguments.length===1&&(e=Mm.newId()),A_("doc","path",e),r instanceof nf){const s=ft.fromString(e,...n);return P2(s),new Ct(r,null,new _e(s))}{if(!(r instanceof Ct||r instanceof Os))throw new pe(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ft.fromString(e,...n));return P2(s),new Ct(r.firestore,r instanceof Os?r.converter:null,new _e(s))}}const Iv="AsyncQueue";class Dv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mE(this,"async_queue_retry"),this._c=()=>{const s=Rg();s&&me(Iv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Rg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Rg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new zr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!gl(e))throw e;me(Iv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Fr("INTERNAL UNHANDLED ERROR: ",kv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=ny.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:kv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function kv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Lr extends nf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new Dv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Dv(e),this._firestoreClient=void 0,await e}}}function DI(r,e){const n=typeof r=="object"?r:wb(),s=typeof r=="string"?r:_h,o=Am(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=kC("firestore");u&&II(o,...u)}return o}function rf(r){if(r._terminated)throw new pe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||kI(r),r._firestoreClient}function kI(r){const e=r._freezeSettings(),n=jI(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new _I(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class ai{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ai(dn.fromBase64String(e))}catch(n){throw new pe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ai(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ai._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ou(e,ai._jsonSchema))return ai.fromBase64String(e.bytes)}}ai._jsonSchemaVersion="firestore/bytes/1.0",ai._jsonSchema={type:Wt("string",ai._jsonSchemaVersion),bytes:Wt("string")};class dy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xl{constructor(e){this._methodName=e}}class ir{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ir._jsonSchemaVersion}}static fromJSON(e){if(ou(e,ir._jsonSchema))return new ir(e.latitude,e.longitude)}}ir._jsonSchemaVersion="firestore/geoPoint/1.0",ir._jsonSchema={type:Wt("string",ir._jsonSchemaVersion),latitude:Wt("number"),longitude:Wt("number")};class Ai{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ou(e,Ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ai(e.vectorValues);throw new pe(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ai._jsonSchemaVersion="firestore/vectorValue/1.0",Ai._jsonSchema={type:Wt("string",Ai._jsonSchemaVersion),vectorValues:Wt("object")};const zI=/^__.*__$/;class NI{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms):new lu(e,this.data,n,this.fieldTransforms)}}class BE{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ME(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{dataSource:r})}}class sf{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new sf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Dh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(ME(this.dataSource)&&zI.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class BI{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Zh(e)}createContext(e,n,s,o=!1){return new sf({dataSource:e,methodName:n,targetDoc:s,path:un.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function af(r){const e=r._freezeSettings(),n=Zh(r._databaseId);return new BI(r._databaseId,!!e.ignoreUndefinedProperties,n)}function OE(r,e,n,s,o,u={}){const h=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);gy("Data must be an object, but it was:",h,s);const g=VE(s,h);let m,y;if(u.merge)m=new qn(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const x=[];for(const E of u.mergeFields){const A=qa(e,E,n);if(!h.contains(A))throw new pe(ie.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);UE(x,A)||x.push(A)}m=new qn(x),y=h.fieldTransforms.filter((E=>m.covers(E.field)))}else m=null,y=h.fieldTransforms;return new NI(new In(g),m,y)}class of extends xl{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof of}}function FE(r,e,n){return new sf({dataSource:3,targetDoc:e.settings.targetDoc,methodName:r._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class hy extends xl{_toFieldTransform(e){return new qm(e.path,new Qc)}isEqual(e){return e instanceof hy}}class fy extends xl{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=FE(this,e,!0),s=this.Ac.map((u=>Ga(u,n))),o=new tl(s);return new qm(e.path,o)}isEqual(e){return e instanceof fy&&Br(this.Ac,e.Ac)}}class py extends xl{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=FE(this,e,!0),s=this.Ac.map((u=>Ga(u,n))),o=new nl(s);return new qm(e.path,o)}isEqual(e){return e instanceof py&&Br(this.Ac,e.Ac)}}function MI(r,e,n,s){const o=r.createContext(1,e,n);gy("Data must be an object, but it was:",o,s);const u=[],h=In.empty();Qs(s,((m,y)=>{const x=PE(e,m,n);y=Et(y);const E=o.childContextForFieldPath(x);if(y instanceof of)u.push(x);else{const A=Ga(y,E);A!=null&&(u.push(x),h.set(x,A))}}));const g=new qn(u);return new BE(h,g,o.fieldTransforms)}function OI(r,e,n,s,o,u){const h=r.createContext(1,e,n),g=[qa(e,s,n)],m=[o];if(u.length%2!=0)throw new pe(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)g.push(qa(e,u[A])),m.push(u[A+1]);const y=[],x=In.empty();for(let A=g.length-1;A>=0;--A)if(!UE(y,g[A])){const I=g[A];let L=m[A];L=Et(L);const j=h.childContextForFieldPath(I);if(L instanceof of)y.push(I);else{const M=Ga(L,j);M!=null&&(y.push(I),x.set(I,M))}}const E=new qn(y);return new BE(x,E,h.fieldTransforms)}function FI(r,e,n,s=!1){return Ga(n,r.createContext(s?4:3,e))}function Ga(r,e){if(LE(r=Et(r)))return gy("Unsupported field value:",e,r),VE(r,e);if(r instanceof xl)return(function(s,o){if(!ME(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const g of s){let m=Ga(g,o.childContextForArray(h));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Et(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return b3(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=mt.fromDate(s);return{timestampValue:Ch(o.serializer,u)}}if(s instanceof mt){const u=new mt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ch(o.serializer,u)}}if(s instanceof ir)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ai)return{bytesValue:rE(o.serializer,s._byteString)};if(s instanceof Ct){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:$m(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ai)return(function(h,g){const m=h instanceof Ai?h.toArray():h;return{mapValue:{fields:{[z_]:{stringValue:N_},[Eh]:{arrayValue:{values:m.map((x=>{if(typeof x!="number")throw g.createError("VectorValues must only contain numeric values.");return Um(g.serializer,x)}))}}}}}})(s,o);if(dE(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${qh(s)}`)})(r,e)}function VE(r,e){const n={};return w_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(r,((s,o)=>{const u=Ga(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function LE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof mt||r instanceof ir||r instanceof ai||r instanceof Ct||r instanceof xl||r instanceof Ai||dE(r))}function gy(r,e,n){if(!LE(n)||!T_(n)){const s=qh(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function qa(r,e,n){if((e=Et(e))instanceof dy)return e._internalPath;if(typeof e=="string")return PE(r,e);throw Dh("Field path arguments must be of type string or ",r,!1,void 0,n)}const VI=new RegExp("[~\\*/\\[\\]]");function PE(r,e,n){if(e.search(VI)>=0)throw Dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new dy(...e.split("."))._internalPath}catch{throw Dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Dh(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let m="";return(u||h)&&(m+=" (found",u&&(m+=` in field ${s}`),h&&(m+=` in document ${o}`),m+=")"),new pe(ie.INVALID_ARGUMENT,g+r+m)}function UE(r,e){return r.some((n=>n.isEqual(e)))}class LI{convertValue(e,n="none"){switch(Us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Qs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Eh].arrayValue?.values?.map((s=>kt(s.doubleValue)));return new Ai(n)}convertGeoPoint(e){return new ir(kt(e.latitude),kt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Gh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Gc(e));default:return null}}convertTimestamp(e){const n=Ls(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ft.fromString(e);nt(uE(s),9688,{name:e});const o=new $c(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(n)||Fr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class my extends LI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ai(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,n)}}function tt(){return new hy("serverTimestamp")}function PI(...r){return new fy("arrayUnion",r)}function UI(...r){return new py("arrayRemove",r)}const zv="@firebase/firestore",Nv="4.11.0";function Bv(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class qE{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(qa("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qI extends qE{data(){return super.data()}}function HE(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new pe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yy{}class xy extends yy{}function at(r,e,...n){let s=[];e instanceof yy&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((m=>m instanceof vy)).length,g=u.filter((m=>m instanceof lf)).length;if(h>1||h>0&&g>0)throw new pe(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class lf extends xy{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new lf(e,n,s)}_apply(e){const n=this._parse(e);return GE(e._query,n),new Hr(e.firestore,e.converter,tm(e._query,n))}_parse(e){const n=af(e.firestore);return(function(u,h,g,m,y,x,E){let A;if(y.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new pe(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){Ov(E,x);const L=[];for(const j of E)L.push(Mv(m,u,j));A={arrayValue:{values:L}}}else A=Mv(m,u,E)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||Ov(E,x),A=FI(g,h,E,x==="in"||x==="not-in");return Ht.create(y,x,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Xe(r,e,n){const s=e,o=qa("where",r);return lf._create(o,s,n)}class vy extends yy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new vy(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const g=u.getFlattenedFilters();for(const m of g)GE(h,m),h=tm(h,m)})(e._query,n),new Hr(e.firestore,e.converter,tm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class by extends xy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new by(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new pe(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new pe(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yc(u,h)})(e._query,this._field,this._direction);return new Hr(e.firestore,e.converter,h3(e._query,n))}}function wi(r,e="asc"){const n=e,s=qa("orderBy",r);return by._create(s,n)}class _y extends xy{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new _y(e,n,s)}_apply(e){return new Hr(e.firestore,e.converter,Ah(e._query,this._limit,this._limitType))}}function WE(r){return OR("limit",r),_y._create("limit",r,"F")}function Mv(r,e,n){if(typeof(n=Et(n))=="string"){if(n==="")throw new pe(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!U_(e)&&n.indexOf("/")!==-1)throw new pe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ft.fromString(n));if(!_e.isDocumentKey(s))throw new pe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Q2(r,new _e(s))}if(n instanceof Ct)return Q2(r,n._key);throw new pe(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qh(n)}.`)}function Ov(r,e){if(!Array.isArray(r)||r.length===0)throw new pe(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GE(r,e){const n=(function(o,u){for(const h of o)for(const g of h.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new pe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function $E(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Nc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Na extends qE{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(qa("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Na._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Na._jsonSchemaVersion="firestore/documentSnapshot/1.0",Na._jsonSchema={type:Wt("string",Na._jsonSchemaVersion),bundleSource:Wt("string","DocumentSnapshot"),bundleName:Wt("string"),bundle:Wt("string")};class ch extends Na{data(e={}){return super.data(e)}}class Ba{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Nc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new ch(this._firestore,this._userDataWriter,s.key,s,new Nc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((g=>{const m=new ch(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Nc(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:m,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const m=new ch(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Nc(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,x=-1;return g.type!==0&&(y=h.indexOf(g.doc.key),h=h.delete(g.doc.key)),g.type!==1&&(h=h.add(g.doc),x=h.indexOf(g.doc.key)),{type:HI(g.type),doc:m,oldIndex:y,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ba._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function HI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:r})}}Ba._jsonSchemaVersion="firestore/querySnapshot/1.0",Ba._jsonSchema={type:Wt("string",Ba._jsonSchemaVersion),bundleSource:Wt("string","QuerySnapshot"),bundleName:Wt("string"),bundle:Wt("string")};function Ri(r){r=Dn(r,Ct);const e=Dn(r.firestore,Lr),n=rf(e);return TI(n,r._key).then((s=>KE(e,r,s)))}function Rs(r){r=Dn(r,Hr);const e=Dn(r.firestore,Lr),n=rf(e),s=new my(e);return HE(r._query),CI(n,r._query).then((o=>new Ba(e,s,r,o)))}function sl(r,e,n){r=Dn(r,Ct);const s=Dn(r.firestore,Lr),o=$E(r.converter,e),u=af(s);return cf(s,[OE(u,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,oi.none())])}function zt(r,e,n,...s){r=Dn(r,Ct);const o=Dn(r.firestore,Lr),u=af(o);let h;return h=typeof(e=Et(e))=="string"||e instanceof dy?OI(u,"updateDoc",r._key,e,n,s):MI(u,"updateDoc",r._key,e),cf(o,[h.toMutation(r._key,oi.exists(!0))])}function Gn(r){return cf(Dn(r.firestore,Lr),[new Hm(r._key,oi.none())])}function kn(r,e){const n=Dn(r.firestore,Lr),s=Re(r),o=$E(r.converter,e),u=af(r.firestore);return cf(n,[OE(u,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,oi.exists(!1))]).then((()=>s))}function wt(r,...e){r=Et(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Bv(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Bv(e[s])){const y=e[s];e[s]=y.next?.bind(y),e[s+1]=y.error?.bind(y),e[s+2]=y.complete?.bind(y)}let u,h,g;if(r instanceof Ct)h=Dn(r.firestore,Lr),g=$h(r._key.path),u={next:y=>{e[s]&&e[s](KE(h,r,y))},error:e[s+1],complete:e[s+2]};else{const y=Dn(r,Hr);h=Dn(y.firestore,Lr),g=y._query;const x=new my(h);u={next:E=>{e[s]&&e[s](new Ba(h,x,y,E))},error:e[s+1],complete:e[s+2]},HE(r._query)}const m=rf(h);return AI(m,g,o,u)}function cf(r,e){const n=rf(r);return wI(n,e)}function KE(r,e,n){const s=n.docs.get(e._key),o=new my(r);return new Na(r,o,e._key,s,new Nc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){TR(hl),Xo(new Ma("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),g=new Lr(new RR(s.getProvider("auth-internal")),new DR(h,s.getProvider("app-check-internal")),YR(h,o),h);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Bs(zv,Nv,e),Bs(zv,Nv,"esm2020")})();var WI="firebase",GI="12.9.0";Bs(WI,GI,"app");const $I={apiKey:"AIzaSyDMHZMVx3AYoL-Fy4u5CuIeHYbp4PvB9cw",authDomain:"project-9fc351c3-e213-4686-b5d.firebaseapp.com",projectId:"project-9fc351c3-e213-4686-b5d",storageBucket:"project-9fc351c3-e213-4686-b5d.firebasestorage.app",messagingSenderId:"459275533289",appId:"1:459275533289:web:7a63efcacd0a41c07d6978",measurementId:"G-LVGT20EQ4T"},YE=Cb($I),Je=SR(YE),de=DI(YE),kh=new Rr;const QE=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();const KI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const YI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase());const Fv=r=>{const e=YI(r);return e.charAt(0).toUpperCase()+e.slice(1)};var QI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const XI=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const JI=k.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...g},m)=>k.createElement("svg",{ref:m,...QI,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:QE("lucide",o),...!u&&!XI(g)&&{"aria-hidden":"true"},...g},[...h.map(([y,x])=>k.createElement(y,x)),...Array.isArray(u)?u:[u]]));const ge=(r,e)=>{const n=k.forwardRef(({className:s,...o},u)=>k.createElement(JI,{ref:u,iconNode:e,className:QE(`lucide-${KI(Fv(r))}`,`lucide-${r}`,s),...o}));return n.displayName=Fv(r),n};const ZI=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],e5=ge("activity",ZI);const t5=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],zh=ge("arrow-left",t5);const n5=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],XE=ge("arrow-up-right",n5);const i5=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],r5=ge("ban",i5);const s5=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],al=ge("briefcase",s5);const a5=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],uf=ge("building-2",a5);const o5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],jr=ge("calendar",o5);const l5=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],c5=ge("camera",l5);const u5=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Xc=ge("chart-column",u5);const d5=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Kd=ge("chart-pie",d5);const h5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ds=ge("check",h5);const f5=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],JE=ge("chevron-left",f5);const p5=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Yo=ge("chevron-right",p5);const g5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],li=ge("circle-check-big",g5);const m5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],y5=ge("circle-question-mark",m5);const x5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Vv=ge("circle-x",x5);const v5=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],vl=ge("clock",v5);const b5=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],_5=ge("copy",b5);const E5=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ZE=ge("credit-card",E5);const S5=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Ey=ge("crown",S5);const A5=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],sr=ge("dollar-sign",A5);const T5=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],C5=ge("download",T5);const w5=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],R5=ge("external-link",w5);const j5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eS=ge("eye",j5);const I5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ol=ge("file-text",I5);const D5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],Lv=ge("film",D5);const k5=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Da=ge("flame",k5);const z5=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],N5=ge("folder",z5);const B5=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],M5=ge("funnel",B5);const O5=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],uh=ge("heart",O5);const F5=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Rc=ge("house",F5);const V5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],dm=ge("image",V5);const L5=[["path",{d:"M5 3v14",key:"9nsxs2"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"M19 3v18",key:"1sk56x"}]],Qo=ge("kanban",L5);const P5=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],U5=ge("key",P5);const q5=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Ws=ge("layers",q5);const H5=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],W5=ge("lightbulb",H5);const G5=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],Nh=ge("list-todo",G5);const $5=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],K5=ge("loader",$5);const Y5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Q5=ge("log-out",Y5);const X5=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],J5=ge("menu",X5);const Z5=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],js=ge("message-circle",Z5);const eD=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],tD=ge("music",eD);const nD=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],tS=ge("pen-line",nD);const iD=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],rD=ge("percent",iD);const sD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bn=ge("plus",sD);const aD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Sy=ge("refresh-cw",aD);const oD=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],lD=ge("rocket",oD);const cD=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],Ay=ge("scissors",cD);const uD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],nS=ge("search",uD);const dD=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Jc=ge("send",dD);const hD=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fD=ge("settings",hD);const pD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Pr=ge("shield",pD);const gD=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ur=ge("sparkles",gD);const mD=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],iS=ge("star",mD);const yD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],xD=ge("target",yD);const vD=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Gs=ge("timer",vD);const bD=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],_D=ge("toggle-left",bD);const ED=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],SD=ge("toggle-right",ED);const AD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ji=ge("trash-2",AD);const TD=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Gt=ge("trending-up",TD);const CD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Bh=ge("triangle-alert",CD);const wD=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],RD=ge("type",wD);const jD=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ks=ge("upload",jD);const ID=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],DD=ge("user-plus",ID);const kD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],zD=ge("user",kD);const ND=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Hn=ge("users",ND);const BD=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],rS=ge("video",BD);const MD=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],sS=ge("wrench",MD);const OD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xt=ge("x",OD);const FD=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],aS=ge("zap",FD),VD="yunghundse@gmail.com",Pv={admin:[{path:"/",icon:Rc,label:"Home"},{path:"/dashboard/analytics",icon:Xc,label:"Analytics"},{path:"/dashboard/trends",icon:Gt,label:"Trends"},{path:"/dashboard/audit-log",icon:ol,label:"Audit"},{path:"/content",icon:Qo,label:"Content"},{path:"/finanzen",icon:Kd,label:"Finanzen"},{path:"/kalender",icon:jr,label:"Kalender"},{path:"/chat",icon:js,label:"Chat"},{path:"/admin",icon:Pr,label:"Admin"},{path:"/fyp",icon:Da,label:"FYP"}],manager:[{path:"/",icon:Rc,label:"Home"},{path:"/dashboard/company",icon:uf,label:"Firma"},{path:"/dashboard/approvals",icon:li,label:"Freigaben"},{path:"/dashboard/revenue",icon:sr,label:"Revenue"},{path:"/dashboard/brand-deals",icon:al,label:"Deals"},{path:"/dashboard/analytics",icon:Xc,label:"Analytics"},{path:"/dashboard/trends",icon:Gt,label:"Trends"},{path:"/dashboard/assets",icon:ks,label:"Assets"},{path:"/dashboard/audit-log",icon:ol,label:"Audit"},{path:"/kalender",icon:jr,label:"Kalender"},{path:"/chat",icon:js,label:"Chat"},{path:"/fyp",icon:Da,label:"FYP"}],model:[{path:"/",icon:Rc,label:"Home"},{path:"/dashboard/approvals",icon:li,label:"Freigaben"},{path:"/dashboard/schedule",icon:jr,label:"Kalender"},{path:"/dashboard/assets",icon:ks,label:"Assets"},{path:"/content",icon:Qo,label:"Content"},{path:"/chat",icon:js,label:"Chat"},{path:"/finanzen",icon:Kd,label:"Finanzen"},{path:"/fyp",icon:Da,label:"FYP"}],influencer:[{path:"/",icon:Rc,label:"Home"},{path:"/dashboard/collab",icon:Nh,label:"Collab"},{path:"/dashboard/deadlines",icon:Gs,label:"Deadlines"},{path:"/dashboard/trends",icon:Gt,label:"Trends"},{path:"/dashboard/asset-library",icon:Ws,label:"Library"},{path:"/dashboard/assets",icon:ks,label:"Assets"},{path:"/content",icon:Qo,label:"Content"},{path:"/kalender",icon:jr,label:"Kalender"},{path:"/finanzen",icon:Kd,label:"Finanzen"},{path:"/chat",icon:js,label:"Chat"},{path:"/fyp",icon:Da,label:"FYP"}],cutter:[{path:"/",icon:Rc,label:"Home"},{path:"/dashboard/collab",icon:Nh,label:"Auftrge"},{path:"/dashboard/deadlines",icon:Gs,label:"Deadlines"},{path:"/dashboard/asset-library",icon:Ws,label:"Library"},{path:"/dashboard/assets",icon:ks,label:"Assets"},{path:"/kalender",icon:jr,label:"Kalender"},{path:"/chat",icon:js,label:"Chat"},{path:"/finanzen",icon:Kd,label:"Finanzen"},{path:"/fyp",icon:Da,label:"FYP"}]},LD={admin:"#FF6B9D",manager:"#F5C563",model:"#FF6B9D",influencer:"#7EB5E6",cutter:"#6BC9A0"},PD={admin:"Admin",manager:"Manager",model:"Model",influencer:"Influencer",cutter:"Cutter"},UD=({children:r,user:e,userData:n})=>{const s=Ks(),[o,u]=k.useState(!1),[h,g]=k.useState(null),y=e?.email===VD?"admin":n?.role||"influencer",x=Pv[y]||Pv.influencer,E=LD[y];pm.useEffect(()=>{n?.companyId&&Ri(Re(de,"companies",n.companyId)).then(L=>{L.exists()&&g(L.data().name)}).catch(()=>{})},[n?.companyId]);const A=x.slice(0,5),I=x.slice(5);return c.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #FFFDF7 0%, #FFF9EB 30%, #FBF7F2 100%)"},children:[c.jsx("header",{style:{position:"sticky",top:0,zIndex:100,background:"rgba(255, 253, 247, 0.85)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderBottom:"1px solid rgba(232, 223, 211, 0.5)",padding:"14px 20px"},children:c.jsxs("div",{style:{maxWidth:"960px",margin:"0 auto",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[I.length>0&&c.jsx("button",{onClick:()=>u(!o),style:{padding:"8px",background:"rgba(42,36,32,0.04)",border:"1px solid rgba(232,223,211,0.6)",borderRadius:"10px",color:"#7A6F62",display:"flex",alignItems:"center",justifyContent:"center"},children:o?c.jsx(Xt,{size:18}):c.jsx(J5,{size:18})}),c.jsx("div",{style:{width:"40px",height:"40px",background:"linear-gradient(135deg, #FF8FAB 0%, #FF6B9D 100%)",borderRadius:"13px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 15px rgba(255, 107, 157, 0.25)"},children:c.jsx(Ur,{size:20,color:"white"})}),c.jsx("div",{children:c.jsx("h1",{style:{fontSize:"18px",fontWeight:"700",color:"#2A2420",margin:0,letterSpacing:"-0.3px"},children:"creatorhub"})})]}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",borderRadius:"10px",background:`${E}10`,border:`1px solid ${E}25`},children:[c.jsx("span",{style:{fontSize:"11px",color:E,fontWeight:"700"},children:PD[y]}),h&&c.jsxs(c.Fragment,{children:[c.jsx("span",{style:{fontSize:"9px",color:"#C4B8A8"},children:"|"}),c.jsx("span",{style:{fontSize:"11px",color:"#7A6F62",fontWeight:"500",maxWidth:"80px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:h})]}),n?.abo&&n.abo!=="free"&&c.jsxs(c.Fragment,{children:[c.jsx("span",{style:{fontSize:"9px",color:"#C4B8A8"},children:"|"}),c.jsx("span",{style:{fontSize:"10px",padding:"1px 6px",borderRadius:"4px",background:"rgba(245,197,99,0.2)",color:"#E8A940",fontWeight:"700",textTransform:"uppercase"},children:n.abo})]})]}),c.jsx("button",{onClick:()=>s("/onboarding"),title:"Einweisung",style:{padding:"10px",background:"rgba(126,181,230,0.08)",border:"1px solid rgba(126,181,230,0.2)",borderRadius:"12px",color:"#7EB5E6",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:c.jsx(y5,{size:18})}),c.jsx("button",{onClick:()=>s("/einstellungen"),style:{padding:"10px",background:"rgba(42, 36, 32, 0.04)",border:"1px solid rgba(232, 223, 211, 0.6)",borderRadius:"12px",color:"#7A6F62",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:c.jsx(fD,{size:18})}),e?.photoURL?c.jsx("img",{src:e.photoURL,alt:"avatar",style:{width:"36px",height:"36px",borderRadius:"12px",border:`2px solid ${E}40`,objectFit:"cover"}}):c.jsx("div",{style:{width:"36px",height:"36px",background:"linear-gradient(135deg, #FFE8B8, #FFDDA0)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",color:"#5C5349",fontWeight:"700",fontSize:"14px"},children:e?.displayName?.charAt(0)||e?.email?.charAt(0)?.toUpperCase()||"?"})]})]})}),o&&c.jsxs(c.Fragment,{children:[c.jsx("div",{onClick:()=>u(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.3)",zIndex:150,backdropFilter:"blur(4px)"}}),c.jsxs("div",{style:{position:"fixed",top:0,left:0,bottom:0,width:"280px",zIndex:200,background:"#FFFDF7",borderRight:"1px solid rgba(232,223,211,0.5)",padding:"20px",paddingTop:"80px",overflowY:"auto",boxShadow:"4px 0 30px rgba(0,0,0,0.1)"},className:"animate-fade-in",children:[c.jsx("p",{style:{fontSize:"12px",fontWeight:"600",color:"#A89B8C",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"16px"},children:"Navigation"}),x.map(L=>{const j=L.icon;return c.jsxs(Vg,{to:L.path,end:L.path==="/",onClick:()=>u(!1),style:({isActive:M})=>({display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",borderRadius:"14px",marginBottom:"4px",textDecoration:"none",background:M?`${E}12`:"transparent",color:M?E:"#7A6F62",fontWeight:M?"600":"400",fontSize:"15px"}),children:[c.jsx(j,{size:20}),L.label]},L.path)})]})]}),c.jsx("main",{style:{maxWidth:"960px",margin:"0 auto",padding:"20px 20px 110px"},children:c.jsx("div",{className:"page-transition",children:r})}),c.jsx("nav",{style:{position:"fixed",bottom:0,left:0,right:0,zIndex:100,background:"rgba(255, 253, 247, 0.92)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderTop:"1px solid rgba(232, 223, 211, 0.5)",padding:"10px 20px 26px"},children:c.jsx("div",{style:{maxWidth:"640px",margin:"0 auto",display:"flex",justifyContent:"space-around"},children:A.map(L=>{const j=L.icon;return c.jsx(Vg,{to:L.path,end:L.path==="/",style:({isActive:M})=>({display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",padding:"8px 14px",borderRadius:"14px",textDecoration:"none",background:M?`${E}14`:"transparent",color:M?E:"#A89B8C",transition:"all 0.25s ease"}),children:({isActive:M})=>c.jsxs(c.Fragment,{children:[c.jsx(j,{size:22,strokeWidth:M?2.5:2}),c.jsx("span",{style:{fontSize:"11px",fontWeight:M?"600":"400",letterSpacing:"0.2px"},children:L.label})]})},L.path)})})})]})},ke=({children:r,onClick:e,variant:n="primary",className:s="",style:o={},type:u="button",disabled:h=!1})=>{const g={display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"12px 24px",borderRadius:"14px",fontWeight:"600",fontSize:"15px",border:"none",cursor:h?"not-allowed":"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",opacity:h?.5:1,fontFamily:"inherit"},m={primary:{...g,background:"linear-gradient(135deg, #FF8FAB 0%, #FF6B9D 50%, #E05585 100%)",color:"white",boxShadow:"0 4px 15px rgba(255, 107, 157, 0.3)"},secondary:{...g,background:"rgba(255, 107, 157, 0.08)",color:"#FF6B9D",border:"1.5px solid rgba(255, 107, 157, 0.2)"},cream:{...g,background:"linear-gradient(135deg, #FFF9EB 0%, #FFE8B8 100%)",color:"#5C5349",boxShadow:"0 4px 15px rgba(245, 208, 169, 0.3)"},ghost:{...g,background:"transparent",color:"#7A6F62",padding:"8px 16px"},google:{...g,background:"#FFFFFF",color:"#3D362F",border:"1.5px solid #E8DFD3",boxShadow:"0 2px 8px rgba(0,0,0,0.06)"}};return c.jsx("button",{type:u,onClick:e,disabled:h,style:{...m[n],...o},className:s,onMouseEnter:y=>{h||(y.currentTarget.style.transform="translateY(-1px)",n==="primary"&&(y.currentTarget.style.boxShadow="0 6px 20px rgba(255, 107, 157, 0.4)"))},onMouseLeave:y=>{y.currentTarget.style.transform="translateY(0)",n==="primary"&&(y.currentTarget.style.boxShadow="0 4px 15px rgba(255, 107, 157, 0.3)")},children:r})},Uv="yunghundse@gmail.com",qD=()=>{const[r,e]=k.useState(""),[n,s]=k.useState(""),[o,u]=k.useState(""),[h,g]=k.useState(!1);k.useEffect(()=>{f_(Je).then(async x=>{if(x?.user){const E=Re(de,"users",x.user.uid);if((await Ri(E)).exists())await zt(E,{lastLogin:tt()});else{const I=x.user.email===Uv;await sl(E,{uid:x.user.uid,email:x.user.email,displayName:x.user.displayName||"",photoURL:x.user.photoURL||"",approved:I,blocked:!1,role:I?"admin":"user",createdAt:tt(),lastLogin:tt(),companyId:null})}}}).catch(x=>{x.code&&x.code!=="auth/popup-closed-by-user"&&(console.error("Redirect Error:",x.code,x.message),u(`Fehler: ${x.code||x.message}`))})},[]);const m=async x=>{x.preventDefault(),u(""),g(!0);try{await s4(Je,r,n)}catch(E){console.error("Email Login Error:",E.code,E.message),E.code==="auth/user-not-found"||E.code==="auth/wrong-password"||E.code==="auth/invalid-credential"?u("E-Mail oder Passwort falsch."):E.code==="auth/too-many-requests"?u("Zu viele Versuche. Bitte warte einen Moment."):u(`Login fehlgeschlagen: ${E.code||E.message}`)}g(!1)},y=async()=>{u(""),g(!0);try{if(/iPhone|iPad|Android/i.test(navigator.userAgent)){await h_(Je,kh);return}const E=await c_(Je,kh),A=Re(de,"users",E.user.uid);if((await Ri(A)).exists())await zt(A,{lastLogin:tt()});else{const L=E.user.email===Uv;await sl(A,{uid:E.user.uid,email:E.user.email,displayName:E.user.displayName||"",photoURL:E.user.photoURL||"",approved:L,blocked:!1,role:L?"admin":"user",createdAt:tt(),lastLogin:tt(),companyId:null})}}catch(x){console.error("Google Login Error:",x.code,x.message),x.code==="auth/popup-closed-by-user"?u(""):x.code==="auth/unauthorized-domain"?u("Domain nicht autorisiert! Fge deine Domain in Firebase Console  Authentication  Settings  Authorized domains hinzu."):x.code==="auth/configuration-not-found"||x.code==="auth/operation-not-allowed"?u("Google Sign-In nicht aktiviert. Firebase Console  Authentication  Sign-in method  Google aktivieren."):u(`Anmeldung fehlgeschlagen: ${x.code||x.message}`)}g(!1)};return c.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",background:"linear-gradient(160deg, #FFFDF7 0%, #FFF3D6 30%, #FFE8B8 60%, #FFF9EB 100%)"},children:c.jsxs("div",{style:{width:"100%",maxWidth:"400px"},className:"animate-fade-in-up",children:[c.jsxs("div",{style:{textAlign:"center",marginBottom:"40px"},children:[c.jsx("div",{className:"animate-float",style:{width:"80px",height:"80px",background:"linear-gradient(135deg, #FF8FAB 0%, #FF6B9D 100%)",borderRadius:"24px",margin:"0 auto 20px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 30px rgba(255, 107, 157, 0.3)"},children:c.jsx(Ur,{size:32,color:"white"})}),c.jsx("h1",{style:{fontSize:"32px",fontWeight:"800",color:"#2A2420",letterSpacing:"-0.5px",marginBottom:"8px"},children:"creatorhub"}),c.jsx("p",{style:{color:"#A89B8C",fontSize:"15px"},children:"Dein Kreativ-Studio"})]}),c.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.75)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.9)",borderRadius:"24px",padding:"32px",boxShadow:"0 8px 40px rgba(42, 36, 32, 0.08)"},children:[o&&c.jsx("div",{style:{background:"rgba(239, 68, 68, 0.08)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"14px",padding:"12px 16px",marginBottom:"20px",color:"#DC2626",fontSize:"14px",fontWeight:"500"},children:o}),c.jsxs(ke,{variant:"google",onClick:y,disabled:h,style:{width:"100%",marginBottom:"20px",padding:"14px"},children:[c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[c.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z",fill:"#4285F4"}),c.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),c.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),c.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Mit Google anmelden"]}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"20px"},children:[c.jsx("div",{style:{flex:1,height:"1px",background:"#E8DFD3"}}),c.jsx("span",{style:{fontSize:"13px",color:"#A89B8C",fontWeight:"500"},children:"oder"}),c.jsx("div",{style:{flex:1,height:"1px",background:"#E8DFD3"}})]}),c.jsxs("form",{onSubmit:m,children:[c.jsxs("div",{style:{marginBottom:"14px"},children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"E-Mail"}),c.jsx("input",{type:"email",placeholder:"name@creatorhub.app",value:r,onChange:x=>e(x.target.value),required:!0,style:{width:"100%",padding:"14px 16px",background:"rgba(42,36,32,0.03)",border:"1.5px solid #E8DFD3",borderRadius:"14px",color:"#2A2420",fontSize:"15px",transition:"border-color 0.2s",boxSizing:"border-box"},onFocus:x=>x.target.style.borderColor="#FF6B9D",onBlur:x=>x.target.style.borderColor="#E8DFD3"})]}),c.jsxs("div",{style:{marginBottom:"24px"},children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Passwort"}),c.jsx("input",{type:"password",placeholder:"",value:n,onChange:x=>s(x.target.value),required:!0,style:{width:"100%",padding:"14px 16px",background:"rgba(42,36,32,0.03)",border:"1.5px solid #E8DFD3",borderRadius:"14px",color:"#2A2420",fontSize:"15px",transition:"border-color 0.2s",boxSizing:"border-box"},onFocus:x=>x.target.style.borderColor="#FF6B9D",onBlur:x=>x.target.style.borderColor="#E8DFD3"})]}),c.jsx(ke,{type:"submit",variant:"primary",disabled:h,style:{width:"100%",padding:"14px"},children:h?"Wird geladen...":"Anmelden"})]})]}),c.jsxs("div",{style:{textAlign:"center",marginTop:"20px"},children:[c.jsx("span",{style:{color:"#A89B8C",fontSize:"14px"},children:"Noch keinen Account? "}),c.jsx(qo,{to:"/register",style:{color:"#FF6B9D",fontWeight:"600",fontSize:"14px",textDecoration:"none"},children:"Registrieren"})]}),c.jsx("div",{style:{textAlign:"center",marginTop:"16px"},children:c.jsx("span",{style:{fontSize:"12px",color:"#A89B8C",background:"rgba(255,255,255,0.6)",padding:"8px 16px",borderRadius:"20px",border:"1px solid rgba(232,223,211,0.5)",fontWeight:"500"},children:"AI Powered Studio"})})]})})},HD="yunghundse@gmail.com",qv=[{id:"manager",label:"Manager",icon:al,desc:"Firma erstellen, Models verwalten",color:"#F5C563"},{id:"model",label:"Model",icon:c5,desc:"Von Manager verwaltet, gemeinsamer Kalender",color:"#FF6B9D"},{id:"influencer",label:"Influencer",icon:rS,desc:"Events & To-Dos, Zusammenarbeit mit Cutter",color:"#7EB5E6"},{id:"cutter",label:"Cutter",icon:Ay,desc:"Auftrge vom Influencer, gemeinsamer Kalender",color:"#6BC9A0"}],WD=()=>{const[r,e]=k.useState(1),[n,s]=k.useState(null),[o,u]=k.useState(""),[h,g]=k.useState(""),[m,y]=k.useState(""),[x,E]=k.useState(""),[A,I]=k.useState(""),[L,j]=k.useState(!1),[M,W]=k.useState(!1),z=async(S,C,w)=>{const O=S.email===HD;await sl(Re(de,"users",S.uid),{uid:S.uid,email:S.email,displayName:C||S.displayName||"",photoURL:S.photoURL||"",approved:O,blocked:!1,role:O?"admin":w,createdAt:tt(),lastLogin:tt(),companyId:null})},U=async S=>{if(S.preventDefault(),I(""),m!==x){I("Passwrter stimmen nicht berein.");return}if(m.length<6){I("Passwort muss mindestens 6 Zeichen haben.");return}j(!0);try{const C=await r4(Je,h,m);await o4(C.user,{displayName:o}),await z(C.user,o,n),W(!0)}catch(C){console.error("Register Error:",C.code,C.message),C.code==="auth/email-already-in-use"?I("Diese E-Mail ist bereits registriert."):C.code==="auth/invalid-email"?I("Ungltige E-Mail-Adresse."):I(`Registrierung fehlgeschlagen: ${C.code||C.message}`)}j(!1)},X=async()=>{I(""),j(!0);try{if(/iPhone|iPad|Android/i.test(navigator.userAgent)){sessionStorage.setItem("pendingRole",n),await h_(Je,kh);return}const C=await c_(Je,kh),w=Re(de,"users",C.user.uid);(await Ri(w)).exists()||await z(C.user,C.user.displayName,n),W(!0)}catch(S){console.error("Google Register Error:",S.code,S.message),S.code==="auth/popup-closed-by-user"?I(""):S.code==="auth/unauthorized-domain"?I("Domain nicht autorisiert! Fge deine Domain in Firebase Console  Authentication  Settings  Authorized domains hinzu."):S.code==="auth/configuration-not-found"||S.code==="auth/operation-not-allowed"?I("Google Sign-In nicht aktiviert. Firebase Console  Authentication  Sign-in method  Google aktivieren."):I(`Fehler: ${S.code||S.message}`)}j(!1)};if(pm.useEffect(()=>{f_(Je).then(async S=>{if(S?.user){const C=sessionStorage.getItem("pendingRole")||"influencer";sessionStorage.removeItem("pendingRole");const w=Re(de,"users",S.user.uid);(await Ri(w)).exists()||await z(S.user,S.user.displayName,C),W(!0)}}).catch(S=>{S.code&&S.code!=="auth/popup-closed-by-user"&&(console.error("Redirect Error:",S.code,S.message),I(`Fehler: ${S.code||S.message}`))})},[]),M)return c.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",background:"linear-gradient(160deg, #FFFDF7 0%, #FFF3D6 30%, #FFE8B8 60%, #FFF9EB 100%)"},children:c.jsxs("div",{style:{width:"100%",maxWidth:"400px",textAlign:"center"},className:"animate-fade-in-up",children:[c.jsx("div",{style:{width:"80px",height:"80px",background:"linear-gradient(135deg, #6BC9A0, #4ade80)",borderRadius:"24px",margin:"0 auto 24px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 30px rgba(107,201,160,0.3)"},children:c.jsx("span",{style:{fontSize:"36px",color:"white"},children:""})}),c.jsx("h2",{style:{fontSize:"24px",fontWeight:"700",color:"#2A2420",marginBottom:"12px"},children:"Registrierung erfolgreich!"}),c.jsx("p",{style:{color:"#7A6F62",fontSize:"15px",lineHeight:"1.6",marginBottom:"32px"},children:"Dein Account wurde erstellt. Ein Admin muss deinen Account noch freischalten."}),c.jsx(qo,{to:"/login",style:{textDecoration:"none"},children:c.jsx(ke,{variant:"primary",style:{padding:"14px 32px"},children:"Zum Login"})})]})});const G={width:"100%",padding:"14px 16px",background:"rgba(42,36,32,0.03)",border:"1.5px solid #E8DFD3",borderRadius:"14px",color:"#2A2420",fontSize:"15px",transition:"border-color 0.2s",fontFamily:"inherit",boxSizing:"border-box"};if(r===1)return c.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",background:"linear-gradient(160deg, #FFFDF7 0%, #FFF3D6 30%, #FFE8B8 60%, #FFF9EB 100%)"},children:c.jsxs("div",{style:{width:"100%",maxWidth:"420px"},className:"animate-fade-in-up",children:[c.jsxs("div",{style:{textAlign:"center",marginBottom:"32px"},children:[c.jsx("div",{className:"animate-float",style:{width:"72px",height:"72px",background:"linear-gradient(135deg, #FF8FAB, #FF6B9D)",borderRadius:"22px",margin:"0 auto 16px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 30px rgba(255,107,157,0.3)"},children:c.jsx(DD,{size:28,color:"white"})}),c.jsx("h1",{style:{fontSize:"26px",fontWeight:"800",color:"#2A2420",marginBottom:"6px"},children:"Wer bist du?"}),c.jsx("p",{style:{color:"#A89B8C",fontSize:"14px"},children:"Whle deine Rolle  diese kann nicht gendert werden"})]}),c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px",marginBottom:"24px"},children:qv.map(S=>{const C=S.icon,w=n===S.id;return c.jsxs("button",{onClick:()=>s(S.id),style:{display:"flex",alignItems:"center",gap:"14px",padding:"18px 20px",background:w?"rgba(255,255,255,0.9)":"rgba(255,255,255,0.6)",border:w?`2px solid ${S.color}`:"1.5px solid #E8DFD3",borderRadius:"18px",textAlign:"left",cursor:"pointer",boxShadow:w?`0 4px 20px ${S.color}30`:"none",transition:"all 0.2s ease"},children:[c.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"14px",background:w?S.color:`${S.color}18`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,transition:"all 0.2s"},children:c.jsx(C,{size:20,color:w?"white":S.color})}),c.jsxs("div",{children:[c.jsx("p",{style:{fontWeight:"600",color:"#2A2420",fontSize:"15px"},children:S.label}),c.jsx("p",{style:{fontSize:"12px",color:"#A89B8C",marginTop:"2px"},children:S.desc})]})]},S.id)})}),c.jsx(ke,{variant:"primary",onClick:()=>{n&&e(2)},disabled:!n,style:{width:"100%",padding:"14px",opacity:n?1:.5},children:"Weiter"}),c.jsxs("div",{style:{textAlign:"center",marginTop:"20px"},children:[c.jsx("span",{style:{color:"#A89B8C",fontSize:"14px"},children:"Schon einen Account? "}),c.jsx(qo,{to:"/login",style:{color:"#FF6B9D",fontWeight:"600",fontSize:"14px",textDecoration:"none"},children:"Anmelden"})]})]})});const oe=qv.find(S=>S.id===n);return c.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",background:"linear-gradient(160deg, #FFFDF7 0%, #FFF3D6 30%, #FFE8B8 60%, #FFF9EB 100%)"},children:c.jsxs("div",{style:{width:"100%",maxWidth:"400px"},className:"animate-fade-in-up",children:[c.jsxs("div",{style:{textAlign:"center",marginBottom:"28px"},children:[c.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"8px 18px",background:`${oe.color}15`,border:`1.5px solid ${oe.color}40`,borderRadius:"14px",marginBottom:"16px"},children:[c.jsx(oe.icon,{size:16,color:oe.color}),c.jsx("span",{style:{fontWeight:"600",color:oe.color,fontSize:"14px"},children:oe.label})]}),c.jsx("h1",{style:{fontSize:"26px",fontWeight:"800",color:"#2A2420",marginBottom:"6px"},children:"Account erstellen"}),c.jsx("button",{onClick:()=>e(1),style:{background:"none",border:"none",color:"#A89B8C",fontSize:"13px",cursor:"pointer",textDecoration:"underline"},children:"Rolle ndern"})]}),c.jsxs("div",{style:{background:"rgba(255,255,255,0.75)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.9)",borderRadius:"24px",padding:"28px",boxShadow:"0 8px 40px rgba(42,36,32,0.08)"},children:[A&&c.jsx("div",{style:{background:"rgba(239,68,68,0.08)",border:"1px solid rgba(239,68,68,0.2)",borderRadius:"14px",padding:"12px 16px",marginBottom:"20px",color:"#DC2626",fontSize:"14px",fontWeight:"500"},children:A}),c.jsxs(ke,{variant:"google",onClick:X,disabled:L,style:{width:"100%",marginBottom:"20px",padding:"14px"},children:[c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[c.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z",fill:"#4285F4"}),c.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),c.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),c.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Mit Google registrieren"]}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"20px"},children:[c.jsx("div",{style:{flex:1,height:"1px",background:"#E8DFD3"}}),c.jsx("span",{style:{fontSize:"13px",color:"#A89B8C",fontWeight:"500"},children:"oder"}),c.jsx("div",{style:{flex:1,height:"1px",background:"#E8DFD3"}})]}),c.jsxs("form",{onSubmit:U,children:[c.jsxs("div",{style:{marginBottom:"12px"},children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Name"}),c.jsx("input",{type:"text",placeholder:"Dein Name",value:o,onChange:S=>u(S.target.value),required:!0,style:G,onFocus:S=>S.target.style.borderColor="#FF6B9D",onBlur:S=>S.target.style.borderColor="#E8DFD3"})]}),c.jsxs("div",{style:{marginBottom:"12px"},children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"E-Mail"}),c.jsx("input",{type:"email",placeholder:"name@beispiel.de",value:h,onChange:S=>g(S.target.value),required:!0,style:G,onFocus:S=>S.target.style.borderColor="#FF6B9D",onBlur:S=>S.target.style.borderColor="#E8DFD3"})]}),c.jsxs("div",{style:{marginBottom:"12px"},children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Passwort"}),c.jsx("input",{type:"password",placeholder:"Mindestens 6 Zeichen",value:m,onChange:S=>y(S.target.value),required:!0,style:G,onFocus:S=>S.target.style.borderColor="#FF6B9D",onBlur:S=>S.target.style.borderColor="#E8DFD3"})]}),c.jsxs("div",{style:{marginBottom:"24px"},children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Passwort besttigen"}),c.jsx("input",{type:"password",placeholder:"Passwort wiederholen",value:x,onChange:S=>E(S.target.value),required:!0,style:G,onFocus:S=>S.target.style.borderColor="#FF6B9D",onBlur:S=>S.target.style.borderColor="#E8DFD3"})]}),c.jsx(ke,{type:"submit",variant:"primary",disabled:L,style:{width:"100%",padding:"14px"},children:L?"Wird erstellt...":"Registrieren"})]})]}),c.jsxs("div",{style:{textAlign:"center",marginTop:"20px"},children:[c.jsx("span",{style:{color:"#A89B8C",fontSize:"14px"},children:"Schon einen Account? "}),c.jsx(qo,{to:"/login",style:{color:"#FF6B9D",fontWeight:"600",fontSize:"14px",textDecoration:"none"},children:"Anmelden"})]})]})})},ue=({children:r,className:e="",style:n={},onClick:s,hover:o=!0})=>c.jsx("div",{onClick:s,className:`glass-card  ${e}`,style:{padding:"20px",cursor:s?"pointer":"default",...n},children:r}),GD="yunghundse@gmail.com",Hv={shooting:"#7EB5E6",deadline:"#FF6B9D",live:"#6BC9A0",meeting:"#F5C563",posting:"#9B8FE6",other:"#A89B8C"},$D=({userData:r})=>{const e=Ks(),[n,s]=k.useState(null),[o,u]=k.useState([]),[h,g]=k.useState({total:0,editing:0,review:0,ready:0,totalEarnings:0}),[m,y]=k.useState({brutto:0,netto:0}),[x,E]=k.useState({members:0,pendingApprovals:0,activeDeals:0}),[A,I]=k.useState(0),[L,j]=k.useState(0),M=Je.currentUser,z=M?.email===GD?"admin":r?.role||"influencer";k.useEffect(()=>{if(!M)return;const S=new Date,C=S.toISOString().split("T")[0],O=new Date(S.getTime()+10080*60*1e3).toISOString().split("T")[0],D=at(De(de,"events"),Xe("userId","==",M.uid),Xe("date",">=",C),Xe("date","<=",O),wi("date","asc"),WE(5)),F=wt(D,N=>{u(N.docs.map(Ee=>({id:Ee.id,...Ee.data()})))});return()=>F()},[M]),k.useEffect(()=>{if(!M)return;const S=at(De(de,"content"),Xe("userId","==",M.uid)),C=wt(S,w=>{const O=w.docs.map(D=>D.data());g({total:O.length,editing:O.filter(D=>D.status==="Editing").length,review:O.filter(D=>D.status==="Review").length,ready:O.filter(D=>D.status==="Ready").length,totalEarnings:O.reduce((D,F)=>D+(F.earnings||0),0)})});return()=>C()},[M]),k.useEffect(()=>{if(!M)return;const S=at(De(de,"finances"),Xe("userId","==",M.uid)),C=wt(S,w=>{const O=w.docs.map(D=>D.data());y({brutto:O.reduce((D,F)=>D+(F.brutto||0),0),netto:O.reduce((D,F)=>D+(F.netto||0),0)})});return()=>C()},[M]),k.useEffect(()=>{if(!r?.companyId)return;const S=r.companyId;(z==="manager"||z==="admin")&&(Rs(at(De(de,"users"),Xe("companyId","==",S))).then(C=>{E(w=>({...w,members:C.size}))}).catch(()=>{}),Rs(at(De(de,"approvals"),Xe("companyId","==",S),Xe("status","==","pending"))).then(C=>{E(w=>({...w,pendingApprovals:C.size}))}).catch(()=>{}),Rs(at(De(de,"brandDeals"),Xe("companyId","==",S),Xe("status","!=","paid"))).then(C=>{E(w=>({...w,activeDeals:C.size}))}).catch(()=>{})),(z==="influencer"||z==="cutter")&&(Rs(at(De(de,"deadlines"),Xe("companyId","==",S),Xe("status","==","open"))).then(C=>{I(C.size)}).catch(()=>{}),Rs(at(De(de,"tasks"),Xe("companyId","==",S),Xe("status","!=","done"))).then(C=>{j(C.size)}).catch(()=>{}))},[r?.companyId,z]);const U=()=>{const S={manager:["Revenue-Split fr diesen Monat prfen","3 offene Brand-Deals warten auf Antwort","Freigaben-Queue berprfen  schnelleres Feedback = bessere Performance"],model:["Content zur Freigabe einreichen fr schnellere Verffentlichung","Kalender checken  sind alle Shootings geplant?"],influencer:["Poste um 20:00 Uhr fr +45% Engagement","Stories bringen 3x mehr Interaktion","Deadline-Timer checken  nichts verpassen!"],cutter:["Nutze warme Farbtne fr +30% Watch-Time","Auftrge prfen  gibt es dringende Deadlines?"],admin:["User-Freischaltungen prfen","Audit-Log regelmig checken"]},C=S[z]||S.influencer;s(C[Math.floor(Math.random()*C.length)]),setTimeout(()=>s(null),5e3)},X=M?.displayName||M?.email?.split("@")[0]||"Creator",G={manager:[{icon:li,label:"Freigaben",path:"/dashboard/approvals",color:"#6BC9A0",count:x.pendingApprovals},{icon:sr,label:"Revenue",path:"/dashboard/revenue",color:"#F5C563"},{icon:al,label:"Deals",path:"/dashboard/brand-deals",color:"#7EB5E6",count:x.activeDeals},{icon:uf,label:"Firma",path:"/dashboard/company",color:"#FF6B9D"}],model:[{icon:li,label:"Freigaben",path:"/dashboard/approvals",color:"#6BC9A0"},{icon:jr,label:"Kalender",path:"/dashboard/schedule",color:"#7EB5E6"},{icon:rS,label:"Assets",path:"/dashboard/assets",color:"#F5C563"},{icon:uh,label:"Finanzen",path:"/finanzen",color:"#FF6B9D"}],influencer:[{icon:Gs,label:"Deadlines",path:"/dashboard/deadlines",color:"#FF6B9D",count:A},{icon:Nh,label:"Collab",path:"/dashboard/collab",color:"#7EB5E6",count:L},{icon:Gt,label:"Trends",path:"/dashboard/trends",color:"#6BC9A0"},{icon:Ws,label:"Library",path:"/dashboard/asset-library",color:"#F5C563"}],cutter:[{icon:Gs,label:"Deadlines",path:"/dashboard/deadlines",color:"#FF6B9D",count:A},{icon:Nh,label:"Auftrge",path:"/dashboard/collab",color:"#7EB5E6",count:L},{icon:Ws,label:"Library",path:"/dashboard/asset-library",color:"#F5C563"},{icon:Ay,label:"Assets",path:"/dashboard/assets",color:"#6BC9A0"}],admin:[{icon:Pr,label:"Admin",path:"/admin",color:"#FF6B9D"},{icon:Hn,label:"Audit",path:"/dashboard/audit-log",color:"#7EB5E6"},{icon:Gt,label:"Analytics",path:"/dashboard/analytics",color:"#6BC9A0"},{icon:Gt,label:"Trends",path:"/dashboard/trends",color:"#F5C563"}]},oe=G[z]||G.influencer;return c.jsxs("div",{children:[c.jsxs("div",{style:{marginBottom:"24px"},className:"animate-fade-in",children:[c.jsxs("h2",{style:{fontSize:"24px",fontWeight:"700",color:"#2A2420",letterSpacing:"-0.3px"},children:["Hallo, ",X]}),c.jsx("p",{style:{color:"#A89B8C",marginTop:"4px",fontSize:"15px"},children:z==="manager"?"Dein Team-berblick":z==="model"?"Dein Shooting-berblick":z==="cutter"?"Deine Auftrge heute":z==="admin"?"System-berblick":"Dein Creator-berblick"})]}),n&&c.jsxs("div",{className:"animate-scale-in",style:{background:"linear-gradient(135deg, rgba(255,143,171,0.12) 0%, rgba(255,107,157,0.08) 100%)",border:"1px solid rgba(255,107,157,0.2)",borderRadius:"18px",padding:"16px 20px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"12px"},children:[c.jsx("div",{style:{width:"36px",height:"36px",background:"linear-gradient(135deg, #FF8FAB, #FF6B9D)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:c.jsx(aS,{size:18,color:"white"})}),c.jsx("span",{style:{color:"#5C5349",fontSize:"14px",fontWeight:"500"},children:n})]}),c.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"10px",marginBottom:"20px"},className:"animate-fade-in stagger-1",children:oe.map((S,C)=>{const w=S.icon;return c.jsxs("div",{onClick:()=>e(S.path),style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",padding:"14px 8px",borderRadius:"16px",cursor:"pointer",background:"rgba(255,255,255,0.6)",border:"1px solid rgba(232,223,211,0.4)",transition:"all 0.2s ease",position:"relative"},children:[S.count>0&&c.jsx("div",{style:{position:"absolute",top:"6px",right:"6px",width:"20px",height:"20px",borderRadius:"50%",background:"#FF6B9D",color:"white",fontSize:"11px",fontWeight:"700",display:"flex",alignItems:"center",justifyContent:"center"},children:S.count>9?"9+":S.count}),c.jsx("div",{style:{width:"38px",height:"38px",borderRadius:"12px",background:`${S.color}12`,display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(w,{size:19,color:S.color})}),c.jsx("span",{style:{fontSize:"11px",fontWeight:"600",color:"#5C5349",textAlign:"center"},children:S.label})]},C)})}),(z==="manager"||z==="admin")&&c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"16px"},children:[c.jsxs(ue,{className:"animate-fade-in stagger-1",children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"10px"},children:[c.jsx("div",{style:{width:"32px",height:"32px",background:"rgba(107,201,160,0.1)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(Hn,{size:16,color:"#6BC9A0"})}),c.jsx("span",{style:{fontSize:"12px",color:"#A89B8C",fontWeight:"500"},children:"Team"})]}),c.jsx("p",{style:{fontSize:"26px",fontWeight:"700",color:"#2A2420"},children:x.members}),c.jsx("span",{style:{fontSize:"12px",color:"#A89B8C"},children:"Mitglieder"})]}),c.jsxs(ue,{className:"animate-fade-in stagger-2",children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"10px"},children:[c.jsx("div",{style:{width:"32px",height:"32px",background:"rgba(245,197,99,0.1)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(sr,{size:16,color:"#F5C563"})}),c.jsx("span",{style:{fontSize:"12px",color:"#A89B8C",fontWeight:"500"},children:"Revenue"})]}),c.jsxs("p",{style:{fontSize:"26px",fontWeight:"700",color:"#2A2420"},children:[m.brutto>1e3?(m.brutto/1e3).toFixed(1)+"k":m.brutto.toLocaleString("de-DE"),""]}),c.jsx("span",{style:{fontSize:"12px",color:"#A89B8C"},children:"Brutto"})]})]}),(z==="influencer"||z==="cutter")&&c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"16px"},children:[c.jsxs(ue,{className:"animate-fade-in stagger-1",children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"10px"},children:[c.jsx("div",{style:{width:"32px",height:"32px",background:"rgba(255,107,157,0.1)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(Gt,{size:16,color:"#FF6B9D"})}),c.jsx("span",{style:{fontSize:"12px",color:"#A89B8C",fontWeight:"500"},children:"Einnahmen"})]}),c.jsxs("p",{style:{fontSize:"26px",fontWeight:"700",color:"#2A2420"},children:["",m.netto>1e3?(m.netto/1e3).toFixed(1)+"k":m.netto.toLocaleString("de-DE")]}),m.netto>0&&c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",marginTop:"6px"},children:[c.jsx(XE,{size:14,color:"#6BC9A0"}),c.jsx("span",{style:{fontSize:"12px",color:"#6BC9A0",fontWeight:"600"},children:"Netto"})]})]}),c.jsxs(ue,{className:"animate-fade-in stagger-2",children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"10px"},children:[c.jsx("div",{style:{width:"32px",height:"32px",background:"rgba(255,107,157,0.1)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(uh,{size:16,color:"#FF6B9D"})}),c.jsx("span",{style:{fontSize:"12px",color:"#A89B8C",fontWeight:"500"},children:"Content"})]}),c.jsx("p",{style:{fontSize:"26px",fontWeight:"700",color:"#2A2420"},children:h.total}),c.jsxs("span",{style:{fontSize:"12px",color:"#A89B8C"},children:[h.ready," fertig"]})]})]}),z==="model"&&c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"16px"},children:[c.jsxs(ue,{className:"animate-fade-in stagger-1",children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"10px"},children:[c.jsx("div",{style:{width:"32px",height:"32px",background:"rgba(107,201,160,0.1)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(li,{size:16,color:"#6BC9A0"})}),c.jsx("span",{style:{fontSize:"12px",color:"#A89B8C",fontWeight:"500"},children:"Freigaben"})]}),c.jsx("p",{style:{fontSize:"26px",fontWeight:"700",color:"#2A2420"},children:h.review}),c.jsx("span",{style:{fontSize:"12px",color:"#A89B8C"},children:"Ausstehend"})]}),c.jsxs(ue,{className:"animate-fade-in stagger-2",children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"10px"},children:[c.jsx("div",{style:{width:"32px",height:"32px",background:"rgba(255,107,157,0.1)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(uh,{size:16,color:"#FF6B9D"})}),c.jsx("span",{style:{fontSize:"12px",color:"#A89B8C",fontWeight:"500"},children:"Earnings"})]}),c.jsxs("p",{style:{fontSize:"26px",fontWeight:"700",color:"#2A2420"},children:["",h.totalEarnings>1e3?(h.totalEarnings/1e3).toFixed(1)+"k":h.totalEarnings.toLocaleString("de-DE")]}),c.jsx("span",{style:{fontSize:"12px",color:"#A89B8C"},children:"Content"})]})]}),c.jsxs(ue,{className:"animate-fade-in stagger-3",style:{marginBottom:"20px"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"14px"},children:[c.jsx(Qo,{size:18,color:"#FF6B9D"}),c.jsx("span",{style:{fontWeight:"600",color:"#2A2420",fontSize:"15px"},children:"Content Pipeline"})]}),h.total===0?c.jsx("p",{style:{fontSize:"13px",color:"#A89B8C"},children:"Noch kein Content erstellt"}):c.jsxs("div",{style:{display:"flex",gap:"12px"},children:[c.jsxs("div",{style:{flex:1,textAlign:"center",padding:"10px",background:"rgba(255,107,157,0.06)",borderRadius:"12px"},children:[c.jsx("p",{style:{fontSize:"20px",fontWeight:"700",color:"#FF6B9D"},children:h.editing}),c.jsx("p",{style:{fontSize:"11px",color:"#A89B8C",fontWeight:"500"},children:"Editing"})]}),c.jsxs("div",{style:{flex:1,textAlign:"center",padding:"10px",background:"rgba(126,181,230,0.06)",borderRadius:"12px"},children:[c.jsx("p",{style:{fontSize:"20px",fontWeight:"700",color:"#7EB5E6"},children:h.review}),c.jsx("p",{style:{fontSize:"11px",color:"#A89B8C",fontWeight:"500"},children:"Review"})]}),c.jsxs("div",{style:{flex:1,textAlign:"center",padding:"10px",background:"rgba(107,201,160,0.06)",borderRadius:"12px"},children:[c.jsx("p",{style:{fontSize:"20px",fontWeight:"700",color:"#6BC9A0"},children:h.ready}),c.jsx("p",{style:{fontSize:"11px",color:"#A89B8C",fontWeight:"500"},children:"Ready"})]})]})]}),c.jsx("div",{className:"animate-fade-in stagger-3",style:{marginBottom:"28px"},children:c.jsxs(ke,{variant:"cream",onClick:U,style:{width:"100%",padding:"16px"},children:[c.jsx(Ur,{size:18})," KI-Insight generieren"]})}),c.jsxs("div",{className:"animate-fade-in stagger-4",children:[c.jsxs("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#2A2420",marginBottom:"14px",display:"flex",alignItems:"center",gap:"8px"},children:[c.jsx(vl,{size:18,color:"#FF6B9D"}),"Anstehend (nchste 7 Tage)"]}),o.length===0?c.jsxs(ue,{style:{textAlign:"center",padding:"30px 20px"},children:[c.jsx(jr,{size:24,color:"#E8DFD3",style:{marginBottom:"8px"}}),c.jsx("p",{style:{color:"#A89B8C",fontSize:"14px"},children:"Keine Events in den nchsten 7 Tagen"})]}):o.map(S=>{const C=new Date(S.date+"T00:00:00"),w=C.getDate().toString().padStart(2,"0"),O=C.toLocaleDateString("de-DE",{month:"short"});return c.jsxs(ue,{style:{marginBottom:"10px",display:"flex",alignItems:"center",gap:"14px",padding:"16px 20px"},children:[c.jsxs("div",{style:{width:"48px",height:"48px",background:`linear-gradient(135deg, ${Hv[S.type]||"#A89B8C"}18, ${Hv[S.type]||"#A89B8C"}08)`,borderRadius:"14px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flexShrink:0},children:[c.jsx("span",{style:{fontSize:"10px",color:"#A89B8C",fontWeight:"500"},children:O}),c.jsx("span",{style:{fontSize:"18px",fontWeight:"700",color:"#2A2420"},children:w})]}),c.jsxs("div",{style:{flex:1},children:[c.jsx("p",{style:{fontWeight:"600",color:"#2A2420",fontSize:"15px"},children:S.title}),c.jsx("p",{style:{fontSize:"13px",color:"#A89B8C",marginTop:"2px"},children:S.time?`${S.time} Uhr`:S.type||""})]}),c.jsx(Yo,{size:20,color:"#C9BFAF"})]},S.id)})]})]})},oS=({progress:r,color:e="#FF6B9D",height:n=6})=>c.jsx("div",{style:{height:`${n}px`,background:"rgba(42, 36, 32, 0.06)",borderRadius:`${n/2}px`,overflow:"hidden"},children:c.jsx("div",{style:{height:"100%",width:`${r}%`,background:`linear-gradient(90deg, ${e}, ${e}dd)`,borderRadius:`${n/2}px`,transition:"width 0.6s cubic-bezier(0.4, 0, 0.2, 1)"}})}),Ig={Editing:{bg:"rgba(255,107,157,0.1)",text:"#FF6B9D"},Review:{bg:"rgba(126,181,230,0.1)",text:"#7EB5E6"},Ready:{bg:"rgba(107,201,160,0.1)",text:"#6BC9A0"}},KD=["Video","Foto","Live","Story","Reel","Post","Sonstiges"],YD=()=>{const[r,e]=k.useState([]),[n,s]=k.useState("Alle"),[o,u]=k.useState(!1),[h,g]=k.useState(null),[m,y]=k.useState({title:"",type:"Video",deadline:"",earnings:"",notes:""}),x=Je.currentUser;k.useEffect(()=>{if(!x)return;const z=at(De(de,"content"),Xe("userId","==",x.uid),wi("createdAt","desc")),U=wt(z,X=>{e(X.docs.map(G=>({id:G.id,...G.data()})))});return()=>U()},[x]);const E=()=>{g(null),y({title:"",type:"Video",deadline:"",earnings:"",notes:""}),u(!0)},A=z=>{g(z),y({title:z.title||"",type:z.type||"Video",deadline:z.deadline||"",earnings:z.earnings?.toString()||"",notes:z.notes||""}),u(!0)},I=async()=>{if(!m.title.trim())return;const z={title:m.title.trim(),type:m.type,deadline:m.deadline,earnings:parseFloat(m.earnings)||0,notes:m.notes.trim()};h?await zt(Re(de,"content",h.id),z):await kn(De(de,"content"),{...z,userId:x.uid,status:"Editing",progress:10,createdAt:tt()}),u(!1)},L=async(z,U)=>{const X=U==="Ready"?100:U==="Review"?70:30;await zt(Re(de,"content",z.id),{status:U,progress:X})},j=async z=>{await Gn(Re(de,"content",z))},M=n==="Alle"?r:r.filter(z=>z.status===n),W={width:"100%",padding:"12px 14px",background:"rgba(42,36,32,0.03)",border:"1.5px solid #E8DFD3",borderRadius:"12px",color:"#2A2420",fontSize:"14px",fontFamily:"inherit",outline:"none",boxSizing:"border-box"};return o?c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[c.jsx("h2",{style:{fontSize:"22px",fontWeight:"700",color:"#2A2420"},children:h?"Content bearbeiten":"Neuer Content"}),c.jsx("button",{onClick:()=>u(!1),style:{background:"none",border:"none",color:"#7A6F62",padding:"4px"},children:c.jsx(Xt,{size:22})})]}),c.jsxs(ue,{style:{padding:"20px"},children:[c.jsxs("div",{style:{marginBottom:"14px"},children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Titel"}),c.jsx("input",{type:"text",value:m.title,onChange:z=>y({...m,title:z.target.value}),placeholder:"z.B. Valentine Special",style:W,onFocus:z=>z.target.style.borderColor="#FF6B9D",onBlur:z=>z.target.style.borderColor="#E8DFD3"})]}),c.jsxs("div",{style:{marginBottom:"14px"},children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Typ"}),c.jsx("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap"},children:KD.map(z=>c.jsx("button",{onClick:()=>y({...m,type:z}),style:{padding:"6px 14px",borderRadius:"10px",fontSize:"13px",fontWeight:"500",border:m.type===z?"none":"1.5px solid #E8DFD3",background:m.type===z?"linear-gradient(135deg, #FF8FAB, #FF6B9D)":"rgba(255,255,255,0.6)",color:m.type===z?"white":"#7A6F62"},children:z},z))})]}),c.jsxs("div",{style:{marginBottom:"14px"},children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Deadline"}),c.jsx("input",{type:"date",value:m.deadline,onChange:z=>y({...m,deadline:z.target.value}),style:W})]}),c.jsxs("div",{style:{marginBottom:"14px"},children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Einnahmen ()"}),c.jsx("input",{type:"number",value:m.earnings,onChange:z=>y({...m,earnings:z.target.value}),placeholder:"0",style:W})]}),c.jsxs("div",{style:{marginBottom:"20px"},children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Notizen"}),c.jsx("textarea",{value:m.notes,onChange:z=>y({...m,notes:z.target.value}),placeholder:"Anmerkungen...",rows:3,style:{...W,resize:"vertical"},onFocus:z=>z.target.style.borderColor="#FF6B9D",onBlur:z=>z.target.style.borderColor="#E8DFD3"})]}),c.jsx(ke,{variant:"primary",onClick:I,style:{width:"100%",padding:"14px"},children:h?"Speichern":"Erstellen"})]})]}):c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},className:"animate-fade-in",children:[c.jsxs("div",{children:[c.jsx("h2",{style:{fontSize:"22px",fontWeight:"700",color:"#2A2420",letterSpacing:"-0.3px"},children:"Content Pipeline"}),c.jsxs("p",{style:{color:"#A89B8C",fontSize:"14px",marginTop:"2px"},children:[r.length," Projekte"]})]}),c.jsxs(ke,{variant:"primary",onClick:E,style:{padding:"10px 16px"},children:[c.jsx(bn,{size:18})," Neu"]})]}),c.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"20px",overflowX:"auto",paddingBottom:"4px"},className:"animate-fade-in stagger-1",children:["Alle","Editing","Review","Ready"].map(z=>c.jsx("button",{onClick:()=>s(z),style:{padding:"8px 18px",borderRadius:"20px",fontSize:"13px",fontWeight:"500",whiteSpace:"nowrap",border:n===z?"none":"1.5px solid #E8DFD3",background:n===z?"linear-gradient(135deg, #FF8FAB 0%, #FF6B9D 100%)":"rgba(255,255,255,0.6)",color:n===z?"white":"#7A6F62",boxShadow:n===z?"0 3px 10px rgba(255,107,157,0.25)":"none",transition:"all 0.2s ease"},children:z},z))}),M.length===0?c.jsxs(ue,{className:"animate-fade-in stagger-2",style:{textAlign:"center",padding:"50px 20px"},children:[c.jsx("p",{style:{color:"#A89B8C",fontSize:"14px",marginBottom:"16px"},children:n==="Alle"?"Noch kein Content. Erstelle deinen ersten!":`Kein Content mit Status "${n}"`}),n==="Alle"&&c.jsxs(ke,{variant:"cream",onClick:E,children:[c.jsx(bn,{size:16})," Content erstellen"]})]}):M.map((z,U)=>c.jsxs(ue,{style:{marginBottom:"14px"},className:`animate-fade-in stagger-${Math.min(U+2,5)}`,children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"14px"},children:[c.jsxs("div",{children:[c.jsx("h3",{style:{fontWeight:"600",color:"#2A2420",marginBottom:"6px",fontSize:"16px"},children:z.title}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[c.jsx("span",{style:{fontSize:"11px",padding:"4px 10px",borderRadius:"8px",fontWeight:"600",background:Ig[z.status]?.bg,color:Ig[z.status]?.text},children:z.status}),c.jsx("span",{style:{fontSize:"12px",color:"#A89B8C",fontWeight:"500"},children:z.type})]})]}),c.jsxs("div",{style:{display:"flex",gap:"6px",alignItems:"center"},children:[z.earnings>0&&c.jsxs("span",{style:{fontSize:"14px",fontWeight:"700",color:"#6BC9A0",background:"rgba(107,201,160,0.1)",padding:"4px 10px",borderRadius:"8px"},children:["+",z.earnings]}),c.jsx("button",{onClick:()=>A(z),style:{background:"none",border:"none",color:"#A89B8C",padding:"4px"},children:c.jsx(tS,{size:14})}),c.jsx("button",{onClick:()=>j(z.id),style:{background:"none",border:"none",color:"#A89B8C",padding:"4px"},children:c.jsx(ji,{size:14})})]})]}),c.jsx(oS,{progress:z.progress||0,color:Ig[z.status]?.text||"#FF6B9D"}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"14px"},children:[c.jsxs("span",{style:{fontSize:"12px",color:"#A89B8C"},children:[z.progress||0,"%",z.deadline?`  ${new Date(z.deadline).toLocaleDateString("de-DE")}`:""]}),c.jsxs("div",{style:{display:"flex",gap:"8px"},children:[z.status!=="Editing"&&c.jsx("button",{onClick:()=>L(z,"Editing"),style:{padding:"6px 14px",background:"rgba(42,36,32,0.04)",border:"1px solid #E8DFD3",borderRadius:"10px",color:"#7A6F62",fontSize:"12px",fontWeight:"500"},children:"Zurck"}),z.status!=="Ready"&&c.jsx("button",{onClick:()=>L(z,z.status==="Editing"?"Review":"Ready"),style:{padding:"6px 14px",background:"rgba(255,107,157,0.1)",border:"none",borderRadius:"10px",color:"#FF6B9D",fontSize:"12px",fontWeight:"600"},children:z.status==="Editing"?"Review":"Publish"})]})]})]},z.id))]})},Yd={OnlyFans:"#FF6B9D",Fansly:"#7EB5E6",Patreon:"#F5C563",TikTok:"#000000",Instagram:"#E1306C",YouTube:"#FF0000",Twitch:"#9146FF",Sonstiges:"#A89B8C"},QD=["OnlyFans","Fansly","Patreon","TikTok","Instagram","YouTube","Twitch","Sonstiges"],XD=()=>{const[r,e]=k.useState([]),[n,s]=k.useState(!1),[o,u]=k.useState({platform:"OnlyFans",brutto:"",netto:"",note:"",month:""}),h=Je.currentUser;k.useEffect(()=>{if(!h)return;const I=at(De(de,"finances"),Xe("userId","==",h.uid),wi("createdAt","desc")),L=wt(I,j=>{e(j.docs.map(M=>({id:M.id,...M.data()})))});return()=>L()},[h]);const g=async()=>{!o.brutto&&!o.netto||(await kn(De(de,"finances"),{userId:h.uid,platform:o.platform,brutto:parseFloat(o.brutto)||0,netto:parseFloat(o.netto)||0,note:o.note.trim(),month:o.month||new Date().toISOString().slice(0,7),createdAt:tt()}),u({platform:"OnlyFans",brutto:"",netto:"",note:"",month:""}),s(!1))},m=async I=>{await Gn(Re(de,"finances",I))},y=r.reduce((I,L)=>(I[L.platform]||(I[L.platform]={brutto:0,netto:0}),I[L.platform].brutto+=L.brutto||0,I[L.platform].netto+=L.netto||0,I),{}),x=r.reduce((I,L)=>I+(L.brutto||0),0),E=r.reduce((I,L)=>I+(L.netto||0),0),A={width:"100%",padding:"12px 14px",background:"rgba(42,36,32,0.03)",border:"1.5px solid #E8DFD3",borderRadius:"12px",color:"#2A2420",fontSize:"14px",fontFamily:"inherit",outline:"none",boxSizing:"border-box"};return n?c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[c.jsx("h2",{style:{fontSize:"22px",fontWeight:"700",color:"#2A2420"},children:"Einnahme hinzufgen"}),c.jsx("button",{onClick:()=>s(!1),style:{background:"none",border:"none",color:"#7A6F62",padding:"4px"},children:c.jsx(Xt,{size:22})})]}),c.jsxs(ue,{style:{padding:"20px"},children:[c.jsxs("div",{style:{marginBottom:"14px"},children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Plattform"}),c.jsx("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap"},children:QD.map(I=>c.jsx("button",{onClick:()=>u({...o,platform:I}),style:{padding:"6px 14px",borderRadius:"10px",fontSize:"13px",fontWeight:"500",border:o.platform===I?"none":"1.5px solid #E8DFD3",background:o.platform===I?Yd[I]||"#FF6B9D":"rgba(255,255,255,0.6)",color:o.platform===I?"white":"#7A6F62"},children:I},I))})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",marginBottom:"14px"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Brutto ()"}),c.jsx("input",{type:"number",value:o.brutto,onChange:I=>u({...o,brutto:I.target.value}),placeholder:"0",style:A})]}),c.jsxs("div",{children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Netto ()"}),c.jsx("input",{type:"number",value:o.netto,onChange:I=>u({...o,netto:I.target.value}),placeholder:"0",style:A})]})]}),c.jsxs("div",{style:{marginBottom:"14px"},children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Monat"}),c.jsx("input",{type:"month",value:o.month,onChange:I=>u({...o,month:I.target.value}),style:A})]}),c.jsxs("div",{style:{marginBottom:"20px"},children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Notiz"}),c.jsx("input",{type:"text",value:o.note,onChange:I=>u({...o,note:I.target.value}),placeholder:"z.B. Abo-Einnahmen",style:A})]}),c.jsx(ke,{variant:"primary",onClick:g,style:{width:"100%",padding:"14px"},children:"Hinzufgen"})]})]}):c.jsxs("div",{children:[c.jsxs("div",{className:"animate-fade-in",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[c.jsxs("div",{children:[c.jsx("h2",{style:{fontSize:"22px",fontWeight:"700",color:"#2A2420",letterSpacing:"-0.3px"},children:"Finanzen"}),c.jsx("p",{style:{color:"#A89B8C",fontSize:"14px",marginTop:"2px"},children:"Dein Finanz-berblick"})]}),c.jsxs(ke,{variant:"primary",onClick:()=>s(!0),style:{padding:"10px 16px"},children:[c.jsx(bn,{size:18})," Neu"]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"24px"},children:[c.jsxs(ue,{className:"animate-fade-in stagger-1",children:[c.jsx("p",{style:{fontSize:"12px",color:"#A89B8C",marginBottom:"6px",fontWeight:"500"},children:"Brutto"}),c.jsxs("p",{style:{fontSize:"24px",fontWeight:"700",color:"#2A2420",letterSpacing:"-0.5px"},children:["",x>1e3?(x/1e3).toFixed(1)+"k":x.toLocaleString("de-DE")]}),r.length>0&&c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",marginTop:"4px"},children:[c.jsx(XE,{size:14,color:"#6BC9A0"}),c.jsxs("span",{style:{fontSize:"12px",color:"#6BC9A0",fontWeight:"600"},children:[r.length," Eintrge"]})]})]}),c.jsxs(ue,{className:"animate-fade-in stagger-2",children:[c.jsx("p",{style:{fontSize:"12px",color:"#A89B8C",marginBottom:"6px",fontWeight:"500"},children:"Netto"}),c.jsxs("p",{style:{fontSize:"24px",fontWeight:"700",color:"#6BC9A0",letterSpacing:"-0.5px"},children:["",E>1e3?(E/1e3).toFixed(1)+"k":E.toLocaleString("de-DE")]}),x>0&&c.jsx("div",{style:{display:"flex",alignItems:"center",gap:"4px",marginTop:"4px"},children:c.jsxs("span",{style:{fontSize:"12px",color:"#A89B8C"},children:[(E/x*100).toFixed(0),"% Marge"]})})]})]}),Object.keys(y).length>0&&c.jsxs(c.Fragment,{children:[c.jsxs("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#2A2420",marginBottom:"14px",display:"flex",alignItems:"center",gap:"8px"},children:[c.jsx(Gt,{size:18,color:"#FF6B9D"}),"Plattform-Analyse"]}),Object.entries(y).sort((I,L)=>L[1].netto-I[1].netto).map(([I,L],j)=>c.jsxs(ue,{style:{marginBottom:"12px"},className:`animate-fade-in stagger-${Math.min(j+3,5)}`,children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[c.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:Yd[I]||"#A89B8C"}}),c.jsx("span",{style:{fontWeight:"600",color:"#2A2420",fontSize:"15px"},children:I})]}),c.jsxs("span",{style:{fontSize:"15px",fontWeight:"700",color:"#6BC9A0"},children:["",L.netto.toLocaleString("de-DE")]})]}),L.brutto>0&&c.jsx(oS,{progress:L.netto/L.brutto*100,color:Yd[I]||"#A89B8C",height:5}),c.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"8px"},children:c.jsxs("span",{style:{fontSize:"11px",color:"#A89B8C"},children:["Brutto ",L.brutto.toLocaleString("de-DE")]})})]},I))]}),c.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#2A2420",marginBottom:"14px",marginTop:"24px"},children:"Letzte Eintrge"}),r.length===0?c.jsxs(ue,{style:{textAlign:"center",padding:"40px 20px"},children:[c.jsx("p",{style:{color:"#A89B8C",fontSize:"14px",marginBottom:"16px"},children:"Noch keine Eintrge. Fge deine erste Einnahme hinzu!"}),c.jsxs(ke,{variant:"cream",onClick:()=>s(!0),children:[c.jsx(bn,{size:16})," Einnahme hinzufgen"]})]}):r.slice(0,10).map(I=>c.jsxs(ue,{style:{marginBottom:"8px",display:"flex",alignItems:"center",gap:"12px",padding:"14px 18px"},children:[c.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:Yd[I.platform]||"#A89B8C",flexShrink:0}}),c.jsxs("div",{style:{flex:1,minWidth:0},children:[c.jsx("p",{style:{fontWeight:"600",color:"#2A2420",fontSize:"14px"},children:I.platform}),c.jsxs("p",{style:{fontSize:"12px",color:"#A89B8C",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[I.month||"",I.note?`  ${I.note}`:""]})]}),c.jsxs("span",{style:{fontSize:"14px",fontWeight:"700",color:"#6BC9A0",flexShrink:0},children:["",(I.netto||0).toLocaleString("de-DE")]}),c.jsx("button",{onClick:()=>m(I.id),style:{background:"none",border:"none",color:"#A89B8C",padding:"4px",flexShrink:0},children:c.jsx(ji,{size:14})})]},I.id))]})},ja={shooting:"#7EB5E6",deadline:"#FF6B9D",live:"#6BC9A0",meeting:"#F5C563",posting:"#A78BFA",other:"#A89B8C"},Dg={shooting:"Shooting",deadline:"Deadline",live:"Live",meeting:"Meeting",posting:"Posting",other:"Sonstiges"},Wv=()=>{const[r,e]=k.useState([]),[n,s]=k.useState(!1),[o,u]=k.useState(null),[h,g]=k.useState(null),[m,y]=k.useState(""),[x,E]=k.useState(""),[A,I]=k.useState(""),[L,j]=k.useState("shooting"),[M,W]=k.useState(""),[z,U]=k.useState(new Date().getMonth()),[X,G]=k.useState(new Date().getFullYear()),oe=new Date;k.useEffect(()=>{const le=Je.currentUser;if(!le)return;const Te=at(De(de,"events"),Xe("userId","==",le.uid),wi("date","asc")),P=wt(Te,B=>{e(B.docs.map(re=>({id:re.id,...re.data()})))});return()=>P()},[]);const S=()=>{y(""),E(""),I(""),j("shooting"),W(""),u(null),s(!1)},C=async()=>{if(!m.trim()||!x)return;const le=Je.currentUser;if(!le)return;const Te={userId:le.uid,title:m.trim(),date:x,time:A||"",type:L,notes:M.trim(),updatedAt:tt()};o?await zt(Re(de,"events",o.id),Te):(Te.createdAt=tt(),await kn(De(de,"events"),Te)),S()},w=le=>{y(le.title),E(le.date),I(le.time||""),j(le.type),W(le.notes||""),u(le),s(!0)},O=async le=>{await Gn(Re(de,"events",le))},D=new Date(X,z,1).getDay(),F=new Date(X,z+1,0).getDate(),N=D===0?6:D-1,Ee=new Date(X,z).toLocaleDateString("de-DE",{month:"long",year:"numeric"}),Be=le=>{const Te=`${X}-${String(z+1).padStart(2,"0")}-${String(le).padStart(2,"0")}`;return r.filter(P=>P.date===Te)},ee=le=>le===oe.getDate()&&z===oe.getMonth()&&X===oe.getFullYear(),fe=r.filter(le=>{const[Te,P]=le.date.split("-");return parseInt(Te)===X&&parseInt(P)===z+1}).sort((le,Te)=>le.date.localeCompare(Te.date)),ve={width:"100%",padding:"12px 14px",background:"rgba(42, 36, 32, 0.03)",border:"1.5px solid #E8DFD3",borderRadius:"12px",color:"#2A2420",fontSize:"14px",fontFamily:"inherit",outline:"none"};return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},className:"animate-fade-in",children:[c.jsxs("div",{children:[c.jsx("h2",{style:{fontSize:"22px",fontWeight:"700",color:"#2A2420",letterSpacing:"-0.3px"},children:"Kalender"}),c.jsxs("p",{style:{color:"#A89B8C",fontSize:"14px",marginTop:"2px"},children:[fe.length," Termine"]})]}),c.jsxs(ke,{variant:"primary",onClick:()=>{S(),s(!0)},style:{padding:"10px 16px"},children:[c.jsx(bn,{size:18})," Neu"]})]}),c.jsxs(ue,{className:"animate-fade-in stagger-1",style:{marginBottom:"20px",padding:"16px"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[c.jsx("button",{onClick:()=>{z===0?(U(11),G(X-1)):U(z-1)},style:{background:"none",border:"none",color:"#7A6F62",padding:"8px"},children:c.jsx(JE,{size:20})}),c.jsx("span",{style:{fontWeight:"700",color:"#2A2420",fontSize:"16px",textTransform:"capitalize"},children:Ee}),c.jsx("button",{onClick:()=>{z===11?(U(0),G(X+1)):U(z+1)},style:{background:"none",border:"none",color:"#7A6F62",padding:"8px"},children:c.jsx(Yo,{size:20})})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"4px"},children:[["Mo","Di","Mi","Do","Fr","Sa","So"].map(le=>c.jsx("div",{style:{textAlign:"center",padding:"6px",color:"#A89B8C",fontSize:"11px",fontWeight:"600"},children:le},le)),Array.from({length:N},(le,Te)=>c.jsx("div",{},`empty-${Te}`)),Array.from({length:F},(le,Te)=>{const P=Te+1,B=Be(P),re=ee(P),ce=h===P;return c.jsxs("div",{onClick:()=>g(h===P?null:P),style:{aspectRatio:"1",background:re?"linear-gradient(135deg, #FF8FAB 0%, #FF6B9D 100%)":ce?"rgba(255,107,157,0.08)":"rgba(42, 36, 32, 0.02)",borderRadius:"10px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"13px",fontWeight:re||ce?"700":"500",color:re?"white":"#5C5349",border:ce&&!re?"1.5px solid rgba(255,107,157,0.3)":re?"none":"1px solid rgba(232, 223, 211, 0.3)",position:"relative",cursor:"pointer",boxShadow:re?"0 3px 10px rgba(255,107,157,0.3)":"none"},children:[P,B.length>0&&c.jsx("div",{style:{display:"flex",gap:"2px",position:"absolute",bottom:"3px"},children:B.slice(0,3).map((Ae,je)=>c.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",background:re?"white":ja[Ae.type]||"#FF6B9D"}},je))})]},P)})]})]}),h&&c.jsxs("div",{className:"animate-fade-in",style:{marginBottom:"20px"},children:[c.jsxs("h3",{style:{fontSize:"15px",fontWeight:"600",color:"#2A2420",marginBottom:"10px"},children:[h,". ",Ee.split(" ")[0]]}),Be(h).length===0?c.jsx(ue,{style:{textAlign:"center",padding:"24px",color:"#A89B8C",fontSize:"14px"},children:"Keine Termine an diesem Tag"}):Be(h).map(le=>c.jsxs(ue,{style:{marginBottom:"8px",display:"flex",alignItems:"center",gap:"12px",padding:"14px 16px"},children:[c.jsx("div",{style:{width:"4px",height:"40px",background:ja[le.type]||"#FF6B9D",borderRadius:"2px",flexShrink:0}}),c.jsxs("div",{style:{flex:1},children:[c.jsx("p",{style:{fontWeight:"600",color:"#2A2420",fontSize:"14px"},children:le.title}),c.jsxs("p",{style:{fontSize:"12px",color:"#A89B8C"},children:[le.time&&`${le.time} Uhr  `,Dg[le.type]]})]}),c.jsx("button",{onClick:()=>w(le),style:{background:"none",border:"none",color:"#7A6F62",padding:"6px"},children:c.jsx(tS,{size:16})}),c.jsx("button",{onClick:()=>O(le.id),style:{background:"none",border:"none",color:"#DC2626",padding:"6px"},children:c.jsx(ji,{size:16})})]},le.id))]}),c.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#2A2420",marginBottom:"14px"},children:"Kommende Termine"}),fe.length===0?c.jsxs(ue,{style:{textAlign:"center",padding:"40px",color:"#A89B8C"},children:[c.jsx(xD,{size:32,color:"#E8DFD3",style:{marginBottom:"12px"}}),c.jsx("p",{children:"Noch keine Termine. Erstelle deinen ersten!"})]}):fe.map(le=>c.jsxs(ue,{style:{marginBottom:"10px",display:"flex",alignItems:"center",gap:"14px",padding:"16px 20px"},children:[c.jsx("div",{style:{width:"4px",height:"44px",background:ja[le.type]||"#FF6B9D",borderRadius:"2px",flexShrink:0}}),c.jsxs("div",{style:{width:"48px",height:"48px",background:`${ja[le.type]||"#FF6B9D"}15`,borderRadius:"14px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flexShrink:0},children:[c.jsx("span",{style:{fontSize:"10px",color:"#A89B8C",fontWeight:"500"},children:new Date(le.date).toLocaleDateString("de-DE",{month:"short"})}),c.jsx("span",{style:{fontSize:"18px",fontWeight:"700",color:"#2A2420"},children:le.date.split("-")[2]})]}),c.jsxs("div",{style:{flex:1},children:[c.jsx("p",{style:{fontWeight:"600",color:"#2A2420",fontSize:"15px"},children:le.title}),c.jsxs("p",{style:{fontSize:"13px",color:"#A89B8C",marginTop:"2px"},children:[le.time&&`${le.time} Uhr`,le.notes&&`  ${le.notes}`]})]}),c.jsx("span",{style:{fontSize:"11px",padding:"4px 10px",borderRadius:"8px",fontWeight:"600",background:`${ja[le.type]||"#FF6B9D"}15`,color:ja[le.type]||"#FF6B9D"},children:Dg[le.type]})]},le.id)),n&&c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(42, 36, 32, 0.5)",backdropFilter:"blur(8px)",zIndex:300,display:"flex",alignItems:"flex-end",justifyContent:"center",padding:"20px"},onClick:le=>{le.target===le.currentTarget&&S()},children:c.jsxs("div",{className:"animate-slide-up",style:{width:"100%",maxWidth:"440px",background:"#FFFDF7",borderRadius:"24px 24px 0 0",padding:"28px",maxHeight:"80vh",overflowY:"auto"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[c.jsx("h3",{style:{fontSize:"18px",fontWeight:"700",color:"#2A2420"},children:o?"Event bearbeiten":"Neues Event"}),c.jsx("button",{onClick:S,style:{background:"none",border:"none",color:"#7A6F62",padding:"4px"},children:c.jsx(Xt,{size:22})})]}),c.jsxs("div",{style:{marginBottom:"14px"},children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Titel"}),c.jsx("input",{type:"text",value:m,onChange:le=>y(le.target.value),placeholder:"z.B. Shooting, Live Session...",style:ve})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",marginBottom:"14px"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Datum"}),c.jsx("input",{type:"date",value:x,onChange:le=>E(le.target.value),style:ve})]}),c.jsxs("div",{children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Uhrzeit"}),c.jsx("input",{type:"time",value:A,onChange:le=>I(le.target.value),style:ve})]})]}),c.jsxs("div",{style:{marginBottom:"14px"},children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Typ"}),c.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:Object.entries(Dg).map(([le,Te])=>c.jsx("button",{onClick:()=>j(le),style:{padding:"8px 14px",borderRadius:"20px",border:L===le?"none":"1.5px solid #E8DFD3",background:L===le?ja[le]:"white",color:L===le?"white":"#7A6F62",fontSize:"12px",fontWeight:"600"},children:Te},le))})]}),c.jsxs("div",{style:{marginBottom:"24px"},children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Notizen"}),c.jsx("textarea",{value:M,onChange:le=>W(le.target.value),placeholder:"Optional...",rows:2,style:{...ve,resize:"vertical"}})]}),c.jsxs("div",{style:{display:"flex",gap:"10px"},children:[c.jsx(ke,{variant:"ghost",onClick:S,style:{flex:1},children:"Abbrechen"}),c.jsx(ke,{variant:"primary",onClick:C,style:{flex:2},children:o?"Speichern":"Event erstellen"})]})]})})]})},JD="yunghundse@gmail.com",ZD=()=>{const[r,e]=k.useState([]),[n,s]=k.useState(null),[o,u]=k.useState([]),[h,g]=k.useState(""),[m,y]=k.useState([]),[x,E]=k.useState(!1),[A,I]=k.useState(""),[L,j]=k.useState(null),M=k.useRef(null),W=k.useRef(null),z=Je.currentUser;k.useEffect(()=>{if(!z)return;const D=at(De(de,"chatRooms"),Xe("participants","array-contains",z.uid)),F=wt(D,N=>{e(N.docs.map(Ee=>({id:Ee.id,...Ee.data()})))});return()=>F()},[z]),k.useEffect(()=>{if(!n)return;const D=at(De(de,"chatRooms",n.id,"messages"),wi("createdAt","asc")),F=wt(D,N=>{u(N.docs.map(Ee=>({id:Ee.id,...Ee.data()})))});return()=>F()},[n]),k.useEffect(()=>{M.current?.scrollIntoView({behavior:"smooth"})},[o]);const U=async()=>{const D=await Rs(De(de,"users"));y(D.docs.map(F=>({id:F.id,...F.data()})).filter(F=>F.uid!==z?.uid))},X=async D=>{const F=r.find(Ee=>Ee.participants.includes(D.uid));if(F){s(F),E(!1);return}const N=await kn(De(de,"chatRooms"),{participants:[z.uid,D.uid],participantNames:{[z.uid]:z.displayName||z.email,[D.uid]:D.displayName||D.email},participantPhotos:{[z.uid]:z.photoURL||"",[D.uid]:D.photoURL||""},lastMessage:"",lastMessageAt:tt(),createdAt:tt()});s({id:N.id,participants:[z.uid,D.uid],participantNames:{[z.uid]:z.displayName||z.email,[D.uid]:D.displayName||D.email},participantPhotos:{[z.uid]:z.photoURL||"",[D.uid]:D.photoURL||""}}),E(!1)},G=async()=>{!h.trim()||!n||(await kn(De(de,"chatRooms",n.id,"messages"),{text:h.trim(),senderId:z.uid,senderName:z.displayName||z.email,senderPhoto:z.photoURL||"",createdAt:tt()}),await zt(Re(de,"chatRooms",n.id),{lastMessage:h.trim(),lastMessageAt:tt()}),g(""))},oe=async D=>{if(n){try{await Gn(Re(de,"chatRooms",n.id,"messages",D));const F=o.filter(Ee=>Ee.id!==D),N=F[F.length-1];await zt(Re(de,"chatRooms",n.id),{lastMessage:N?.text||""})}catch(F){console.error("Delete error:",F)}j(null)}},S=D=>{D.senderId===z?.uid&&(W.current=setTimeout(()=>{j(D.id)},500))},C=()=>{W.current&&clearTimeout(W.current)},w=D=>{if(!D?.participants||!z)return{name:"?",photo:""};const F=D.participants.find(N=>N!==z.uid);return{name:D.participantNames?.[F]||"User",photo:D.participantPhotos?.[F]||""}},O=m.filter(D=>D.displayName?.toLowerCase().includes(A.toLowerCase())||D.email?.toLowerCase().includes(A.toLowerCase()));if(n){const D=w(n);return c.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"calc(100vh - 200px)"},children:[L&&c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.4)",backdropFilter:"blur(4px)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},onClick:()=>j(null),children:c.jsxs("div",{onClick:F=>F.stopPropagation(),style:{background:"#FFFDF7",borderRadius:"20px",padding:"24px",width:"100%",maxWidth:"320px",textAlign:"center",boxShadow:"0 20px 60px rgba(0,0,0,0.2)"},children:[c.jsx("div",{style:{width:"52px",height:"52px",borderRadius:"16px",background:"rgba(220,38,38,0.08)",margin:"0 auto 14px",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(ji,{size:24,color:"#DC2626"})}),c.jsx("h3",{style:{fontSize:"17px",fontWeight:"700",color:"#2A2420",marginBottom:"6px"},children:"Nachricht lschen?"}),c.jsx("p",{style:{fontSize:"13px",color:"#A89B8C",marginBottom:"20px"},children:"Diese Nachricht wird fr alle gelscht."}),c.jsxs("div",{style:{display:"flex",gap:"10px"},children:[c.jsx("button",{onClick:()=>j(null),style:{flex:1,padding:"12px",borderRadius:"12px",border:"1px solid #E8DFD3",background:"transparent",color:"#7A6F62",fontWeight:"600",fontSize:"14px",cursor:"pointer",fontFamily:"inherit"},children:"Abbrechen"}),c.jsx("button",{onClick:()=>oe(L),style:{flex:1,padding:"12px",borderRadius:"12px",border:"none",background:"linear-gradient(135deg, #DC2626, #B91C1C)",color:"white",fontWeight:"600",fontSize:"14px",cursor:"pointer",fontFamily:"inherit",boxShadow:"0 4px 12px rgba(220,38,38,0.3)"},children:"Lschen"})]})]})}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",paddingBottom:"16px",borderBottom:"1px solid rgba(232,223,211,0.4)",marginBottom:"16px"},children:[c.jsx("button",{onClick:()=>s(null),style:{background:"none",border:"none",color:"#7A6F62",padding:"4px"},children:c.jsx(zh,{size:22})}),D.photo?c.jsx("img",{src:D.photo,alt:"",style:{width:"40px",height:"40px",borderRadius:"12px",objectFit:"cover"}}):c.jsx("div",{style:{width:"40px",height:"40px",background:"linear-gradient(135deg, #FFE8B8, #FFDDA0)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"700",color:"#5C5349",fontSize:"16px"},children:D.name.charAt(0).toUpperCase()}),c.jsxs("div",{children:[c.jsx("p",{style:{fontWeight:"600",color:"#2A2420",fontSize:"15px"},children:D.name}),c.jsx("p",{style:{fontSize:"12px",color:"#6BC9A0"},children:"Online"})]})]}),c.jsxs("div",{style:{flex:1,overflowY:"auto",paddingBottom:"8px"},children:[o.length===0&&c.jsx("div",{style:{textAlign:"center",padding:"40px 20px",color:"#A89B8C"},children:c.jsx("p",{style:{fontSize:"14px"},children:"Noch keine Nachrichten. Schreib die erste!"})}),o.map(F=>{const N=F.senderId===z?.uid,Ee=L===F.id;return c.jsx("div",{style:{marginBottom:"10px",display:"flex",justifyContent:N?"flex-end":"flex-start",position:"relative"},children:c.jsxs("div",{onTouchStart:()=>S(F),onTouchEnd:C,onContextMenu:Be=>{N&&(Be.preventDefault(),j(F.id))},style:{maxWidth:"80%",padding:"12px 16px",borderRadius:N?"18px 18px 4px 18px":"18px 18px 18px 4px",background:Ee?"rgba(220,38,38,0.12)":N?"linear-gradient(135deg, #FF8FAB, #FF6B9D)":"rgba(255,255,255,0.7)",border:Ee?"1px solid rgba(220,38,38,0.3)":N?"none":"1px solid rgba(232,223,211,0.5)",boxShadow:N?"0 3px 10px rgba(255,107,157,0.2)":"0 1px 4px rgba(0,0,0,0.04)",transition:"all 0.2s ease",position:"relative"},children:[N&&Ee&&c.jsx("button",{onClick:()=>oe(F.id),style:{position:"absolute",top:"-10px",right:"-10px",width:"28px",height:"28px",borderRadius:"50%",background:"#DC2626",border:"none",color:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 2px 8px rgba(220,38,38,0.4)"},children:c.jsx(ji,{size:13})}),!N&&c.jsx("p",{style:{fontSize:"12px",fontWeight:"600",color:"#FF6B9D",marginBottom:"4px"},children:F.senderName}),c.jsx("p",{style:{color:N?"white":"#3D362F",fontSize:"14px",lineHeight:1.5,margin:0},children:F.text}),c.jsx("p",{style:{fontSize:"10px",color:N?"rgba(255,255,255,0.6)":"#A89B8C",textAlign:"right",marginTop:"4px"},children:F.createdAt?.toDate?.()?.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})||"..."})]})},F.id)}),c.jsx("div",{ref:M})]}),c.jsx("p",{style:{textAlign:"center",fontSize:"11px",color:"#C4B8A8",padding:"4px 0"},children:"Eigene Nachricht lange drcken oder rechtsklicken zum Lschen"}),c.jsxs("div",{style:{display:"flex",gap:"10px",padding:"12px 0",borderTop:"1px solid rgba(232,223,211,0.4)"},children:[c.jsx("input",{type:"text",value:h,onChange:F=>g(F.target.value),placeholder:"Nachricht schreiben...",style:{flex:1,padding:"14px 18px",background:"rgba(255,255,255,0.7)",border:"1.5px solid #E8DFD3",borderRadius:"16px",color:"#2A2420",fontSize:"15px",fontFamily:"inherit",outline:"none"},onFocus:F=>F.target.style.borderColor="#FF6B9D",onBlur:F=>F.target.style.borderColor="#E8DFD3",onKeyDown:F=>F.key==="Enter"&&G()}),c.jsx(ke,{variant:"primary",onClick:G,style:{padding:"14px 16px",borderRadius:"16px"},children:c.jsx(Jc,{size:18})})]})]})}return x?c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px"},children:[c.jsx("button",{onClick:()=>E(!1),style:{background:"none",border:"none",color:"#7A6F62",padding:"4px"},children:c.jsx(zh,{size:22})}),c.jsx("h2",{style:{fontSize:"22px",fontWeight:"700",color:"#2A2420"},children:"Neuer Chat"})]}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",background:"rgba(42,36,32,0.03)",border:"1.5px solid #E8DFD3",borderRadius:"14px",padding:"0 14px",marginBottom:"16px"},children:[c.jsx(nS,{size:18,color:"#A89B8C"}),c.jsx("input",{type:"text",placeholder:"User suchen...",value:A,onChange:D=>I(D.target.value),style:{flex:1,padding:"12px 0",background:"transparent",border:"none",color:"#2A2420",fontSize:"14px",fontFamily:"inherit",outline:"none"}})]}),O.length===0?c.jsxs(ue,{style:{textAlign:"center",padding:"40px",color:"#A89B8C"},children:[c.jsx(Hn,{size:32,color:"#E8DFD3",style:{marginBottom:"12px"}}),c.jsx("p",{children:"Keine User gefunden"})]}):O.map(D=>c.jsxs(ue,{onClick:()=>X(D),style:{marginBottom:"8px",display:"flex",alignItems:"center",gap:"12px",padding:"14px 18px",cursor:"pointer"},children:[D.photoURL?c.jsx("img",{src:D.photoURL,alt:"",style:{width:"44px",height:"44px",borderRadius:"14px",objectFit:"cover"}}):c.jsx("div",{style:{width:"44px",height:"44px",background:"linear-gradient(135deg, #FFE8B8, #FFDDA0)",borderRadius:"14px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"700",color:"#5C5349",fontSize:"18px"},children:(D.displayName||D.email||"?").charAt(0).toUpperCase()}),c.jsxs("div",{style:{flex:1},children:[c.jsxs("p",{style:{fontWeight:"600",color:"#2A2420",fontSize:"15px"},children:[D.displayName||"User",D.email===JD&&c.jsx(Pr,{size:12,color:"#FF6B9D",style:{marginLeft:"6px",verticalAlign:"middle"}})]}),c.jsx("p",{style:{fontSize:"12px",color:"#A89B8C"},children:D.email})]})]},D.id))]}):c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},className:"animate-fade-in",children:[c.jsxs("div",{children:[c.jsx("h2",{style:{fontSize:"22px",fontWeight:"700",color:"#2A2420",letterSpacing:"-0.3px"},children:"Nachrichten"}),c.jsxs("p",{style:{color:"#A89B8C",fontSize:"14px",marginTop:"2px"},children:[r.length," Chats"]})]}),c.jsxs(ke,{variant:"primary",onClick:()=>{U(),E(!0)},style:{padding:"10px 16px"},children:[c.jsx(bn,{size:18})," Neu"]})]}),r.length===0?c.jsxs(ue,{className:"animate-fade-in stagger-1",style:{textAlign:"center",padding:"50px 20px"},children:[c.jsx("div",{style:{width:"56px",height:"56px",background:"rgba(255,107,157,0.08)",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:c.jsx(Hn,{size:24,color:"#FF6B9D"})}),c.jsx("p",{style:{color:"#5C5349",fontWeight:"600",marginBottom:"6px"},children:"Noch keine Chats"}),c.jsx("p",{style:{color:"#A89B8C",fontSize:"14px",marginBottom:"20px"},children:"Starte einen Chat mit einem anderen User oder dem Admin"}),c.jsxs(ke,{variant:"cream",onClick:()=>{U(),E(!0)},children:[c.jsx(bn,{size:16})," Neuen Chat starten"]})]}):r.sort((D,F)=>(F.lastMessageAt?.seconds||0)-(D.lastMessageAt?.seconds||0)).map((D,F)=>{const N=w(D);return c.jsxs(ue,{onClick:()=>s(D),style:{marginBottom:"10px",display:"flex",alignItems:"center",gap:"14px",padding:"16px 18px",cursor:"pointer"},className:`animate-fade-in stagger-${Math.min(F+1,5)}`,children:[N.photo?c.jsx("img",{src:N.photo,alt:"",style:{width:"48px",height:"48px",borderRadius:"14px",objectFit:"cover"}}):c.jsx("div",{style:{width:"48px",height:"48px",background:"linear-gradient(135deg, #FFE8B8, #FFDDA0)",borderRadius:"14px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"700",color:"#5C5349",fontSize:"20px",flexShrink:0},children:N.name.charAt(0).toUpperCase()}),c.jsxs("div",{style:{flex:1,minWidth:0},children:[c.jsx("p",{style:{fontWeight:"600",color:"#2A2420",fontSize:"15px"},children:N.name}),c.jsx("p",{style:{fontSize:"13px",color:"#A89B8C",marginTop:"2px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:D.lastMessage||"Noch keine Nachrichten"})]}),D.lastMessageAt&&c.jsx("span",{style:{fontSize:"11px",color:"#A89B8C",flexShrink:0},children:D.lastMessageAt.toDate?.()?.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})||""})]},D.id)})]})},ek=({user:r})=>{const[e,n]=k.useState("main"),[s,o]=k.useState(""),[u,h]=k.useState(""),[g,m]=k.useState(""),[y,x]=k.useState(""),[E,A]=k.useState(""),[I,L]=k.useState(!1),[j,M]=k.useState(!1),[W,z]=k.useState(""),U=r?.providerData?.[0]?.providerId==="google.com",X=async()=>{await f4(Je)},G=async w=>{if(w.preventDefault(),x(""),A(""),u!==g){x("Neue Passwrter stimmen nicht berein.");return}if(u.length<6){x("Neues Passwort muss mindestens 6 Zeichen haben.");return}L(!0);try{const O=Fs.credential(r.email,s);await R2(Je.currentUser,O),await l4(Je.currentUser,u),A("Passwort erfolgreich gendert!"),o(""),h(""),m("")}catch(O){console.error("Password change error:",O.code),O.code==="auth/wrong-password"||O.code==="auth/invalid-credential"?x("Aktuelles Passwort ist falsch."):O.code==="auth/too-many-requests"?x("Zu viele Versuche. Bitte warte."):x(`Fehler: ${O.code||O.message}`)}L(!1)},oe=async()=>{x(""),L(!0);try{if(!U&&W){const w=Fs.credential(r.email,W);await R2(Je.currentUser,w)}await Gn(Re(de,"users",r.uid)),await p4(Je.currentUser)}catch(w){console.error("Delete error:",w.code),w.code==="auth/wrong-password"||w.code==="auth/invalid-credential"?x("Passwort ist falsch."):w.code==="auth/requires-recent-login"?x("Bitte melde dich neu an und versuche es erneut."):x(`Fehler: ${w.code||w.message}`)}L(!1)},S={width:"100%",padding:"12px 14px",background:"rgba(42,36,32,0.03)",border:"1.5px solid #E8DFD3",borderRadius:"12px",color:"#2A2420",fontSize:"14px",fontFamily:"inherit",outline:"none",boxSizing:"border-box"};if(e==="security")return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"24px"},children:[c.jsx("button",{onClick:()=>{n("main"),x(""),A("")},style:{background:"none",border:"none",color:"#7A6F62",padding:"4px",cursor:"pointer"},children:c.jsx(Yo,{size:20,style:{transform:"rotate(180deg)"}})}),c.jsx("h2",{style:{fontSize:"22px",fontWeight:"700",color:"#2A2420"},children:"Sicherheit"})]}),y&&c.jsx("div",{style:{background:"rgba(239,68,68,0.08)",border:"1px solid rgba(239,68,68,0.2)",borderRadius:"14px",padding:"12px 16px",marginBottom:"16px",color:"#DC2626",fontSize:"14px",fontWeight:"500"},children:y}),E&&c.jsx("div",{style:{background:"rgba(107,201,160,0.08)",border:"1px solid rgba(107,201,160,0.2)",borderRadius:"14px",padding:"12px 16px",marginBottom:"16px",color:"#059669",fontSize:"14px",fontWeight:"500"},children:E}),c.jsxs(ue,{style:{padding:"20px",marginBottom:"16px"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px"},children:[c.jsx(U5,{size:18,color:"#FF6B9D"}),c.jsx("span",{style:{fontWeight:"600",color:"#2A2420",fontSize:"15px"},children:"Passwort ndern"})]}),U?c.jsx("p",{style:{fontSize:"13px",color:"#A89B8C"},children:"Du bist mit Google angemeldet. Passwortnderung nur ber dein Google-Konto mglich."}):c.jsxs("form",{onSubmit:G,children:[c.jsxs("div",{style:{marginBottom:"12px"},children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Aktuelles Passwort"}),c.jsx("input",{type:"password",value:s,onChange:w=>o(w.target.value),required:!0,style:S})]}),c.jsxs("div",{style:{marginBottom:"12px"},children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Neues Passwort"}),c.jsx("input",{type:"password",value:u,onChange:w=>h(w.target.value),required:!0,placeholder:"Min. 6 Zeichen",style:S})]}),c.jsxs("div",{style:{marginBottom:"16px"},children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Neues Passwort besttigen"}),c.jsx("input",{type:"password",value:g,onChange:w=>m(w.target.value),required:!0,style:S})]}),c.jsx(ke,{type:"submit",variant:"primary",disabled:I,style:{width:"100%",padding:"12px"},children:I?"Wird gendert...":"Passwort ndern"})]})]}),c.jsxs(ue,{style:{padding:"20px",border:"1.5px solid rgba(239,68,68,0.2)"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px"},children:[c.jsx(ji,{size:18,color:"#DC2626"}),c.jsx("span",{style:{fontWeight:"600",color:"#DC2626",fontSize:"15px"},children:"Account lschen"})]}),c.jsx("p",{style:{fontSize:"13px",color:"#7A6F62",marginBottom:"16px",lineHeight:"1.5"},children:"Dein Account und alle Daten werden unwiderruflich gelscht. Dies kann nicht rckgngig gemacht werden."}),j?c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px",background:"rgba(245,197,99,0.1)",borderRadius:"12px",marginBottom:"12px"},children:[c.jsx(Bh,{size:16,color:"#E8A940"}),c.jsx("span",{style:{fontSize:"13px",color:"#5C5349",fontWeight:"500"},children:"Bist du sicher? Alle Daten gehen verloren!"})]}),!U&&c.jsxs("div",{style:{marginBottom:"12px"},children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Passwort zur Besttigung"}),c.jsx("input",{type:"password",value:W,onChange:w=>z(w.target.value),style:S})]}),c.jsxs("div",{style:{display:"flex",gap:"8px"},children:[c.jsx("button",{onClick:()=>{M(!1),z("")},style:{flex:1,padding:"10px",background:"rgba(42,36,32,0.04)",border:"1px solid #E8DFD3",borderRadius:"12px",color:"#7A6F62",fontWeight:"500",fontSize:"14px",cursor:"pointer"},children:"Abbrechen"}),c.jsx("button",{onClick:oe,disabled:I,style:{flex:1,padding:"10px",background:"#DC2626",border:"none",borderRadius:"12px",color:"white",fontWeight:"600",fontSize:"14px",cursor:"pointer",opacity:I?.5:1},children:"Endgltig lschen"})]})]}):c.jsx("button",{onClick:()=>M(!0),style:{padding:"10px 20px",background:"rgba(239,68,68,0.08)",border:"1.5px solid rgba(239,68,68,0.2)",borderRadius:"12px",color:"#DC2626",fontWeight:"600",fontSize:"14px",cursor:"pointer",width:"100%"},children:"Account lschen"})]})]});if(e==="legal")return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"24px"},children:[c.jsx("button",{onClick:()=>n("main"),style:{background:"none",border:"none",color:"#7A6F62",padding:"4px",cursor:"pointer"},children:c.jsx(Yo,{size:20,style:{transform:"rotate(180deg)"}})}),c.jsx("h2",{style:{fontSize:"22px",fontWeight:"700",color:"#2A2420"},children:"Rechtliches"})]}),[{title:"Impressum",content:`Angaben gem  5 TMG

CreatorHub
Inhaber: [Dein Name]
[Deine Adresse]

Kontakt:
E-Mail: kontakt@creatorhub.app

Verantwortlich fr den Inhalt nach  55 Abs. 2 RStV:
[Dein Name]
[Deine Adresse]`},{title:"AGB",content:`Allgemeine Geschftsbedingungen

1 Geltungsbereich
Diese AGB gelten fr die Nutzung der Plattform CreatorHub.

2 Registrierung
Die Nutzung setzt eine Registrierung voraus. Die Freischaltung erfolgt durch einen Administrator.

3 Rollen
Bei der Registrierung wird eine Rolle gewhlt (Manager, Model, Influencer, Cutter). Diese ist nicht nderbar.

4 Haftung
Der Betreiber haftet nicht fr Inhalte der Nutzer.

5 Kndigung
Nutzer knnen ihren Account jederzeit ber die Einstellungen lschen.`},{title:"Datenschutz",content:`Datenschutzerklrung

1. Verantwortlicher
CreatorHub, kontakt@creatorhub.app

2. Erhobene Daten
Wir erheben: E-Mail, Name, Profilbild (bei Google-Login), sowie nutzungsbezogene Daten.

3. Speicherung
Daten werden in Firebase (Google Cloud, EU-Region) gespeichert.

4. Zweck
Authentifizierung, App-Funktionalitt, Kommunikation zwischen Nutzern.

5. Rechte
Auskunft, Lschung, Berichtigung gem DSGVO. Kontakt: kontakt@creatorhub.app

6. Cookies
Wir nutzen nur technisch notwendige Cookies (Firebase Auth Session).`}].map(w=>c.jsxs(ue,{style:{padding:"20px",marginBottom:"12px"},children:[c.jsx("h3",{style:{fontWeight:"600",color:"#2A2420",fontSize:"16px",marginBottom:"12px"},children:w.title}),c.jsx("pre",{style:{fontSize:"13px",color:"#5C5349",lineHeight:"1.6",whiteSpace:"pre-wrap",fontFamily:"inherit",margin:0},children:w.content})]},w.title))]});const C=[{icon:Pr,label:"Sicherheit",desc:"Passwort ndern, Account lschen",action:()=>n("security")},{icon:ol,label:"Rechtliches",desc:"Impressum, AGB, Datenschutz",action:()=>n("legal")}];return c.jsxs("div",{children:[c.jsx("div",{className:"animate-fade-in",style:{marginBottom:"24px"},children:c.jsx("h2",{style:{fontSize:"22px",fontWeight:"700",color:"#2A2420",letterSpacing:"-0.3px"},children:"Einstellungen"})}),c.jsxs(ue,{className:"animate-fade-in stagger-1",style:{marginBottom:"24px",display:"flex",alignItems:"center",gap:"16px"},children:[r?.photoURL?c.jsx("img",{src:r.photoURL,alt:"avatar",style:{width:"56px",height:"56px",borderRadius:"18px",border:"2px solid rgba(255,107,157,0.2)",objectFit:"cover"}}):c.jsx("div",{style:{width:"56px",height:"56px",background:"linear-gradient(135deg, #FFE8B8, #FFDDA0)",borderRadius:"18px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"22px",fontWeight:"700",color:"#5C5349"},children:r?.displayName?.charAt(0)||r?.email?.charAt(0)?.toUpperCase()||"?"}),c.jsxs("div",{style:{flex:1},children:[c.jsx("p",{style:{fontWeight:"600",color:"#2A2420",fontSize:"16px"},children:r?.displayName||"Creator"}),c.jsx("p",{style:{fontSize:"13px",color:"#A89B8C",marginTop:"2px"},children:r?.email})]})]}),C.map((w,O)=>{const D=w.icon;return c.jsxs(ue,{onClick:w.action,style:{marginBottom:"8px",display:"flex",alignItems:"center",gap:"14px",padding:"16px 20px",cursor:"pointer"},className:`animate-fade-in stagger-${O+2}`,children:[c.jsx("div",{style:{width:"40px",height:"40px",background:"rgba(255,107,157,0.08)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:c.jsx(D,{size:18,color:"#FF6B9D"})}),c.jsxs("div",{style:{flex:1},children:[c.jsx("p",{style:{fontWeight:"600",color:"#2A2420",fontSize:"15px"},children:w.label}),c.jsx("p",{style:{fontSize:"12px",color:"#A89B8C",marginTop:"1px"},children:w.desc})]}),c.jsx(Yo,{size:18,color:"#C9BFAF"})]},w.label)}),c.jsx("div",{style:{marginTop:"24px"},className:"animate-fade-in stagger-4",children:c.jsxs(ke,{variant:"secondary",onClick:X,style:{width:"100%",padding:"14px"},children:[c.jsx(Q5,{size:18})," Abmelden"]})}),c.jsx("p",{style:{textAlign:"center",fontSize:"12px",color:"#C9BFAF",marginTop:"20px"},children:"CreatorHub v2.0  Made with AI"})]})},Gv="yunghundse@gmail.com",tk=[{id:"overview",icon:Xc,label:"bersicht"},{id:"users",icon:Hn,label:"User"},{id:"content",icon:ol,label:"Content"},{id:"revenue",icon:sr,label:"Umsatz"},{id:"maintenance",icon:sS,label:"Wartung"}],Fo=[{month:"Sep 25",revenue:8400,costs:2100,profit:6300},{month:"Okt 25",revenue:9200,costs:2300,profit:6900},{month:"Nov 25",revenue:11500,costs:2800,profit:8700},{month:"Dez 25",revenue:14200,costs:3200,profit:11e3},{month:"Jan 26",revenue:12800,costs:2900,profit:9900},{month:"Feb 26",revenue:15600,costs:3400,profit:12200}],nk=[{id:"c1",title:"Valentine Special",creator:"Lisa M.",status:"pending",type:"video",date:"10.02.2026",flagged:!1},{id:"c2",title:"Behind the Scenes",creator:"Sarah K.",status:"approved",type:"photo",date:"09.02.2026",flagged:!1},{id:"c3",title:"Promotion Video",creator:"Max P.",status:"pending",type:"video",date:"08.02.2026",flagged:!0},{id:"c4",title:"Q&A Session",creator:"Lisa M.",status:"approved",type:"live",date:"07.02.2026",flagged:!1},{id:"c5",title:"Morning Routine",creator:"Anna B.",status:"rejected",type:"video",date:"06.02.2026",flagged:!0}],ik=({user:r})=>{const e=Ks(),[n,s]=k.useState("overview"),[o,u]=k.useState([]),[h,g]=k.useState(nk),[m,y]=k.useState(!1),[x,E]=k.useState(""),[A,I]=k.useState(!1),[L,j]=k.useState("Die App wird gerade gewartet. Bitte versuche es spter erneut."),M=r?.email===Gv,W=async()=>{y(!0);try{const B=at(De(de,"users"),wi("createdAt","desc")),re=await Rs(B);u(re.docs.map(ce=>({id:ce.id,...ce.data()})))}catch(B){console.error("Error loading users:",B)}y(!1)},z=async()=>{try{const B=await Ri(Re(de,"settings","maintenance"));B.exists()&&(I(B.data().enabled||!1),j(B.data().message||L))}catch(B){console.error("Error loading maintenance status:",B)}};if(k.useEffect(()=>{M&&(W(),z())},[M]),!M)return c.jsxs("div",{style:{textAlign:"center",padding:"60px 20px"},children:[c.jsx(Pr,{size:48,color:"#DC2626",style:{marginBottom:"16px"}}),c.jsx("h2",{style:{color:"#2A2420",marginBottom:"8px"},children:"Kein Zugang"}),c.jsx("p",{style:{color:"#7A6F62"},children:"Du hast keine Admin-Berechtigung."}),c.jsx(ke,{variant:"primary",onClick:()=>e("/"),style:{marginTop:"20px"},children:"Zurck zur App"})]});const U=async B=>{await zt(Re(de,"users",B),{approved:!0}),u(o.map(re=>re.id===B?{...re,approved:!0}:re))},X=async B=>{const re=o.find(ce=>ce.id===B);await zt(Re(de,"users",B),{blocked:!re.blocked}),u(o.map(ce=>ce.id===B?{...ce,blocked:!ce.blocked}:ce))},G=async B=>{confirm("User wirklich lschen? Das kann nicht rckgngig gemacht werden.")&&(await Gn(Re(de,"users",B)),u(o.filter(re=>re.id!==B)))},oe=(B,re)=>{g(h.map(ce=>ce.id===B?{...ce,status:re}:ce))},S=B=>{g(h.filter(re=>re.id!==B))},C=async()=>{const B=!A;I(B),await sl(Re(de,"settings","maintenance"),{enabled:B,message:L,updatedAt:tt(),updatedBy:r.email})},w=async()=>{await sl(Re(de,"settings","maintenance"),{enabled:A,message:L,updatedAt:tt(),updatedBy:r.email})},O=o.filter(B=>B.email?.toLowerCase().includes(x.toLowerCase())||B.displayName?.toLowerCase().includes(x.toLowerCase())),D=o.filter(B=>!B.approved&&!B.blocked).length,F=o.filter(B=>B.approved&&!B.blocked).length,N=o.filter(B=>B.blocked).length,Ee=Fo.reduce((B,re)=>B+re.revenue,0),Be=Fo.reduce((B,re)=>B+re.profit,0),ee=h.filter(B=>B.status==="pending").length,fe=()=>c.jsxs("div",{className:"animate-fade-in",children:[D>0&&c.jsxs(ue,{style:{marginBottom:"16px",background:"linear-gradient(135deg, rgba(245, 197, 99, 0.1), rgba(245, 197, 99, 0.05))",border:"1px solid rgba(245, 197, 99, 0.3)",display:"flex",alignItems:"center",gap:"12px"},children:[c.jsx(Bh,{size:20,color:"#F5C563"}),c.jsx("div",{style:{flex:1},children:c.jsxs("p",{style:{fontWeight:"600",color:"#2A2420",fontSize:"14px"},children:[D," User warten auf Freischaltung"]})}),c.jsx("button",{onClick:()=>s("users"),style:{background:"none",border:"none",color:"#FF6B9D",fontWeight:"600",fontSize:"13px"},children:"Ansehen "})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"20px"},children:[c.jsxs(ue,{children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[c.jsx(Hn,{size:16,color:"#FF6B9D"}),c.jsx("span",{style:{fontSize:"12px",color:"#A89B8C"},children:"Aktive User"})]}),c.jsx("p",{style:{fontSize:"28px",fontWeight:"700",color:"#2A2420"},children:F}),c.jsxs("p",{style:{fontSize:"12px",color:"#6BC9A0",display:"flex",alignItems:"center",gap:"4px"},children:[c.jsx(Gt,{size:12})," +",D," wartend"]})]}),c.jsxs(ue,{children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[c.jsx(sr,{size:16,color:"#6BC9A0"}),c.jsx("span",{style:{fontSize:"12px",color:"#A89B8C"},children:"Umsatz (Gesamt)"})]}),c.jsxs("p",{style:{fontSize:"28px",fontWeight:"700",color:"#2A2420"},children:["",(Ee/1e3).toFixed(1),"k"]}),c.jsxs("p",{style:{fontSize:"12px",color:"#6BC9A0",display:"flex",alignItems:"center",gap:"4px"},children:[c.jsx(Gt,{size:12})," +22% vs. Vormonat"]})]}),c.jsxs(ue,{children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[c.jsx(ol,{size:16,color:"#7EB5E6"}),c.jsx("span",{style:{fontSize:"12px",color:"#A89B8C"},children:"Content ausstehend"})]}),c.jsx("p",{style:{fontSize:"28px",fontWeight:"700",color:"#2A2420"},children:ee}),c.jsx("p",{style:{fontSize:"12px",color:"#F5C563"},children:"Braucht Review"})]}),c.jsxs(ue,{children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[c.jsx(e5,{size:16,color:"#A78BFA"}),c.jsx("span",{style:{fontSize:"12px",color:"#A89B8C"},children:"System"})]}),c.jsx("p",{style:{fontSize:"28px",fontWeight:"700",color:A?"#DC2626":"#6BC9A0"},children:A?"Wartung":"Online"}),c.jsx("p",{style:{fontSize:"12px",color:"#A89B8C"},children:"Status"})]})]}),c.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#2A2420",marginBottom:"12px"},children:"Umsatz-Verlauf"}),c.jsx(ue,{style:{marginBottom:"20px"},children:c.jsx("div",{style:{display:"flex",alignItems:"flex-end",gap:"8px",height:"120px"},children:Fo.map((B,re)=>{const ce=Math.max(...Fo.map(je=>je.revenue)),Ae=B.revenue/ce*100;return c.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[c.jsxs("span",{style:{fontSize:"10px",color:"#7A6F62",fontWeight:"500"},children:["",(B.revenue/1e3).toFixed(1),"k"]}),c.jsx("div",{style:{width:"100%",height:`${Ae}%`,background:re===Fo.length-1?"linear-gradient(180deg, #FF8FAB, #FF6B9D)":"linear-gradient(180deg, #FFE8B8, #FFDDA0)",borderRadius:"6px",minHeight:"8px",transition:"height 0.5s ease"}}),c.jsx("span",{style:{fontSize:"9px",color:"#A89B8C"},children:B.month.split(" ")[0]})]},re)})})}),c.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#2A2420",marginBottom:"12px"},children:"Letzte Aktivitten"}),[{text:"Neuer User registriert",time:"vor 5 Min",icon:Hn,color:"#7EB5E6"},{text:"Content freigegeben",time:"vor 12 Min",icon:Ds,color:"#6BC9A0"},{text:"Umsatz-Bericht generiert",time:"vor 1 Std",icon:Xc,color:"#A78BFA"}].map((B,re)=>{const ce=B.icon;return c.jsxs(ue,{style:{marginBottom:"8px",display:"flex",alignItems:"center",gap:"12px",padding:"14px 18px"},children:[c.jsx("div",{style:{width:"36px",height:"36px",background:`${B.color}15`,borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:c.jsx(ce,{size:16,color:B.color})}),c.jsx("div",{style:{flex:1},children:c.jsx("p",{style:{fontSize:"14px",fontWeight:"500",color:"#2A2420"},children:B.text})}),c.jsx("span",{style:{fontSize:"12px",color:"#A89B8C"},children:B.time})]},re)})]}),ve=()=>c.jsxs("div",{className:"animate-fade-in",children:[c.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"16px"},children:[c.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",gap:"10px",background:"rgba(42, 36, 32, 0.03)",border:"1.5px solid #E8DFD3",borderRadius:"14px",padding:"0 14px"},children:[c.jsx(nS,{size:18,color:"#A89B8C"}),c.jsx("input",{type:"text",placeholder:"User suchen...",value:x,onChange:B=>E(B.target.value),style:{flex:1,padding:"12px 0",background:"transparent",border:"none",color:"#2A2420",fontSize:"14px",outline:"none"}})]}),c.jsx(ke,{variant:"ghost",onClick:W,style:{padding:"12px"},children:c.jsx(Sy,{size:18})})]}),c.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"16px"},children:[{label:"Wartend",count:D,color:"#F5C563"},{label:"Aktiv",count:F,color:"#6BC9A0"},{label:"Gesperrt",count:N,color:"#DC2626"}].map(B=>c.jsxs("div",{style:{flex:1,textAlign:"center",padding:"10px",background:`${B.color}10`,borderRadius:"12px",border:`1px solid ${B.color}25`},children:[c.jsx("p",{style:{fontSize:"20px",fontWeight:"700",color:B.color},children:B.count}),c.jsx("p",{style:{fontSize:"11px",color:"#7A6F62"},children:B.label})]},B.label))}),m?c.jsx("p",{style:{textAlign:"center",color:"#A89B8C",padding:"40px"},children:"Laden..."}):O.length===0?c.jsxs(ue,{style:{textAlign:"center",padding:"40px"},children:[c.jsx(Hn,{size:32,color:"#E8DFD3",style:{marginBottom:"12px"}}),c.jsx("p",{style:{color:"#A89B8C"},children:"Keine User gefunden"})]}):O.map(B=>c.jsxs(ue,{style:{marginBottom:"10px",padding:"16px 18px"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[B.photoURL?c.jsx("img",{src:B.photoURL,alt:"",style:{width:"40px",height:"40px",borderRadius:"12px",objectFit:"cover"}}):c.jsx("div",{style:{width:"40px",height:"40px",background:"linear-gradient(135deg, #FFE8B8, #FFDDA0)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"700",color:"#5C5349",fontSize:"16px"},children:(B.displayName||B.email||"?").charAt(0).toUpperCase()}),c.jsxs("div",{style:{flex:1,minWidth:0},children:[c.jsx("p",{style:{fontWeight:"600",color:"#2A2420",fontSize:"14px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:B.displayName||"Kein Name"}),c.jsx("p",{style:{fontSize:"12px",color:"#A89B8C",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:B.email})]}),c.jsx("span",{style:{fontSize:"11px",fontWeight:"600",padding:"4px 10px",borderRadius:"8px",background:B.blocked?"rgba(220, 38, 38, 0.1)":B.approved?"rgba(107, 201, 160, 0.1)":"rgba(245, 197, 99, 0.1)",color:B.blocked?"#DC2626":B.approved?"#6BC9A0":"#F5C563"},children:B.blocked?"Gesperrt":B.approved?"Aktiv":"Wartend"})]}),c.jsxs("div",{style:{display:"flex",gap:"6px",marginTop:"12px",justifyContent:"flex-end"},children:[!B.approved&&!B.blocked&&c.jsxs("button",{onClick:()=>U(B.id),style:{padding:"6px 14px",borderRadius:"10px",background:"rgba(107, 201, 160, 0.1)",border:"1px solid rgba(107, 201, 160, 0.3)",color:"#6BC9A0",fontSize:"12px",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px"},children:[c.jsx(Ds,{size:14})," Freischalten"]}),c.jsx("button",{onClick:()=>X(B.id),style:{padding:"6px 14px",borderRadius:"10px",background:B.blocked?"rgba(107, 201, 160, 0.1)":"rgba(245, 197, 99, 0.1)",border:`1px solid ${B.blocked?"rgba(107, 201, 160, 0.3)":"rgba(245, 197, 99, 0.3)"}`,color:B.blocked?"#6BC9A0":"#F5C563",fontSize:"12px",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px"},children:B.blocked?c.jsxs(c.Fragment,{children:[c.jsx(Ds,{size:14})," Entsperren"]}):c.jsxs(c.Fragment,{children:[c.jsx(r5,{size:14})," Sperren"]})}),B.email!==Gv&&c.jsxs("button",{onClick:()=>G(B.id),style:{padding:"6px 14px",borderRadius:"10px",background:"rgba(220, 38, 38, 0.08)",border:"1px solid rgba(220, 38, 38, 0.2)",color:"#DC2626",fontSize:"12px",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px"},children:[c.jsx(ji,{size:14})," Lschen"]})]})]},B.id))]}),le=()=>c.jsxs("div",{className:"animate-fade-in",children:[c.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"16px",overflowX:"auto"},children:["Alle","Ausstehend","Freigegeben","Abgelehnt","Gemeldet"].map((B,re)=>c.jsx("button",{style:{padding:"8px 16px",borderRadius:"20px",border:"none",fontSize:"13px",fontWeight:"500",whiteSpace:"nowrap",background:re===0?"linear-gradient(135deg, #FF8FAB, #FF6B9D)":"rgba(42, 36, 32, 0.04)",color:re===0?"white":"#7A6F62"},children:B},B))}),h.map(B=>c.jsxs(ue,{style:{marginBottom:"12px",borderLeft:B.flagged?"3px solid #DC2626":"none"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"10px"},children:[c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[c.jsx("h4",{style:{fontWeight:"600",color:"#2A2420",fontSize:"15px"},children:B.title}),B.flagged&&c.jsx(Bh,{size:14,color:"#DC2626"})]}),c.jsxs("p",{style:{fontSize:"12px",color:"#A89B8C"},children:["von ",B.creator,"  ",B.date,"  ",B.type]})]}),c.jsx("span",{style:{fontSize:"11px",fontWeight:"600",padding:"4px 10px",borderRadius:"8px",background:B.status==="approved"?"rgba(107, 201, 160, 0.1)":B.status==="rejected"?"rgba(220, 38, 38, 0.1)":"rgba(245, 197, 99, 0.1)",color:B.status==="approved"?"#6BC9A0":B.status==="rejected"?"#DC2626":"#F5C563"},children:B.status==="approved"?"Freigegeben":B.status==="rejected"?"Abgelehnt":"Ausstehend"})]}),c.jsxs("div",{style:{display:"flex",gap:"6px",justifyContent:"flex-end"},children:[c.jsxs("button",{style:{padding:"6px 14px",borderRadius:"10px",background:"rgba(42, 36, 32, 0.04)",border:"1px solid #E8DFD3",color:"#7A6F62",fontSize:"12px",fontWeight:"500",display:"flex",alignItems:"center",gap:"4px"},children:[c.jsx(eS,{size:14})," Ansehen"]}),B.status!=="approved"&&c.jsxs("button",{onClick:()=>oe(B.id,"approved"),style:{padding:"6px 14px",borderRadius:"10px",background:"rgba(107, 201, 160, 0.1)",border:"1px solid rgba(107, 201, 160, 0.3)",color:"#6BC9A0",fontSize:"12px",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px"},children:[c.jsx(Ds,{size:14})," Freigeben"]}),B.status!=="rejected"&&c.jsxs("button",{onClick:()=>oe(B.id,"rejected"),style:{padding:"6px 14px",borderRadius:"10px",background:"rgba(220, 38, 38, 0.08)",border:"1px solid rgba(220, 38, 38, 0.2)",color:"#DC2626",fontSize:"12px",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px"},children:[c.jsx(Xt,{size:14})," Ablehnen"]}),c.jsx("button",{onClick:()=>S(B.id),style:{padding:"6px 14px",borderRadius:"10px",background:"rgba(220, 38, 38, 0.08)",border:"1px solid rgba(220, 38, 38, 0.2)",color:"#DC2626",fontSize:"12px",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px"},children:c.jsx(ji,{size:14})})]})]},B.id))]}),Te=()=>c.jsxs("div",{className:"animate-fade-in",children:[c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"20px"},children:[c.jsxs(ue,{style:{background:"linear-gradient(135deg, rgba(107, 201, 160, 0.08), rgba(107, 201, 160, 0.03))"},children:[c.jsx("p",{style:{fontSize:"12px",color:"#7A6F62",marginBottom:"4px"},children:"Gesamt-Umsatz"}),c.jsxs("p",{style:{fontSize:"24px",fontWeight:"700",color:"#2A2420"},children:["",(Ee/1e3).toFixed(1),"k"]}),c.jsxs("p",{style:{fontSize:"12px",color:"#6BC9A0",display:"flex",alignItems:"center",gap:"4px",marginTop:"4px"},children:[c.jsx(Gt,{size:12})," 6 Monate"]})]}),c.jsxs(ue,{style:{background:"linear-gradient(135deg, rgba(255, 107, 157, 0.08), rgba(255, 107, 157, 0.03))"},children:[c.jsx("p",{style:{fontSize:"12px",color:"#7A6F62",marginBottom:"4px"},children:"Gesamt-Gewinn"}),c.jsxs("p",{style:{fontSize:"24px",fontWeight:"700",color:"#2A2420"},children:["",(Be/1e3).toFixed(1),"k"]}),c.jsxs("p",{style:{fontSize:"12px",color:"#FF6B9D",display:"flex",alignItems:"center",gap:"4px",marginTop:"4px"},children:[c.jsx(Gt,{size:12})," Marge: ",(Be/Ee*100).toFixed(0),"%"]})]})]}),c.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#2A2420",marginBottom:"12px"},children:"Monatlicher Umsatz"}),Fo.slice().reverse().map((B,re)=>c.jsxs(ue,{style:{marginBottom:"10px",padding:"16px 18px"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[c.jsxs("div",{children:[c.jsx("p",{style:{fontWeight:"600",color:"#2A2420",fontSize:"15px"},children:B.month}),c.jsxs("p",{style:{fontSize:"12px",color:"#A89B8C"},children:["Kosten: ",B.costs.toLocaleString()]})]}),c.jsxs("div",{style:{textAlign:"right"},children:[c.jsxs("p",{style:{fontWeight:"700",color:"#2A2420",fontSize:"16px"},children:["",B.revenue.toLocaleString()]}),c.jsxs("p",{style:{fontSize:"12px",color:"#6BC9A0",fontWeight:"600"},children:["Gewinn: ",B.profit.toLocaleString()]})]})]}),c.jsx("div",{style:{height:"6px",background:"rgba(42, 36, 32, 0.05)",borderRadius:"3px",overflow:"hidden"},children:c.jsx("div",{style:{height:"100%",width:`${B.profit/B.revenue*100}%`,background:"linear-gradient(90deg, #6BC9A0, #4ade80)",borderRadius:"3px"}})})]},re))]}),P=()=>c.jsxs("div",{className:"animate-fade-in",children:[c.jsx(ue,{style:{marginBottom:"20px",background:A?"linear-gradient(135deg, rgba(220, 38, 38, 0.06), rgba(220, 38, 38, 0.02))":"linear-gradient(135deg, rgba(107, 201, 160, 0.06), rgba(107, 201, 160, 0.02))",border:`1px solid ${A?"rgba(220, 38, 38, 0.2)":"rgba(107, 201, 160, 0.2)"}`},children:c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs("div",{children:[c.jsx("h3",{style:{fontWeight:"700",color:"#2A2420",fontSize:"18px",marginBottom:"4px"},children:"Wartungsmodus"}),c.jsx("p",{style:{fontSize:"13px",color:"#7A6F62"},children:A?"App ist offline fr alle User":"App ist online und erreichbar"})]}),c.jsx("button",{onClick:C,style:{background:"none",border:"none",cursor:"pointer",color:A?"#DC2626":"#6BC9A0",transition:"all 0.3s"},children:A?c.jsx(SD,{size:44}):c.jsx(_D,{size:44})})]})}),c.jsxs(ue,{style:{marginBottom:"20px"},children:[c.jsx("h4",{style:{fontWeight:"600",color:"#2A2420",fontSize:"15px",marginBottom:"12px"},children:"Wartungs-Nachricht"}),c.jsx("textarea",{value:L,onChange:B=>j(B.target.value),rows:3,style:{width:"100%",padding:"14px",background:"rgba(42, 36, 32, 0.03)",border:"1.5px solid #E8DFD3",borderRadius:"14px",color:"#2A2420",fontSize:"14px",resize:"vertical",fontFamily:"inherit",outline:"none",marginBottom:"12px"},onFocus:B=>B.target.style.borderColor="#FF6B9D",onBlur:B=>B.target.style.borderColor="#E8DFD3"}),c.jsx(ke,{variant:"cream",onClick:w,style:{padding:"10px 20px"},children:"Nachricht speichern"})]}),c.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#2A2420",marginBottom:"12px"},children:"System-Info"}),[{label:"Status",value:A?"Wartung":"Online",color:A?"#DC2626":"#6BC9A0"},{label:"Registrierte User",value:o.length.toString(),color:"#2A2420"},{label:"Freigeschaltete User",value:F.toString(),color:"#6BC9A0"},{label:"Gesperrte User",value:N.toString(),color:"#DC2626"},{label:"Ausstehender Content",value:ee.toString(),color:"#F5C563"}].map(B=>c.jsxs(ue,{style:{marginBottom:"8px",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"14px 18px"},children:[c.jsx("span",{style:{fontSize:"14px",color:"#7A6F62"},children:B.label}),c.jsx("span",{style:{fontSize:"14px",fontWeight:"700",color:B.color},children:B.value})]},B.label))]});return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px"},children:[c.jsx("button",{onClick:()=>e("/"),style:{padding:"10px",background:"rgba(42, 36, 32, 0.04)",border:"1px solid #E8DFD3",borderRadius:"12px",color:"#7A6F62",display:"flex",alignItems:"center"},children:c.jsx(zh,{size:18})}),c.jsxs("div",{style:{flex:1},children:[c.jsx("h2",{style:{fontSize:"22px",fontWeight:"700",color:"#2A2420",letterSpacing:"-0.3px"},children:"Admin Panel"}),c.jsxs("p",{style:{fontSize:"12px",color:"#A89B8C"},children:[c.jsx(Pr,{size:11,style:{verticalAlign:"middle",marginRight:"4px"}}),r.email]})]})]}),c.jsx("div",{style:{display:"flex",gap:"4px",marginBottom:"20px",overflowX:"auto",padding:"4px",background:"rgba(42, 36, 32, 0.03)",borderRadius:"16px"},children:tk.map(B=>{const re=B.icon,ce=n===B.id;return c.jsxs("button",{onClick:()=>s(B.id),style:{flex:1,padding:"10px 8px",borderRadius:"12px",border:"none",background:ce?"white":"transparent",color:ce?"#FF6B9D":"#A89B8C",fontSize:"11px",fontWeight:ce?"600":"500",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",boxShadow:ce?"0 2px 8px rgba(0,0,0,0.06)":"none",whiteSpace:"nowrap",transition:"all 0.2s"},children:[c.jsx(re,{size:18}),B.label]},B.id)})}),n==="overview"&&fe(),n==="users"&&ve(),n==="content"&&le(),n==="revenue"&&Te(),n==="maintenance"&&P()]})},rk={free:1,pro:5,business:10},$v=()=>{const r=Ks(),[e,n]=k.useState(null),[s,o]=k.useState([]),[u,h]=k.useState(!1),[g,m]=k.useState({name:"",description:""}),[y,x]=k.useState(!1),[E,A]=k.useState(!0),I=Je.currentUser;k.useEffect(()=>{if(!I)return;(async()=>{const S=(await Ri(Re(de,"users",I.uid))).data();if(S?.companyId){const C=await Ri(Re(de,"companies",S.companyId));C.exists()&&n({id:C.id,...C.data()})}A(!1)})()},[I]),k.useEffect(()=>{if(!e)return;const G=at(De(de,"users"),Xe("companyId","==",e.id)),oe=wt(G,S=>{o(S.docs.map(C=>({id:C.id,...C.data()})).filter(C=>C.uid!==I.uid))});return()=>oe()},[e]);const L=()=>Math.random().toString(36).substring(2,8).toUpperCase(),j=async()=>{if(!g.name.trim())return;A(!0);const G=L(),oe=Re(De(de,"companies"));await sl(oe,{name:g.name.trim(),description:g.description.trim(),ownerId:I.uid,ownerEmail:I.email,inviteCode:G,abo:"free",createdAt:tt()}),await zt(Re(de,"users",I.uid),{companyId:oe.id}),n({id:oe.id,name:g.name.trim(),description:g.description.trim(),ownerId:I.uid,inviteCode:G,abo:"free"}),h(!1),A(!1)},M=async()=>{const G=L();await zt(Re(de,"companies",e.id),{inviteCode:G}),n({...e,inviteCode:G})},W=()=>{navigator.clipboard.writeText(e.inviteCode),x(!0),setTimeout(()=>x(!1),2e3)},z={width:"100%",padding:"12px 14px",background:"rgba(42,36,32,0.03)",border:"1.5px solid #E8DFD3",borderRadius:"12px",color:"#2A2420",fontSize:"14px",fontFamily:"inherit",outline:"none",boxSizing:"border-box"};if(E)return c.jsx("div",{style:{textAlign:"center",padding:"60px",color:"#A89B8C"},children:"Laden..."});if(!e&&!u)return c.jsxs("div",{children:[c.jsx("h2",{style:{fontSize:"22px",fontWeight:"700",color:"#2A2420",marginBottom:"8px"},children:"Firma"}),c.jsx("p",{style:{color:"#A89B8C",fontSize:"14px",marginBottom:"24px"},children:"Erstelle deine Firma und lade Models ein"}),c.jsxs(ue,{style:{textAlign:"center",padding:"50px 20px"},children:[c.jsx(uf,{size:40,color:"#E8DFD3",style:{marginBottom:"16px"}}),c.jsx("p",{style:{color:"#7A6F62",fontSize:"15px",marginBottom:"20px"},children:"Du hast noch keine Firma erstellt."}),c.jsxs(ke,{variant:"primary",onClick:()=>h(!0),children:[c.jsx(bn,{size:18})," Firma erstellen"]})]})]});if(u)return c.jsxs("div",{children:[c.jsx("h2",{style:{fontSize:"22px",fontWeight:"700",color:"#2A2420",marginBottom:"24px"},children:"Firma erstellen"}),c.jsxs(ue,{style:{padding:"20px"},children:[c.jsxs("div",{style:{marginBottom:"14px"},children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Firmenname"}),c.jsx("input",{type:"text",value:g.name,onChange:G=>m({...g,name:G.target.value}),placeholder:"z.B. Star Agency",style:z})]}),c.jsxs("div",{style:{marginBottom:"20px"},children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Beschreibung"}),c.jsx("textarea",{value:g.description,onChange:G=>m({...g,description:G.target.value}),placeholder:"Kurze Beschreibung...",rows:3,style:{...z,resize:"vertical"}})]}),c.jsxs("div",{style:{display:"flex",gap:"10px"},children:[c.jsx(ke,{variant:"secondary",onClick:()=>h(!1),style:{flex:1},children:"Abbrechen"}),c.jsx(ke,{variant:"primary",onClick:j,style:{flex:1},children:"Erstellen"})]})]})]});const U=e.abo||"free",X=rk[U];return c.jsxs("div",{children:[c.jsx("h2",{style:{fontSize:"22px",fontWeight:"700",color:"#2A2420",marginBottom:"8px"},children:e.name}),c.jsx("p",{style:{color:"#A89B8C",fontSize:"14px",marginBottom:"24px"},children:e.description||"Firmenverwaltung"}),c.jsxs(ue,{style:{marginBottom:"16px"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:U==="free"?"12px":"0"},children:[c.jsxs("div",{children:[c.jsx("p",{style:{fontSize:"12px",color:"#A89B8C",fontWeight:"500"},children:"Aktuelles Abo"}),c.jsx("p",{style:{fontSize:"20px",fontWeight:"700",color:"#2A2420",textTransform:"capitalize"},children:U})]}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[c.jsxs("div",{style:{textAlign:"right"},children:[c.jsx("p",{style:{fontSize:"12px",color:"#A89B8C"},children:"Slots"}),c.jsxs("p",{style:{fontSize:"20px",fontWeight:"700",color:s.length>=X?"#DC2626":"#6BC9A0"},children:[s.length,"/",X]})]}),c.jsxs("button",{onClick:()=>r("/dashboard/pricing"),style:{padding:"10px 16px",borderRadius:"12px",border:"none",cursor:"pointer",background:"linear-gradient(135deg, #F5C563cc, #F5C563)",color:"white",fontWeight:"700",fontSize:"13px",fontFamily:"inherit",display:"flex",alignItems:"center",gap:"6px",boxShadow:"0 4px 12px rgba(245,197,99,0.3)"},children:[c.jsx(Ey,{size:14})," ",U==="free"?"Upgraden":"Plan ndern"]})]})]}),U==="free"&&s.length>=X&&c.jsx("div",{style:{padding:"10px 14px",borderRadius:"10px",background:"rgba(220,38,38,0.06)",border:"1px solid rgba(220,38,38,0.12)",fontSize:"13px",color:"#DC2626",fontWeight:"500"},children:"Slot-Limit erreicht. Upgrade auf Pro fr bis zu 5 Teammitglieder."})]}),c.jsxs(ue,{style:{marginBottom:"16px"},children:[c.jsx("p",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",marginBottom:"10px"},children:"Einladungscode"}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[c.jsx("div",{style:{flex:1,padding:"14px 16px",background:"rgba(42,36,32,0.03)",border:"1.5px solid #E8DFD3",borderRadius:"12px",fontSize:"20px",fontWeight:"700",color:"#2A2420",letterSpacing:"3px",textAlign:"center",fontFamily:"monospace"},children:e.inviteCode}),c.jsx("button",{onClick:W,style:{padding:"14px",background:y?"rgba(107,201,160,0.1)":"rgba(255,107,157,0.08)",border:"none",borderRadius:"12px",color:y?"#6BC9A0":"#FF6B9D",display:"flex",alignItems:"center",justifyContent:"center"},children:y?c.jsx(Ds,{size:20}):c.jsx(_5,{size:20})}),c.jsx("button",{onClick:M,style:{padding:"14px",background:"rgba(42,36,32,0.04)",border:"none",borderRadius:"12px",color:"#7A6F62",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(Sy,{size:20})})]}),c.jsx("p",{style:{fontSize:"12px",color:"#A89B8C",marginTop:"8px"},children:"Teile diesen Code mit Models/Cuttern. Sie knnen ihn bei der Registrierung oder in den Einstellungen eingeben."})]}),c.jsxs("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#2A2420",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"},children:[c.jsx(Hn,{size:18,color:"#F5C563"})," Team (",s.length,")"]}),s.length===0?c.jsx(ue,{style:{textAlign:"center",padding:"30px"},children:c.jsx("p",{style:{color:"#A89B8C",fontSize:"14px"},children:"Noch keine Teammitglieder. Teile deinen Einladungscode!"})}):s.map(G=>c.jsxs(ue,{style:{marginBottom:"8px",display:"flex",alignItems:"center",gap:"12px",padding:"14px 18px"},children:[c.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:G.role==="model"?"rgba(255,107,157,0.1)":"rgba(107,201,160,0.1)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",fontWeight:"700",color:G.role==="model"?"#FF6B9D":"#6BC9A0"},children:G.displayName?.charAt(0)||"?"}),c.jsxs("div",{style:{flex:1},children:[c.jsx("p",{style:{fontWeight:"600",color:"#2A2420",fontSize:"14px"},children:G.displayName||G.email}),c.jsx("p",{style:{fontSize:"12px",color:"#A89B8C",textTransform:"capitalize"},children:G.role})]}),c.jsx("span",{style:{fontSize:"11px",padding:"4px 10px",borderRadius:"8px",fontWeight:"600",background:G.approved?"rgba(107,201,160,0.1)":"rgba(245,197,99,0.1)",color:G.approved?"#6BC9A0":"#E8A940"},children:G.approved?"Aktiv":"Wartend"})]},G.id))]})},sk=({userData:r})=>{const[e,n]=k.useState([]),[s,o]=k.useState(!1),[u,h]=k.useState({title:"",description:"",priority:"normal",deadline:""}),g=Je.currentUser,m=r?.role||"influencer";k.useEffect(()=>{if(!g)return;const j=m==="cutter"?"assignedTo":"createdBy",M=at(De(de,"tasks"),Xe(j,"==",g.uid),wi("createdAt","desc")),W=wt(M,z=>{n(z.docs.map(U=>({id:U.id,...U.data()})))});return()=>W()},[g,m]);const y=async()=>{u.title.trim()&&(await kn(De(de,"tasks"),{title:u.title.trim(),description:u.description.trim(),priority:u.priority,deadline:u.deadline,status:"open",createdBy:g.uid,assignedTo:r?.partnerId||g.uid,createdAt:tt()}),h({title:"",description:"",priority:"normal",deadline:""}),o(!1))},x=async j=>{const M=j.status==="open"?"in_progress":j.status==="in_progress"?"done":"open";await zt(Re(de,"tasks",j.id),{status:M})},E=async j=>{await Gn(Re(de,"tasks",j))},A={open:"#F5C563",in_progress:"#7EB5E6",done:"#6BC9A0"},I={open:"Offen",in_progress:"In Arbeit",done:"Erledigt"},L={width:"100%",padding:"12px 14px",background:"rgba(42,36,32,0.03)",border:"1.5px solid #E8DFD3",borderRadius:"12px",color:"#2A2420",fontSize:"14px",fontFamily:"inherit",outline:"none",boxSizing:"border-box"};return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[c.jsxs("div",{children:[c.jsx("h2",{style:{fontSize:"22px",fontWeight:"700",color:"#2A2420"},children:m==="cutter"?"Meine Auftrge":"Collab-Board"}),c.jsxs("p",{style:{color:"#A89B8C",fontSize:"14px",marginTop:"2px"},children:[e.length," Aufgaben"]})]}),m==="influencer"&&c.jsxs(ke,{variant:"primary",onClick:()=>o(!0),style:{padding:"10px 16px"},children:[c.jsx(bn,{size:18})," Aufgabe"]})]}),s&&c.jsxs(ue,{style:{padding:"20px",marginBottom:"16px"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"14px"},children:[c.jsx("span",{style:{fontWeight:"600",color:"#2A2420"},children:"Neue Aufgabe"}),c.jsx("button",{onClick:()=>o(!1),style:{background:"none",border:"none",color:"#7A6F62"},children:c.jsx(Xt,{size:18})})]}),c.jsx("input",{type:"text",value:u.title,onChange:j=>h({...u,title:j.target.value}),placeholder:"Titel",style:{...L,marginBottom:"10px"}}),c.jsx("textarea",{value:u.description,onChange:j=>h({...u,description:j.target.value}),placeholder:"Beschreibung...",rows:2,style:{...L,marginBottom:"10px",resize:"vertical"}}),c.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"14px"},children:["low","normal","high"].map(j=>c.jsx("button",{onClick:()=>h({...u,priority:j}),style:{flex:1,padding:"8px",borderRadius:"10px",fontSize:"13px",fontWeight:"500",border:u.priority===j?"none":"1.5px solid #E8DFD3",background:u.priority===j?j==="high"?"#FF6B9D":j==="normal"?"#7EB5E6":"#6BC9A0":"rgba(255,255,255,0.6)",color:u.priority===j?"white":"#7A6F62",textTransform:"capitalize"},children:j==="high"?"Hoch":j==="normal"?"Normal":"Niedrig"},j))}),c.jsx("input",{type:"date",value:u.deadline,onChange:j=>h({...u,deadline:j.target.value}),style:{...L,marginBottom:"14px"}}),c.jsx(ke,{variant:"primary",onClick:y,style:{width:"100%"},children:"Erstellen"})]}),e.length===0?c.jsx(ue,{style:{textAlign:"center",padding:"50px 20px"},children:c.jsx("p",{style:{color:"#A89B8C"},children:"Keine Aufgaben vorhanden"})}):e.map(j=>c.jsx(ue,{style:{marginBottom:"10px",padding:"16px 18px"},children:c.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"12px"},children:[c.jsxs("button",{onClick:()=>x(j),style:{width:"28px",height:"28px",borderRadius:"8px",flexShrink:0,marginTop:"2px",background:`${A[j.status]}20`,border:`2px solid ${A[j.status]}`,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:[j.status==="done"&&c.jsx(Ds,{size:14,color:A.done}),j.status==="in_progress"&&c.jsx(vl,{size:14,color:A.in_progress})]}),c.jsxs("div",{style:{flex:1},children:[c.jsx("p",{style:{fontWeight:"600",color:j.status==="done"?"#A89B8C":"#2A2420",fontSize:"15px",textDecoration:j.status==="done"?"line-through":"none"},children:j.title}),j.description&&c.jsx("p",{style:{fontSize:"13px",color:"#A89B8C",marginTop:"4px"},children:j.description}),c.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"8px",alignItems:"center"},children:[c.jsx("span",{style:{fontSize:"11px",padding:"3px 8px",borderRadius:"6px",fontWeight:"600",background:`${A[j.status]}15`,color:A[j.status]},children:I[j.status]}),j.deadline&&c.jsx("span",{style:{fontSize:"11px",color:"#A89B8C"},children:new Date(j.deadline).toLocaleDateString("de-DE")})]})]}),c.jsx("button",{onClick:()=>E(j.id),style:{background:"none",border:"none",color:"#C9BFAF",padding:"4px"},children:c.jsx(ji,{size:14})})]})},j.id))]})},Kv=[{id:"tiktok",label:"TikTok",color:"#000000"},{id:"instagram",label:"Instagram",color:"#E1306C"},{id:"youtube",label:"YouTube",color:"#FF0000"},{id:"onlyfans",label:"OnlyFans",color:"#00AFF0"}],ak={tiktok:[{title:"Behind the Scenes Content",desc:"BTS-Content performt aktuell 3x besser als polierte Posts",score:95},{title:"Story-Telling in 3 Parts",desc:"Dreiteilige Story-Serien mit Cliffhanger erhhen Watchtime um 60%",score:88},{title:"GRWM mit Twist",desc:"Get Ready With Me Videos mit unerwartetem Element im Trend",score:82}],instagram:[{title:"Carousel Education Posts",desc:"Lehrreiche Karussells mit 7-10 Slides bekommen 2x mehr Saves",score:91},{title:"Reels unter 15 Sekunden",desc:"Kurze Reels mit Hook in den ersten 2 Sekunden performen am besten",score:87},{title:"Collaborative Posts",desc:"Collab-Posts mit anderen Creatorn bringen 40% mehr Reichweite",score:79}],youtube:[{title:"Shorts mit CTA",desc:"YouTube Shorts mit Call-to-Action zum Langformat konvertieren Subscriber",score:93},{title:"Thumbnail A/B Testing",desc:"Thumbnails mit Gesicht + Text outperformen reine Text-Thumbnails",score:85},{title:"Community Tab Polls",desc:"Community-Umfragen steigern Algorithmus-Engagement signifikant",score:76}],onlyfans:[{title:"PPV-Bundles",desc:"Gebndelte PPV-Nachrichten mit Rabatt erhhen Conversion um 45%",score:90},{title:"Personalisierte Nachrichten",desc:"Individuelle Welcome-Messages verdoppeln die Retention-Rate",score:86},{title:"Scheduled Content",desc:"Regelmiger Content-Kalender hlt Subscriber aktiv",score:80}]},ok=()=>{const[r,e]=k.useState("tiktok"),[n,s]=k.useState(null),[o,u]=k.useState(!1),h=ak[r]||[],g=()=>{u(!0);const m={tiktok:["Erstelle eine 3-Part Story-Serie ber deinen Alltag. Nutze einen Cliffhanger am Ende von Part 1 und 2.","Filme ein GRWM-Video, aber mit einer berraschenden Wendung in der Mitte. Nutze einen Trend-Sound.",'Poste ein 7-Sekunden-BTS-Video mit dem Text "POV: ..."  maximale Relatable-Energy.'],instagram:["Erstelle ein 8-Slide Carousel mit Tipps aus deiner Nische. Erste Slide = provokante Frage.","Nutze Collab-Posts mit 2-3 Creatorn aus deinem Bereich fr maximale Cross-Promotion.","Poste ein Reel unter 12 Sekunden mit starkem Hook. Beste Zeit: Di/Do 18-20 Uhr."],youtube:["Erstelle 3 YouTube Shorts aus deinem letzten Langformat-Video als Teaser.","Teste 2 verschiedene Thumbnails fr dein nchstes Video. Gesicht + Emotion = Klicks.","Starte eine Community-Umfrage ber dein nchstes Video-Thema. Bindet die Audience."],onlyfans:["Erstelle ein Bundle aus 3-5 Inhalten mit 20% Rabatt als PPV-Nachricht.","Sende personalisierte Welcome-Messages an neue Subscriber innerhalb der ersten Stunde.","Plane Content 2 Wochen im Voraus und teile den Kalender als Teaser-Post."]},y=m[r]||m.tiktok;setTimeout(()=>{s(y[Math.floor(Math.random()*y.length)]),u(!1)},1e3)};return c.jsxs("div",{children:[c.jsxs("div",{style:{marginBottom:"24px"},children:[c.jsx("h2",{style:{fontSize:"22px",fontWeight:"700",color:"#2A2420",marginBottom:"4px"},children:"Trend-Engine"}),c.jsx("p",{style:{color:"#A89B8C",fontSize:"14px"},children:"KI-gesttzte Trend-Analyse & Content-Vorschlge"})]}),c.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"20px",overflowX:"auto",paddingBottom:"4px"},children:Kv.map(m=>c.jsx("button",{onClick:()=>{e(m.id),s(null)},style:{padding:"10px 18px",borderRadius:"14px",fontSize:"13px",fontWeight:"600",whiteSpace:"nowrap",border:r===m.id?"none":"1.5px solid #E8DFD3",background:r===m.id?m.color:"rgba(255,255,255,0.6)",color:r===m.id?"white":"#7A6F62",boxShadow:r===m.id?`0 4px 15px ${m.color}30`:"none"},children:m.label},m.id))}),c.jsxs(ue,{style:{marginBottom:"20px",background:"linear-gradient(135deg, rgba(255,143,171,0.06), rgba(255,107,157,0.03))"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px"},children:[c.jsx(Ur,{size:18,color:"#FF6B9D"}),c.jsx("span",{style:{fontWeight:"600",color:"#2A2420",fontSize:"15px"},children:"KI-Vorschlag"})]}),n?c.jsx("p",{style:{fontSize:"14px",color:"#5C5349",lineHeight:"1.6"},children:n}):c.jsx(ke,{variant:"cream",onClick:g,disabled:o,style:{width:"100%"},children:o?c.jsxs(c.Fragment,{children:[c.jsx(Sy,{size:16,className:"animate-spin"})," Analysiere..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Ur,{size:16})," Content-Vorschlag generieren"]})}),n&&c.jsx("button",{onClick:()=>s(null),style:{marginTop:"12px",fontSize:"13px",color:"#FF6B9D",background:"none",border:"none",fontWeight:"500",cursor:"pointer"},children:"Neuen Vorschlag generieren"})]}),c.jsxs("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#2A2420",marginBottom:"14px",display:"flex",alignItems:"center",gap:"8px"},children:[c.jsx(Gt,{size:18,color:Kv.find(m=>m.id===r)?.color}),"Aktuelle Trends"]}),h.map((m,y)=>c.jsxs(ue,{style:{marginBottom:"10px"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"8px"},children:[c.jsx("h4",{style:{fontWeight:"600",color:"#2A2420",fontSize:"15px",flex:1},children:m.title}),c.jsxs("div",{style:{padding:"4px 10px",borderRadius:"8px",fontSize:"12px",fontWeight:"700",background:m.score>=90?"rgba(107,201,160,0.1)":m.score>=80?"rgba(126,181,230,0.1)":"rgba(245,197,99,0.1)",color:m.score>=90?"#6BC9A0":m.score>=80?"#7EB5E6":"#F5C563"},children:[m.score,"%"]})]}),c.jsx("p",{style:{fontSize:"13px",color:"#7A6F62",lineHeight:"1.5"},children:m.desc})]},y))]})},Qd=[{id:"raw",label:"Rohmaterial",color:"#F5C563"},{id:"in_progress",label:"In Bearbeitung",color:"#7EB5E6"},{id:"ready",label:"Ready for Post",color:"#6BC9A0"}],lk=({userData:r})=>{const[e,n]=k.useState([]),[s,o]=k.useState(!1),[u,h]=k.useState({title:"",url:"",type:"image",notes:""}),[g,m]=k.useState("all"),y=Je.currentUser;k.useEffect(()=>{if(!y)return;const j=at(De(de,"assets"),Xe("companyId","==",r?.companyId||y.uid),wi("createdAt","desc")),M=wt(j,W=>{n(W.docs.map(z=>({id:z.id,...z.data()})))});return()=>M()},[y,r]);const x=async()=>{u.title.trim()&&(await kn(De(de,"assets"),{title:u.title.trim(),url:u.url.trim(),type:u.type,notes:u.notes.trim(),status:"raw",uploadedBy:y.uid,uploaderName:y.displayName||y.email,companyId:r?.companyId||y.uid,createdAt:tt()}),h({title:"",url:"",type:"image",notes:""}),o(!1))},E=async(j,M)=>{await zt(Re(de,"assets",j),{status:M})},A=async j=>{await Gn(Re(de,"assets",j))},I=g==="all"?e:e.filter(j=>j.status===g),L={width:"100%",padding:"12px 14px",background:"rgba(42,36,32,0.03)",border:"1.5px solid #E8DFD3",borderRadius:"12px",color:"#2A2420",fontSize:"14px",fontFamily:"inherit",outline:"none",boxSizing:"border-box"};return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[c.jsxs("div",{children:[c.jsx("h2",{style:{fontSize:"22px",fontWeight:"700",color:"#2A2420"},children:"Assets"}),c.jsxs("p",{style:{color:"#A89B8C",fontSize:"14px",marginTop:"2px"},children:[e.length," Dateien"]})]}),c.jsxs(ke,{variant:"primary",onClick:()=>o(!0),style:{padding:"10px 16px"},children:[c.jsx(ks,{size:18})," Upload"]})]}),s&&c.jsxs(ue,{style:{padding:"20px",marginBottom:"16px"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"14px"},children:[c.jsx("span",{style:{fontWeight:"600",color:"#2A2420"},children:"Neues Asset"}),c.jsx("button",{onClick:()=>o(!1),style:{background:"none",border:"none",color:"#7A6F62"},children:c.jsx(Xt,{size:18})})]}),c.jsx("input",{type:"text",value:u.title,onChange:j=>h({...u,title:j.target.value}),placeholder:"Titel / Dateiname",style:{...L,marginBottom:"10px"}}),c.jsx("input",{type:"url",value:u.url,onChange:j=>h({...u,url:j.target.value}),placeholder:"URL oder Link zum Asset",style:{...L,marginBottom:"10px"}}),c.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"10px"},children:["image","video","document"].map(j=>c.jsx("button",{onClick:()=>h({...u,type:j}),style:{flex:1,padding:"8px",borderRadius:"10px",fontSize:"13px",fontWeight:"500",border:u.type===j?"none":"1.5px solid #E8DFD3",background:u.type===j?"#FF6B9D":"rgba(255,255,255,0.6)",color:u.type===j?"white":"#7A6F62",textTransform:"capitalize"},children:j==="image"?"Bild":j==="video"?"Video":"Dokument"},j))}),c.jsx("textarea",{value:u.notes,onChange:j=>h({...u,notes:j.target.value}),placeholder:"Notizen / Anweisungen...",rows:2,style:{...L,marginBottom:"14px",resize:"vertical"}}),c.jsx(ke,{variant:"primary",onClick:x,style:{width:"100%"},children:"Hochladen"})]}),c.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"20px",overflowX:"auto"},children:[c.jsx("button",{onClick:()=>m("all"),style:{padding:"8px 16px",borderRadius:"12px",fontSize:"13px",fontWeight:"500",border:g==="all"?"none":"1.5px solid #E8DFD3",background:g==="all"?"#2A2420":"rgba(255,255,255,0.6)",color:g==="all"?"white":"#7A6F62"},children:"Alle"}),Qd.map(j=>c.jsx("button",{onClick:()=>m(j.id),style:{padding:"8px 16px",borderRadius:"12px",fontSize:"13px",fontWeight:"500",whiteSpace:"nowrap",border:g===j.id?"none":"1.5px solid #E8DFD3",background:g===j.id?j.color:"rgba(255,255,255,0.6)",color:g===j.id?"white":"#7A6F62"},children:j.label},j.id))]}),I.length===0?c.jsxs(ue,{style:{textAlign:"center",padding:"50px 20px"},children:[c.jsx(dm,{size:32,color:"#E8DFD3",style:{marginBottom:"12px"}}),c.jsx("p",{style:{color:"#A89B8C"},children:"Keine Assets gefunden"})]}):c.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:I.map(j=>{const M=Qd.find(W=>W.id===j.status)||Qd[0];return c.jsxs(ue,{style:{padding:"14px"},children:[c.jsx("div",{style:{width:"100%",height:"100px",borderRadius:"10px",marginBottom:"10px",background:j.type==="video"?"linear-gradient(135deg, rgba(126,181,230,0.1), rgba(126,181,230,0.05))":"linear-gradient(135deg, rgba(255,107,157,0.08), rgba(255,107,157,0.03))",display:"flex",alignItems:"center",justifyContent:"center"},children:j.url?c.jsx("img",{src:j.url,alt:j.title,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"10px"},onError:W=>{W.target.style.display="none"}}):c.jsx(dm,{size:24,color:"#C9BFAF"})}),c.jsx("p",{style:{fontWeight:"600",color:"#2A2420",fontSize:"13px",marginBottom:"6px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:j.title}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsx("span",{style:{fontSize:"10px",padding:"3px 8px",borderRadius:"6px",fontWeight:"600",background:`${M.color}15`,color:M.color},children:M.label}),c.jsxs("div",{style:{display:"flex",gap:"4px"},children:[Qd.filter(W=>W.id!==j.status).map(W=>c.jsx("button",{onClick:()=>E(j.id,W.id),title:W.label,style:{width:"20px",height:"20px",borderRadius:"6px",border:"none",background:`${W.color}20`,display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:W.color}})},W.id)),c.jsx("button",{onClick:()=>A(j.id),style:{width:"20px",height:"20px",borderRadius:"6px",border:"none",background:"rgba(220,38,38,0.08)",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(ji,{size:10,color:"#DC2626"})})]})]})]},j.id)})})]})},ck=()=>{const[r,e]=k.useState({total:0,editing:0,review:0,ready:0,earnings:0}),[n,s]=k.useState({brutto:0,netto:0,count:0,platforms:{}}),[o,u]=k.useState(0),h=Je.currentUser;k.useEffect(()=>{if(!h)return;const x=at(De(de,"content"),Xe("userId","==",h.uid)),E=wt(x,M=>{const W=M.docs.map(z=>z.data());e({total:W.length,editing:W.filter(z=>z.status==="Editing").length,review:W.filter(z=>z.status==="Review").length,ready:W.filter(z=>z.status==="Ready").length,earnings:W.reduce((z,U)=>z+(U.earnings||0),0)})}),A=at(De(de,"finances"),Xe("userId","==",h.uid)),I=wt(A,M=>{const W=M.docs.map(U=>U.data()),z={};W.forEach(U=>{z[U.platform]||(z[U.platform]=0),z[U.platform]+=U.netto||0}),s({brutto:W.reduce((U,X)=>U+(X.brutto||0),0),netto:W.reduce((U,X)=>U+(X.netto||0),0),count:W.length,platforms:z})}),L=at(De(de,"events"),Xe("userId","==",h.uid)),j=wt(L,M=>u(M.size));return()=>{E(),I(),j()}},[h]);const g=[{label:"Content gesamt",value:r.total,icon:Qo,color:"#FF6B9D"},{label:"Netto-Einnahmen",value:`${n.netto.toLocaleString("de-DE")}`,icon:sr,color:"#6BC9A0"},{label:"Brutto",value:`${n.brutto.toLocaleString("de-DE")}`,icon:Gt,color:"#7EB5E6"},{label:"Events",value:o,icon:Hn,color:"#F5C563"}],m=Object.entries(n.platforms).sort((x,E)=>E[1]-x[1]),y=m.length>0?m[0][1]:1;return c.jsxs("div",{children:[c.jsxs("div",{style:{marginBottom:"24px"},children:[c.jsx("h2",{style:{fontSize:"22px",fontWeight:"700",color:"#2A2420",marginBottom:"4px"},children:"Analytics"}),c.jsx("p",{style:{color:"#A89B8C",fontSize:"14px"},children:"Dein Business auf einen Blick"})]}),c.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"24px"},children:g.map((x,E)=>{const A=x.icon;return c.jsxs(ue,{children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"10px"},children:[c.jsx("div",{style:{width:"32px",height:"32px",background:`${x.color}15`,borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(A,{size:16,color:x.color})}),c.jsx("span",{style:{fontSize:"12px",color:"#A89B8C",fontWeight:"500"},children:x.label})]}),c.jsx("p",{style:{fontSize:"24px",fontWeight:"700",color:"#2A2420",letterSpacing:"-0.5px"},children:x.value})]},E)})}),c.jsxs(ue,{style:{marginBottom:"16px"},children:[c.jsxs("h3",{style:{fontWeight:"600",color:"#2A2420",fontSize:"15px",marginBottom:"14px",display:"flex",alignItems:"center",gap:"8px"},children:[c.jsx(Qo,{size:16,color:"#FF6B9D"})," Content Pipeline"]}),c.jsx("div",{style:{display:"flex",gap:"12px"},children:[{label:"Editing",count:r.editing,color:"#FF6B9D"},{label:"Review",count:r.review,color:"#7EB5E6"},{label:"Ready",count:r.ready,color:"#6BC9A0"}].map(x=>c.jsxs("div",{style:{flex:1,textAlign:"center",padding:"12px",background:`${x.color}08`,borderRadius:"12px"},children:[c.jsx("p",{style:{fontSize:"22px",fontWeight:"700",color:x.color},children:x.count}),c.jsx("p",{style:{fontSize:"11px",color:"#A89B8C",fontWeight:"500"},children:x.label})]},x.label))})]}),m.length>0&&c.jsxs(ue,{children:[c.jsxs("h3",{style:{fontWeight:"600",color:"#2A2420",fontSize:"15px",marginBottom:"14px",display:"flex",alignItems:"center",gap:"8px"},children:[c.jsx(Xc,{size:16,color:"#7EB5E6"})," Plattform-Umstze"]}),m.map(([x,E])=>c.jsxs("div",{style:{marginBottom:"12px"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[c.jsx("span",{style:{fontSize:"13px",fontWeight:"500",color:"#5C5349"},children:x}),c.jsxs("span",{style:{fontSize:"13px",fontWeight:"700",color:"#6BC9A0"},children:["",E.toLocaleString("de-DE")]})]}),c.jsx("div",{style:{height:"6px",background:"rgba(42,36,32,0.04)",borderRadius:"3px",overflow:"hidden"},children:c.jsx("div",{style:{height:"100%",width:`${E/y*100}%`,background:"linear-gradient(90deg, #7EB5E6, #6BC9A0)",borderRadius:"3px",transition:"width 0.5s ease"}})})]},x))]})]})},uk=["OnlyFans","Fansly","Patreon","TikTok","Instagram","YouTube","Twitch","Sonstiges"],dk=({userData:r})=>{const[e,n]=k.useState([]),[s,o]=k.useState([]),[u,h]=k.useState(!1),[g,m]=k.useState({modelId:"",platform:"OnlyFans",brutto:"",splitPercent:"50"}),[y,x]=k.useState("all"),E=Je.currentUser;k.useEffect(()=>{if(!r?.companyId)return;const U=at(De(de,"users"),Xe("companyId","==",r.companyId),Xe("role","==","model")),X=wt(U,G=>{o(G.docs.map(oe=>({id:oe.id,...oe.data()})))});return()=>X()},[r]),k.useEffect(()=>{if(!r?.companyId)return;const U=at(De(de,"revenueSplits"),Xe("companyId","==",r.companyId)),X=wt(U,G=>{n(G.docs.map(oe=>({id:oe.id,...oe.data()})).sort((oe,S)=>{const C=oe.createdAt?.toMillis?.()||0;return(S.createdAt?.toMillis?.()||0)-C}))});return()=>X()},[r]);const A=async()=>{if(!g.modelId||!g.brutto||!g.splitPercent)return;const U=s.find(C=>C.id===g.modelId),X=parseFloat(g.brutto),G=parseFloat(g.splitPercent),oe=X*G/100,S=X-oe;await kn(De(de,"revenueSplits"),{companyId:r.companyId,modelId:g.modelId,modelName:U?.displayName||U?.email||"Model",platform:g.platform,brutto:X,splitPercent:G,modelShare:Math.round(oe*100)/100,managerShare:Math.round(S*100)/100,month:new Date().toISOString().slice(0,7),createdBy:E.uid,createdAt:tt()}),m({modelId:"",platform:"OnlyFans",brutto:"",splitPercent:"50"}),h(!1)},I=async U=>{await Gn(Re(de,"revenueSplits",U))},L=y==="all"?e:e.filter(U=>U.modelId===y),j=L.reduce((U,X)=>U+(X.brutto||0),0),M=L.reduce((U,X)=>U+(X.modelShare||0),0),W=L.reduce((U,X)=>U+(X.managerShare||0),0),z={width:"100%",padding:"12px 14px",background:"rgba(42,36,32,0.03)",border:"1.5px solid #E8DFD3",borderRadius:"12px",color:"#2A2420",fontSize:"14px",fontFamily:"inherit",outline:"none",boxSizing:"border-box"};return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"20px"},children:[c.jsxs("div",{children:[c.jsx("h2",{style:{fontSize:"22px",fontWeight:"700",color:"#2A2420",marginBottom:"4px"},children:"Revenue Split"}),c.jsx("p",{style:{color:"#A89B8C",fontSize:"14px"},children:"Einnahmen aufteilen zwischen Manager & Model"})]}),c.jsxs(ke,{variant:"primary",onClick:()=>h(!0),style:{padding:"10px 16px",fontSize:"13px"},children:[c.jsx(bn,{size:16})," Eintrag"]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"10px",marginBottom:"20px"},children:[c.jsxs(ue,{style:{textAlign:"center",padding:"16px"},children:[c.jsx(sr,{size:20,color:"#F5C563",style:{margin:"0 auto 6px"}}),c.jsx("p",{style:{fontSize:"11px",color:"#A89B8C"},children:"Brutto Gesamt"}),c.jsx("p",{style:{fontSize:"18px",fontWeight:"700",color:"#2A2420"},children:j.toLocaleString("de-DE",{minimumFractionDigits:2})})]}),c.jsxs(ue,{style:{textAlign:"center",padding:"16px"},children:[c.jsx(Hn,{size:20,color:"#FF6B9D",style:{margin:"0 auto 6px"}}),c.jsx("p",{style:{fontSize:"11px",color:"#A89B8C"},children:"Model-Anteil"}),c.jsx("p",{style:{fontSize:"18px",fontWeight:"700",color:"#FF6B9D"},children:M.toLocaleString("de-DE",{minimumFractionDigits:2})})]}),c.jsxs(ue,{style:{textAlign:"center",padding:"16px"},children:[c.jsx(Gt,{size:20,color:"#6BC9A0",style:{margin:"0 auto 6px"}}),c.jsx("p",{style:{fontSize:"11px",color:"#A89B8C"},children:"Manager-Anteil"}),c.jsx("p",{style:{fontSize:"18px",fontWeight:"700",color:"#6BC9A0"},children:W.toLocaleString("de-DE",{minimumFractionDigits:2})})]})]}),s.length>0&&c.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"16px",overflowX:"auto",paddingBottom:"4px"},children:[c.jsx("button",{onClick:()=>x("all"),style:{padding:"8px 14px",borderRadius:"10px",border:"none",fontSize:"13px",fontWeight:"500",whiteSpace:"nowrap",background:y==="all"?"rgba(245,197,99,0.15)":"rgba(42,36,32,0.04)",color:y==="all"?"#E8A940":"#7A6F62",cursor:"pointer"},children:"Alle"}),s.map(U=>c.jsx("button",{onClick:()=>x(U.id),style:{padding:"8px 14px",borderRadius:"10px",border:"none",fontSize:"13px",fontWeight:"500",whiteSpace:"nowrap",background:y===U.id?"rgba(255,107,157,0.12)":"rgba(42,36,32,0.04)",color:y===U.id?"#FF6B9D":"#7A6F62",cursor:"pointer"},children:U.displayName||U.email?.split("@")[0]},U.id))]}),u&&c.jsxs(ue,{style:{marginBottom:"16px",padding:"20px",border:"1.5px solid rgba(245,197,99,0.3)"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[c.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#2A2420"},children:"Neuer Revenue Split"}),c.jsx("button",{onClick:()=>h(!1),style:{background:"none",border:"none",color:"#A89B8C",cursor:"pointer"},children:c.jsx(Xt,{size:18})})]}),c.jsxs("div",{style:{marginBottom:"12px"},children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Model"}),c.jsxs("select",{value:g.modelId,onChange:U=>m({...g,modelId:U.target.value}),style:z,children:[c.jsx("option",{value:"",children:"Model whlen..."}),s.map(U=>c.jsx("option",{value:U.id,children:U.displayName||U.email},U.id))]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",marginBottom:"12px"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Plattform"}),c.jsx("select",{value:g.platform,onChange:U=>m({...g,platform:U.target.value}),style:z,children:uk.map(U=>c.jsx("option",{value:U,children:U},U))})]}),c.jsxs("div",{children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Brutto (EUR)"}),c.jsx("input",{type:"number",value:g.brutto,onChange:U=>m({...g,brutto:U.target.value}),placeholder:"0.00",step:"0.01",style:z})]})]}),c.jsxs("div",{style:{marginBottom:"16px"},children:[c.jsxs("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:["Model-Anteil: ",g.splitPercent,"%"]}),c.jsx("input",{type:"range",min:"0",max:"100",value:g.splitPercent,onChange:U=>m({...g,splitPercent:U.target.value}),style:{width:"100%",accentColor:"#FF6B9D"}}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px",color:"#A89B8C"},children:[c.jsxs("span",{children:["Model: ",g.brutto?(parseFloat(g.brutto)*parseFloat(g.splitPercent)/100).toFixed(2):"0.00"," EUR"]}),c.jsxs("span",{children:["Manager: ",g.brutto?(parseFloat(g.brutto)-parseFloat(g.brutto)*parseFloat(g.splitPercent)/100).toFixed(2):"0.00"," EUR"]})]})]}),c.jsx(ke,{variant:"primary",onClick:A,style:{width:"100%"},children:"Eintragen"})]}),L.length===0?c.jsxs(ue,{style:{textAlign:"center",padding:"40px"},children:[c.jsx(rD,{size:32,color:"#E8DFD3",style:{marginBottom:"12px"}}),c.jsx("p",{style:{color:"#A89B8C",fontSize:"14px"},children:"Noch keine Revenue-Splits eingetragen."})]}):L.map(U=>c.jsx(ue,{style:{marginBottom:"10px",padding:"16px"},children:c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px"},children:[c.jsx("span",{style:{fontWeight:"600",color:"#2A2420",fontSize:"15px"},children:U.modelName}),c.jsx("span",{style:{fontSize:"11px",padding:"3px 8px",borderRadius:"6px",background:"rgba(126,181,230,0.1)",color:"#7EB5E6",fontWeight:"500"},children:U.platform})]}),c.jsxs("div",{style:{display:"flex",gap:"16px",fontSize:"13px"},children:[c.jsxs("span",{style:{color:"#7A6F62"},children:["Brutto: ",c.jsxs("strong",{style:{color:"#2A2420"},children:[U.brutto?.toFixed(2)," EUR"]})]}),c.jsxs("span",{style:{color:"#7A6F62"},children:["Split: ",c.jsxs("strong",{style:{color:"#FF6B9D"},children:[U.splitPercent,"%"]})]})]}),c.jsxs("div",{style:{display:"flex",gap:"16px",marginTop:"4px",fontSize:"12px"},children:[c.jsxs("span",{style:{color:"#FF6B9D"},children:["Model: ",U.modelShare?.toFixed(2)]}),c.jsxs("span",{style:{color:"#6BC9A0"},children:["Manager: ",U.managerShare?.toFixed(2)]}),c.jsx("span",{style:{color:"#A89B8C"},children:U.month})]})]}),c.jsx("button",{onClick:()=>I(U.id),style:{padding:"6px",background:"rgba(220,38,38,0.06)",border:"none",borderRadius:"8px",color:"#DC2626",cursor:"pointer"},children:c.jsx(Xt,{size:14})})]})},U.id))]})},hk=({userData:r})=>{const[e,n]=k.useState([]),[s,o]=k.useState(!1),[u,h]=k.useState({title:"",description:"",fileUrl:"",type:"image"}),[g,m]=k.useState({id:null,text:""}),[y,x]=k.useState("all"),E=Je.currentUser,A=r?.role==="manager"||E?.email==="yunghundse@gmail.com";k.useEffect(()=>{if(!r?.companyId)return;const X=at(De(de,"approvals"),Xe("companyId","==",r.companyId)),G=wt(X,oe=>{n(oe.docs.map(S=>({id:S.id,...S.data()})).sort((S,C)=>{const w=S.createdAt?.toMillis?.()||0;return(C.createdAt?.toMillis?.()||0)-w}))});return()=>G()},[r]);const I=async()=>{!u.title.trim()||!u.fileUrl.trim()||(await kn(De(de,"approvals"),{companyId:r.companyId,uploadedBy:E.uid,uploaderName:E.displayName||E.email,title:u.title.trim(),description:u.description.trim(),fileUrl:u.fileUrl.trim(),type:u.type,status:"pending",feedback:"",reviewedBy:null,createdAt:tt(),reviewedAt:null}),h({title:"",description:"",fileUrl:"",type:"image"}),o(!1))},L=async X=>{await zt(Re(de,"approvals",X),{status:"approved",reviewedBy:E.uid,reviewedAt:tt()})},j=async X=>{if(!g.text.trim()){m({id:X,text:""});return}await zt(Re(de,"approvals",X),{status:"rejected",feedback:g.text.trim(),reviewedBy:E.uid,reviewedAt:tt()}),m({id:null,text:""})},M={pending:{label:"Warten",color:"#E8A940",bg:"rgba(245,197,99,0.1)",icon:vl},approved:{label:"Freigegeben",color:"#6BC9A0",bg:"rgba(107,201,160,0.1)",icon:li},rejected:{label:"Abgelehnt",color:"#DC2626",bg:"rgba(220,38,38,0.08)",icon:Vv}},W=y==="all"?e:e.filter(X=>X.status===y),z=e.filter(X=>X.status==="pending").length,U={width:"100%",padding:"12px 14px",background:"rgba(42,36,32,0.03)",border:"1.5px solid #E8DFD3",borderRadius:"12px",color:"#2A2420",fontSize:"14px",fontFamily:"inherit",outline:"none",boxSizing:"border-box"};return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"20px"},children:[c.jsxs("div",{children:[c.jsxs("h2",{style:{fontSize:"22px",fontWeight:"700",color:"#2A2420",marginBottom:"4px"},children:["Content Freigabe",z>0&&c.jsxs("span",{style:{marginLeft:"10px",fontSize:"13px",padding:"3px 10px",borderRadius:"10px",background:"rgba(245,197,99,0.15)",color:"#E8A940",fontWeight:"600"},children:[z," offen"]})]}),c.jsx("p",{style:{color:"#A89B8C",fontSize:"14px"},children:A?"Content von Models prfen und freigeben":"Content zur Freigabe hochladen"})]}),!A&&c.jsxs(ke,{variant:"primary",onClick:()=>o(!0),style:{padding:"10px 16px",fontSize:"13px"},children:[c.jsx(ks,{size:16})," Hochladen"]})]}),c.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"16px"},children:[{key:"all",label:"Alle"},{key:"pending",label:"Offen"},{key:"approved",label:"Freigegeben"},{key:"rejected",label:"Abgelehnt"}].map(X=>c.jsx("button",{onClick:()=>x(X.key),style:{padding:"8px 14px",borderRadius:"10px",border:"none",fontSize:"13px",fontWeight:"500",background:y===X.key?"rgba(245,197,99,0.15)":"rgba(42,36,32,0.04)",color:y===X.key?"#E8A940":"#7A6F62",cursor:"pointer"},children:X.label},X.key))}),s&&c.jsxs(ue,{style:{marginBottom:"16px",padding:"20px",border:"1.5px solid rgba(255,107,157,0.2)"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[c.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#2A2420"},children:"Content einreichen"}),c.jsx("button",{onClick:()=>o(!1),style:{background:"none",border:"none",color:"#A89B8C",cursor:"pointer"},children:c.jsx(Xt,{size:18})})]}),c.jsxs("div",{style:{marginBottom:"12px"},children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Titel"}),c.jsx("input",{type:"text",value:u.title,onChange:X=>h({...u,title:X.target.value}),placeholder:"z.B. Shooting Set #12",style:U})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",marginBottom:"12px"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Typ"}),c.jsxs("select",{value:u.type,onChange:X=>h({...u,type:X.target.value}),style:U,children:[c.jsx("option",{value:"image",children:"Bild"}),c.jsx("option",{value:"video",children:"Video"}),c.jsx("option",{value:"album",children:"Album/Set"}),c.jsx("option",{value:"text",children:"Text/Caption"})]})]}),c.jsxs("div",{children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Link/URL"}),c.jsx("input",{type:"url",value:u.fileUrl,onChange:X=>h({...u,fileUrl:X.target.value}),placeholder:"https://...",style:U})]})]}),c.jsxs("div",{style:{marginBottom:"16px"},children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Beschreibung"}),c.jsx("textarea",{value:u.description,onChange:X=>h({...u,description:X.target.value}),placeholder:"Hinweise fr den Manager...",rows:2,style:{...U,resize:"vertical"}})]}),c.jsx(ke,{variant:"primary",onClick:I,style:{width:"100%"},children:"Einreichen"})]}),W.length===0?c.jsxs(ue,{style:{textAlign:"center",padding:"40px"},children:[c.jsx(dm,{size:32,color:"#E8DFD3",style:{marginBottom:"12px"}}),c.jsx("p",{style:{color:"#A89B8C",fontSize:"14px"},children:"Keine Eintrge vorhanden."})]}):W.map(X=>{const G=M[X.status];return G.icon,c.jsxs(ue,{style:{marginBottom:"10px",padding:"16px"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[c.jsx("span",{style:{fontWeight:"600",color:"#2A2420",fontSize:"15px"},children:X.title}),c.jsx("span",{style:{fontSize:"11px",padding:"3px 8px",borderRadius:"6px",background:G.bg,color:G.color,fontWeight:"500"},children:G.label}),c.jsx("span",{style:{fontSize:"11px",padding:"3px 8px",borderRadius:"6px",background:"rgba(126,181,230,0.1)",color:"#7EB5E6",fontWeight:"500"},children:X.type})]}),c.jsxs("p",{style:{fontSize:"12px",color:"#A89B8C"},children:["von ",X.uploaderName]}),X.description&&c.jsx("p",{style:{fontSize:"13px",color:"#7A6F62",marginTop:"6px"},children:X.description})]}),X.fileUrl&&c.jsx("a",{href:X.fileUrl,target:"_blank",rel:"noopener noreferrer",style:{padding:"8px",background:"rgba(126,181,230,0.1)",borderRadius:"8px",color:"#7EB5E6",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(eS,{size:16})})]}),X.status==="rejected"&&X.feedback&&c.jsxs("div",{style:{marginTop:"8px",padding:"10px 14px",background:"rgba(220,38,38,0.04)",borderRadius:"10px",border:"1px solid rgba(220,38,38,0.1)"},children:[c.jsx("p",{style:{fontSize:"12px",fontWeight:"600",color:"#DC2626",marginBottom:"4px"},children:"Feedback:"}),c.jsx("p",{style:{fontSize:"13px",color:"#5C5349"},children:X.feedback})]}),A&&X.status==="pending"&&c.jsx("div",{style:{marginTop:"12px"},children:g.id===X.id?c.jsxs("div",{style:{display:"flex",gap:"8px"},children:[c.jsx("input",{type:"text",value:g.text,onChange:oe=>m({...g,text:oe.target.value}),placeholder:"Feedback/nderungswunsch...",style:{...U,flex:1}}),c.jsxs("button",{onClick:()=>j(X.id),style:{padding:"10px 16px",background:"rgba(220,38,38,0.08)",border:"none",borderRadius:"10px",color:"#DC2626",fontWeight:"600",fontSize:"13px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[c.jsx(Jc,{size:14})," Ablehnen"]}),c.jsx("button",{onClick:()=>m({id:null,text:""}),style:{padding:"10px",background:"rgba(42,36,32,0.04)",border:"none",borderRadius:"10px",color:"#7A6F62",cursor:"pointer"},children:c.jsx(Xt,{size:14})})]}):c.jsxs("div",{style:{display:"flex",gap:"8px"},children:[c.jsxs("button",{onClick:()=>L(X.id),style:{flex:1,padding:"10px",background:"rgba(107,201,160,0.1)",border:"none",borderRadius:"10px",color:"#6BC9A0",fontWeight:"600",fontSize:"13px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[c.jsx(li,{size:16})," Freigeben"]}),c.jsxs("button",{onClick:()=>j(X.id),style:{flex:1,padding:"10px",background:"rgba(220,38,38,0.06)",border:"none",borderRadius:"10px",color:"#DC2626",fontWeight:"600",fontSize:"13px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[c.jsx(Vv,{size:16})," Ablehnen"]})]})})]},X.id)})]})},Xd=[{key:"intro",label:"Intros",icon:Lv,color:"#FF6B9D"},{key:"outro",label:"Outros",icon:Lv,color:"#7EB5E6"},{key:"sound",label:"Sound-Effekte",icon:tD,color:"#6BC9A0"},{key:"font",label:"Schriftarten",icon:RD,color:"#E8A940"},{key:"overlay",label:"Overlays",icon:Ws,color:"#B48EE0"}],fk=({userData:r})=>{const[e,n]=k.useState([]),[s,o]=k.useState(!1),[u,h]=k.useState({title:"",category:"intro",url:"",notes:""}),[g,m]=k.useState("all"),y=Je.currentUser,x=r?.role==="influencer";k.useEffect(()=>{if(!r?.companyId)return;const M=at(De(de,"assetLibrary"),Xe("companyId","==",r.companyId)),W=wt(M,z=>{n(z.docs.map(U=>({id:U.id,...U.data()})).sort((U,X)=>{const G=U.createdAt?.toMillis?.()||0;return(X.createdAt?.toMillis?.()||0)-G}))});return()=>W()},[r]);const E=async()=>{!u.title.trim()||!u.url.trim()||(await kn(De(de,"assetLibrary"),{companyId:r.companyId,title:u.title.trim(),category:u.category,url:u.url.trim(),notes:u.notes.trim(),uploadedBy:y.uid,uploaderName:y.displayName||y.email,createdAt:tt()}),h({title:"",category:"intro",url:"",notes:""}),o(!1))},A=async M=>{await Gn(Re(de,"assetLibrary",M))},I=g==="all"?e:e.filter(M=>M.category===g),L=M=>Xd.find(W=>W.key===M)||Xd[0],j={width:"100%",padding:"12px 14px",background:"rgba(42,36,32,0.03)",border:"1.5px solid #E8DFD3",borderRadius:"12px",color:"#2A2420",fontSize:"14px",fontFamily:"inherit",outline:"none",boxSizing:"border-box"};return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"20px"},children:[c.jsxs("div",{children:[c.jsx("h2",{style:{fontSize:"22px",fontWeight:"700",color:"#2A2420",marginBottom:"4px"},children:"Asset Library"}),c.jsx("p",{style:{color:"#A89B8C",fontSize:"14px"},children:"Branding-Assets fr einheitliches Erscheinungsbild"})]}),x&&c.jsxs(ke,{variant:"primary",onClick:()=>o(!0),style:{padding:"10px 16px",fontSize:"13px"},children:[c.jsx(bn,{size:16})," Asset"]})]}),c.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"16px",overflowX:"auto",paddingBottom:"4px"},children:[c.jsxs("button",{onClick:()=>m("all"),style:{padding:"10px 16px",borderRadius:"12px",border:"none",fontSize:"13px",fontWeight:"600",background:g==="all"?"rgba(42,36,32,0.08)":"rgba(42,36,32,0.03)",color:g==="all"?"#2A2420":"#A89B8C",cursor:"pointer",whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:"6px"},children:[c.jsx(N5,{size:14})," Alle (",e.length,")"]}),Xd.map(M=>{const W=e.filter(U=>U.category===M.key).length,z=M.icon;return c.jsxs("button",{onClick:()=>m(M.key),style:{padding:"10px 16px",borderRadius:"12px",border:"none",fontSize:"13px",fontWeight:"500",background:g===M.key?`${M.color}18`:"rgba(42,36,32,0.03)",color:g===M.key?M.color:"#A89B8C",cursor:"pointer",whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:"6px"},children:[c.jsx(z,{size:14})," ",M.label," (",W,")"]},M.key)})]}),s&&c.jsxs(ue,{style:{marginBottom:"16px",padding:"20px",border:"1.5px solid rgba(126,181,230,0.3)"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[c.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#2A2420"},children:"Neues Asset"}),c.jsx("button",{onClick:()=>o(!1),style:{background:"none",border:"none",color:"#A89B8C",cursor:"pointer"},children:c.jsx(Xt,{size:18})})]}),c.jsxs("div",{style:{marginBottom:"12px"},children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Titel"}),c.jsx("input",{type:"text",value:u.title,onChange:M=>h({...u,title:M.target.value}),placeholder:"z.B. Standard Intro v2",style:j})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",marginBottom:"12px"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Kategorie"}),c.jsx("select",{value:u.category,onChange:M=>h({...u,category:M.target.value}),style:j,children:Xd.map(M=>c.jsx("option",{value:M.key,children:M.label},M.key))})]}),c.jsxs("div",{children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Link/URL"}),c.jsx("input",{type:"url",value:u.url,onChange:M=>h({...u,url:M.target.value}),placeholder:"https://...",style:j})]})]}),c.jsxs("div",{style:{marginBottom:"16px"},children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Hinweise"}),c.jsx("textarea",{value:u.notes,onChange:M=>h({...u,notes:M.target.value}),placeholder:"Verwendungshinweise...",rows:2,style:{...j,resize:"vertical"}})]}),c.jsx(ke,{variant:"primary",onClick:E,style:{width:"100%"},children:"Hinzufgen"})]}),I.length===0?c.jsxs(ue,{style:{textAlign:"center",padding:"40px"},children:[c.jsx(Ws,{size:32,color:"#E8DFD3",style:{marginBottom:"12px"}}),c.jsx("p",{style:{color:"#A89B8C",fontSize:"14px"},children:"Keine Assets in dieser Kategorie."})]}):c.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(160px, 1fr))",gap:"10px"},children:I.map(M=>{const W=L(M.category),z=W.icon;return c.jsxs(ue,{style:{padding:"16px",position:"relative"},children:[c.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"14px",background:`${W.color}12`,display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"10px"},children:c.jsx(z,{size:22,color:W.color})}),c.jsx("p",{style:{fontWeight:"600",color:"#2A2420",fontSize:"14px",marginBottom:"4px",lineHeight:"1.3"},children:M.title}),c.jsx("span",{style:{fontSize:"11px",padding:"2px 8px",borderRadius:"6px",background:`${W.color}12`,color:W.color,fontWeight:"500"},children:W.label}),M.notes&&c.jsx("p",{style:{fontSize:"11px",color:"#A89B8C",marginTop:"8px",lineHeight:"1.4"},children:M.notes}),c.jsxs("div",{style:{display:"flex",gap:"6px",marginTop:"10px"},children:[c.jsxs("a",{href:M.url,target:"_blank",rel:"noopener noreferrer",style:{flex:1,padding:"8px",background:`${W.color}10`,border:"none",borderRadius:"8px",color:W.color,display:"flex",alignItems:"center",justifyContent:"center",textDecoration:"none",fontSize:"12px",fontWeight:"500",gap:"4px"},children:[c.jsx(C5,{size:12})," ffnen"]}),x&&c.jsx("button",{onClick:()=>A(M.id),style:{padding:"8px",background:"rgba(220,38,38,0.06)",border:"none",borderRadius:"8px",color:"#DC2626",cursor:"pointer"},children:c.jsx(Xt,{size:12})})]})]},M.id)})})]})},kg={negotiation:{label:"Verhandlung",color:"#E8A940",icon:vl},confirmed:{label:"Besttigt",color:"#7EB5E6",icon:li},posted:{label:"Gepostet",color:"#6BC9A0",icon:Jc},paid:{label:"Bezahlt",color:"#FF6B9D",icon:ZE}},pk=["Instagram","TikTok","YouTube","OnlyFans","Twitter/X","Sonstiges"],gk=({userData:r})=>{const[e,n]=k.useState([]),[s,o]=k.useState(!1),[u,h]=k.useState(null),[g,m]=k.useState({brand:"",contact:"",value:"",deadline:"",platform:"Instagram",postUrl:"",notes:""}),[y,x]=k.useState("all"),E=Je.currentUser;k.useEffect(()=>{if(!r?.companyId)return;const G=at(De(de,"brandDeals"),Xe("companyId","==",r.companyId)),oe=wt(G,S=>{n(S.docs.map(C=>({id:C.id,...C.data()})).sort((C,w)=>C.deadline&&w.deadline?C.deadline.localeCompare(w.deadline):(w.createdAt?.toMillis?.()||0)-(C.createdAt?.toMillis?.()||0)))});return()=>oe()},[r]);const A=async()=>{if(!g.brand.trim())return;const G={companyId:r.companyId,brand:g.brand.trim(),contact:g.contact.trim(),value:parseFloat(g.value)||0,deadline:g.deadline,platform:g.platform,postUrl:g.postUrl.trim(),notes:g.notes.trim(),status:"negotiation",createdBy:E.uid};u?(await zt(Re(de,"brandDeals",u),G),h(null)):await kn(De(de,"brandDeals"),{...G,createdAt:tt()}),m({brand:"",contact:"",value:"",deadline:"",platform:"Instagram",postUrl:"",notes:""}),o(!1)},I=async G=>{const oe=["negotiation","confirmed","posted","paid"],S=oe.indexOf(G.status),C=oe[(S+1)%oe.length];await zt(Re(de,"brandDeals",G.id),{status:C})},L=async G=>{await Gn(Re(de,"brandDeals",G))},j=G=>{m({brand:G.brand,contact:G.contact||"",value:G.value?.toString()||"",deadline:G.deadline||"",platform:G.platform||"Instagram",postUrl:G.postUrl||"",notes:G.notes||""}),h(G.id),o(!0)},M=y==="all"?e:e.filter(G=>G.status===y),W=e.reduce((G,oe)=>G+(oe.value||0),0),z=e.filter(G=>G.status==="paid").reduce((G,oe)=>G+(oe.value||0),0),U=W-z,X={width:"100%",padding:"12px 14px",background:"rgba(42,36,32,0.03)",border:"1.5px solid #E8DFD3",borderRadius:"12px",color:"#2A2420",fontSize:"14px",fontFamily:"inherit",outline:"none",boxSizing:"border-box"};return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"20px"},children:[c.jsxs("div",{children:[c.jsx("h2",{style:{fontSize:"22px",fontWeight:"700",color:"#2A2420",marginBottom:"4px"},children:"Brand Deals"}),c.jsx("p",{style:{color:"#A89B8C",fontSize:"14px"},children:"Kooperationen und Vertrge verwalten"})]}),c.jsxs(ke,{variant:"primary",onClick:()=>{o(!0),h(null),m({brand:"",contact:"",value:"",deadline:"",platform:"Instagram",postUrl:"",notes:""})},style:{padding:"10px 16px",fontSize:"13px"},children:[c.jsx(bn,{size:16})," Deal"]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"10px",marginBottom:"20px"},children:[c.jsxs(ue,{style:{textAlign:"center",padding:"16px"},children:[c.jsx(al,{size:18,color:"#7EB5E6",style:{margin:"0 auto 6px"}}),c.jsx("p",{style:{fontSize:"11px",color:"#A89B8C"},children:"Gesamt"}),c.jsxs("p",{style:{fontSize:"18px",fontWeight:"700",color:"#2A2420"},children:[W.toLocaleString("de-DE")," EUR"]})]}),c.jsxs(ue,{style:{textAlign:"center",padding:"16px"},children:[c.jsx(ZE,{size:18,color:"#6BC9A0",style:{margin:"0 auto 6px"}}),c.jsx("p",{style:{fontSize:"11px",color:"#A89B8C"},children:"Erhalten"}),c.jsxs("p",{style:{fontSize:"18px",fontWeight:"700",color:"#6BC9A0"},children:[z.toLocaleString("de-DE")," EUR"]})]}),c.jsxs(ue,{style:{textAlign:"center",padding:"16px"},children:[c.jsx(vl,{size:18,color:"#E8A940",style:{margin:"0 auto 6px"}}),c.jsx("p",{style:{fontSize:"11px",color:"#A89B8C"},children:"Offen"}),c.jsxs("p",{style:{fontSize:"18px",fontWeight:"700",color:"#E8A940"},children:[U.toLocaleString("de-DE")," EUR"]})]})]}),c.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"16px",overflowX:"auto",paddingBottom:"4px"},children:[c.jsxs("button",{onClick:()=>x("all"),style:{padding:"8px 14px",borderRadius:"10px",border:"none",fontSize:"13px",fontWeight:"500",background:y==="all"?"rgba(42,36,32,0.08)":"rgba(42,36,32,0.04)",color:y==="all"?"#2A2420":"#7A6F62",cursor:"pointer"},children:["Alle (",e.length,")"]}),Object.entries(kg).map(([G,oe])=>c.jsx("button",{onClick:()=>x(G),style:{padding:"8px 14px",borderRadius:"10px",border:"none",fontSize:"13px",fontWeight:"500",background:y===G?`${oe.color}18`:"rgba(42,36,32,0.04)",color:y===G?oe.color:"#7A6F62",cursor:"pointer",whiteSpace:"nowrap"},children:oe.label},G))]}),s&&c.jsxs(ue,{style:{marginBottom:"16px",padding:"20px",border:"1.5px solid rgba(126,181,230,0.3)"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[c.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#2A2420"},children:u?"Deal bearbeiten":"Neuer Brand Deal"}),c.jsx("button",{onClick:()=>{o(!1),h(null)},style:{background:"none",border:"none",color:"#A89B8C",cursor:"pointer"},children:c.jsx(Xt,{size:18})})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",marginBottom:"12px"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Marke/Brand"}),c.jsx("input",{type:"text",value:g.brand,onChange:G=>m({...g,brand:G.target.value}),placeholder:"z.B. FashionNova",style:X})]}),c.jsxs("div",{children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Kontakt"}),c.jsx("input",{type:"text",value:g.contact,onChange:G=>m({...g,contact:G.target.value}),placeholder:"Email/Name",style:X})]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"10px",marginBottom:"12px"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Wert (EUR)"}),c.jsx("input",{type:"number",value:g.value,onChange:G=>m({...g,value:G.target.value}),placeholder:"0",style:X})]}),c.jsxs("div",{children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Deadline"}),c.jsx("input",{type:"date",value:g.deadline,onChange:G=>m({...g,deadline:G.target.value}),style:X})]}),c.jsxs("div",{children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Plattform"}),c.jsx("select",{value:g.platform,onChange:G=>m({...g,platform:G.target.value}),style:X,children:pk.map(G=>c.jsx("option",{value:G,children:G},G))})]})]}),c.jsxs("div",{style:{marginBottom:"12px"},children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Post-URL (optional)"}),c.jsx("input",{type:"url",value:g.postUrl,onChange:G=>m({...g,postUrl:G.target.value}),placeholder:"https://...",style:X})]}),c.jsxs("div",{style:{marginBottom:"16px"},children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Notizen"}),c.jsx("textarea",{value:g.notes,onChange:G=>m({...g,notes:G.target.value}),placeholder:"Vertragsdetails, Anforderungen...",rows:2,style:{...X,resize:"vertical"}})]}),c.jsx(ke,{variant:"primary",onClick:A,style:{width:"100%"},children:u?"Speichern":"Erstellen"})]}),M.length===0?c.jsxs(ue,{style:{textAlign:"center",padding:"40px"},children:[c.jsx(al,{size:32,color:"#E8DFD3",style:{marginBottom:"12px"}}),c.jsx("p",{style:{color:"#A89B8C",fontSize:"14px"},children:"Keine Brand Deals vorhanden."})]}):M.map(G=>{const oe=kg[G.status]||kg.negotiation,S=oe.icon,C=G.deadline&&G.deadline<new Date().toISOString().slice(0,10)&&G.status!=="paid";return c.jsx(ue,{style:{marginBottom:"10px",padding:"16px",borderLeft:C?"3px solid #DC2626":"none"},children:c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[c.jsxs("div",{style:{flex:1},onClick:()=>j(G),children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px"},children:[c.jsx("span",{style:{fontWeight:"700",color:"#2A2420",fontSize:"16px"},children:G.brand}),c.jsx("span",{style:{fontSize:"11px",padding:"3px 8px",borderRadius:"6px",background:`${oe.color}12`,color:oe.color,fontWeight:"500"},children:oe.label})]}),c.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"12px",fontSize:"13px",marginBottom:"4px"},children:[c.jsxs("span",{style:{color:"#7A6F62",display:"flex",alignItems:"center",gap:"4px"},children:[c.jsx(sr,{size:13})," ",c.jsxs("strong",{style:{color:"#2A2420"},children:[G.value?.toLocaleString("de-DE")," EUR"]})]}),c.jsxs("span",{style:{color:"#7A6F62",display:"flex",alignItems:"center",gap:"4px"},children:[c.jsx(jr,{size:13})," ",G.deadline||"Kein Datum"]}),c.jsx("span",{style:{fontSize:"11px",padding:"2px 8px",borderRadius:"6px",background:"rgba(126,181,230,0.1)",color:"#7EB5E6"},children:G.platform})]}),G.notes&&c.jsx("p",{style:{fontSize:"12px",color:"#A89B8C",marginTop:"4px"},children:G.notes}),G.contact&&c.jsxs("p",{style:{fontSize:"11px",color:"#A89B8C",marginTop:"2px"},children:["Kontakt: ",G.contact]})]}),c.jsxs("div",{style:{display:"flex",gap:"6px"},children:[c.jsx("button",{onClick:()=>I(G),style:{padding:"8px 12px",background:`${oe.color}10`,border:"none",borderRadius:"8px",color:oe.color,cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",fontSize:"12px",fontWeight:"500"},children:c.jsx(S,{size:14})}),G.postUrl&&c.jsx("a",{href:G.postUrl,target:"_blank",rel:"noopener noreferrer",style:{padding:"8px",background:"rgba(107,201,160,0.1)",borderRadius:"8px",color:"#6BC9A0",display:"flex",alignItems:"center"},children:c.jsx(R5,{size:14})}),c.jsx("button",{onClick:()=>L(G.id),style:{padding:"8px",background:"rgba(220,38,38,0.06)",border:"none",borderRadius:"8px",color:"#DC2626",cursor:"pointer"},children:c.jsx(Xt,{size:14})})]})]})},G.id)})]})},Yv={login:{label:"Login",color:"#7EB5E6",icon:""},content_upload:{label:"Content Upload",color:"#6BC9A0",icon:""},content_approved:{label:"Content Freigabe",color:"#6BC9A0",icon:""},content_rejected:{label:"Content Abgelehnt",color:"#DC2626",icon:""},asset_added:{label:"Asset hinzugefgt",color:"#B48EE0",icon:""},task_created:{label:"Task erstellt",color:"#E8A940",icon:""},task_updated:{label:"Task aktualisiert",color:"#E8A940",icon:""},deal_created:{label:"Deal erstellt",color:"#FF6B9D",icon:""},deal_updated:{label:"Deal aktualisiert",color:"#FF6B9D",icon:""},revenue_added:{label:"Revenue eingetragen",color:"#F5C563",icon:""},calendar_event:{label:"Kalender Event",color:"#7EB5E6",icon:""},settings_changed:{label:"Einstellung gendert",color:"#A89B8C",icon:""},member_joined:{label:"Mitglied beigetreten",color:"#6BC9A0",icon:""},member_removed:{label:"Mitglied entfernt",color:"#DC2626",icon:""}},mk=({userData:r})=>{const[e,n]=k.useState([]),[s,o]=k.useState("all"),[u,h]=k.useState(50);k.useEffect(()=>{if(!r?.companyId)return;const x=at(De(de,"auditLogs"),Xe("companyId","==",r.companyId),wi("timestamp","desc"),WE(u)),E=wt(x,A=>{n(A.docs.map(I=>({id:I.id,...I.data()})))},A=>{console.log("AuditLog query needs index:",A.message),n([])});return()=>E()},[r,u]);const g=s==="all"?e:e.filter(x=>x.action===s),m=x=>{if(!x)return"";const E=x.toDate?x.toDate():new Date(x),I=new Date-E;return I<6e4?"Gerade eben":I<36e5?`vor ${Math.floor(I/6e4)} Min`:I<864e5?`vor ${Math.floor(I/36e5)} Std`:E.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})},y=[...new Set(e.map(x=>x.action))].filter(Boolean);return c.jsxs("div",{children:[c.jsxs("div",{style:{marginBottom:"20px"},children:[c.jsxs("h2",{style:{fontSize:"22px",fontWeight:"700",color:"#2A2420",marginBottom:"4px",display:"flex",alignItems:"center",gap:"10px"},children:[c.jsx(Pr,{size:22,color:"#7EB5E6"})," Audit Log"]}),c.jsx("p",{style:{color:"#A89B8C",fontSize:"14px"},children:"Wer hat wann was gendert"})]}),y.length>0&&c.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"16px",overflowX:"auto",paddingBottom:"4px"},children:[c.jsxs("button",{onClick:()=>o("all"),style:{padding:"8px 14px",borderRadius:"10px",border:"none",fontSize:"13px",fontWeight:"500",background:s==="all"?"rgba(126,181,230,0.15)":"rgba(42,36,32,0.04)",color:s==="all"?"#7EB5E6":"#7A6F62",cursor:"pointer",whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:"4px"},children:[c.jsx(M5,{size:12})," Alle"]}),y.map(x=>{const E=Yv[x]||{label:x,color:"#A89B8C",icon:""};return c.jsxs("button",{onClick:()=>o(x),style:{padding:"8px 14px",borderRadius:"10px",border:"none",fontSize:"13px",fontWeight:"500",background:s===x?`${E.color}18`:"rgba(42,36,32,0.04)",color:s===x?E.color:"#7A6F62",cursor:"pointer",whiteSpace:"nowrap"},children:[E.icon," ",E.label]},x)})]}),g.length===0?c.jsxs(ue,{style:{textAlign:"center",padding:"40px"},children:[c.jsx(ol,{size:32,color:"#E8DFD3",style:{marginBottom:"12px"}}),c.jsx("p",{style:{color:"#A89B8C",fontSize:"14px"},children:"Noch keine Aktivitten aufgezeichnet."}),c.jsx("p",{style:{color:"#C4B8A8",fontSize:"12px",marginTop:"8px"},children:"Logs werden automatisch erstellt, wenn Team-Mitglieder Aktionen durchfhren."})]}):c.jsxs(c.Fragment,{children:[g.map((x,E)=>{const A=Yv[x.action]||{label:x.action,color:"#A89B8C",icon:""},I=E===g.length-1;return c.jsxs("div",{style:{display:"flex",gap:"12px",position:"relative"},children:[!I&&c.jsx("div",{style:{position:"absolute",left:"17px",top:"36px",bottom:"-8px",width:"2px",background:"#E8DFD3"}}),c.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"10px",flexShrink:0,background:`${A.color}12`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",zIndex:1},children:A.icon}),c.jsxs("div",{style:{flex:1,paddingBottom:"16px"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"2px"},children:[c.jsx("span",{style:{fontWeight:"600",color:"#2A2420",fontSize:"14px"},children:A.label}),c.jsx("span",{style:{fontSize:"11px",color:"#A89B8C"},children:m(x.timestamp)})]}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"13px",color:"#7A6F62"},children:[c.jsx(zD,{size:12}),c.jsx("span",{children:x.userName||"Unbekannt"}),x.target&&c.jsxs(c.Fragment,{children:[c.jsx("span",{style:{color:"#C4B8A8"},children:""}),c.jsx("span",{children:x.target})]})]}),x.details&&c.jsx("p",{style:{fontSize:"12px",color:"#A89B8C",marginTop:"4px"},children:x.details})]})]},x.id)}),e.length>=u&&c.jsx("button",{onClick:()=>h(u+50),style:{width:"100%",padding:"12px",background:"rgba(42,36,32,0.04)",border:"none",borderRadius:"12px",color:"#7A6F62",fontSize:"14px",fontWeight:"500",cursor:"pointer",marginTop:"8px"},children:"Mehr laden..."})]})]})},zg={YouTube:{color:"#DC2626",icon:""},TikTok:{color:"#000000",icon:""},Instagram:{color:"#E1306C",icon:""},Reels:{color:"#E1306C",icon:""},Podcast:{color:"#7EB5E6",icon:""},Sonstiges:{color:"#A89B8C",icon:""}},yk=({userData:r})=>{const[e,n]=k.useState([]),[s,o]=k.useState(!1),[u,h]=k.useState({title:"",platform:"YouTube",dueDate:"",notes:""}),g=Je.currentUser;k.useEffect(()=>{if(!r?.companyId)return;const j=at(De(de,"deadlines"),Xe("companyId","==",r.companyId)),M=wt(j,W=>{n(W.docs.map(z=>({id:z.id,...z.data()})).sort((z,U)=>z.dueDate&&U.dueDate?z.dueDate.localeCompare(U.dueDate):0))});return()=>M()},[r]);const m=async()=>{!u.title.trim()||!u.dueDate||(await kn(De(de,"deadlines"),{companyId:r.companyId,title:u.title.trim(),platform:u.platform,dueDate:u.dueDate,notes:u.notes.trim(),status:"active",createdBy:g.uid,createdAt:tt()}),h({title:"",platform:"YouTube",dueDate:"",notes:""}),o(!1))},y=async j=>{await zt(Re(de,"deadlines",j.id),{status:j.status==="done"?"active":"done"})},x=async j=>{await Gn(Re(de,"deadlines",j))},E=j=>{if(!j)return{text:"Kein Datum",urgent:!1,overdue:!1};const M=new Date,z=new Date(j+"T23:59:59")-M,U=Math.ceil(z/864e5);return U<0?{text:`${Math.abs(U)} Tage berfllig`,urgent:!0,overdue:!0}:U===0?{text:"Heute fllig!",urgent:!0,overdue:!1}:U===1?{text:"Morgen fllig",urgent:!0,overdue:!1}:U<=3?{text:`${U} Tage`,urgent:!0,overdue:!1}:U<=7?{text:`${U} Tage`,urgent:!1,overdue:!1}:{text:`${U} Tage`,urgent:!1,overdue:!1}},A=e.filter(j=>j.status!=="done"),I=e.filter(j=>j.status==="done"),L={width:"100%",padding:"12px 14px",background:"rgba(42,36,32,0.03)",border:"1.5px solid #E8DFD3",borderRadius:"12px",color:"#2A2420",fontSize:"14px",fontFamily:"inherit",outline:"none",boxSizing:"border-box"};return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"20px"},children:[c.jsxs("div",{children:[c.jsxs("h2",{style:{fontSize:"22px",fontWeight:"700",color:"#2A2420",marginBottom:"4px",display:"flex",alignItems:"center",gap:"10px"},children:[c.jsx(Gs,{size:22,color:"#E8A940"})," Deadlines"]}),c.jsx("p",{style:{color:"#A89B8C",fontSize:"14px"},children:"Countdown fr kommende Uploads"})]}),c.jsxs(ke,{variant:"primary",onClick:()=>o(!0),style:{padding:"10px 16px",fontSize:"13px"},children:[c.jsx(bn,{size:16})," Deadline"]})]}),s&&c.jsxs(ue,{style:{marginBottom:"16px",padding:"20px",border:"1.5px solid rgba(232,169,64,0.3)"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[c.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#2A2420"},children:"Neue Deadline"}),c.jsx("button",{onClick:()=>o(!1),style:{background:"none",border:"none",color:"#A89B8C",cursor:"pointer"},children:c.jsx(Xt,{size:18})})]}),c.jsxs("div",{style:{marginBottom:"12px"},children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Titel"}),c.jsx("input",{type:"text",value:u.title,onChange:j=>h({...u,title:j.target.value}),placeholder:"z.B. Weekly Vlog #42",style:L})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",marginBottom:"12px"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Plattform"}),c.jsx("select",{value:u.platform,onChange:j=>h({...u,platform:j.target.value}),style:L,children:Object.keys(zg).map(j=>c.jsx("option",{value:j,children:j},j))})]}),c.jsxs("div",{children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Fllig am"}),c.jsx("input",{type:"date",value:u.dueDate,onChange:j=>h({...u,dueDate:j.target.value}),style:L})]})]}),c.jsxs("div",{style:{marginBottom:"16px"},children:[c.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#5C5349",display:"block",marginBottom:"6px"},children:"Notizen"}),c.jsx("textarea",{value:u.notes,onChange:j=>h({...u,notes:j.target.value}),placeholder:"Details...",rows:2,style:{...L,resize:"vertical"}})]}),c.jsx(ke,{variant:"primary",onClick:m,style:{width:"100%"},children:"Erstellen"})]}),A.length===0&&I.length===0?c.jsxs(ue,{style:{textAlign:"center",padding:"40px"},children:[c.jsx(Gs,{size:32,color:"#E8DFD3",style:{marginBottom:"12px"}}),c.jsx("p",{style:{color:"#A89B8C",fontSize:"14px"},children:"Keine Deadlines. Erstelle eine neue!"})]}):c.jsxs(c.Fragment,{children:[A.map(j=>{const M=E(j.dueDate),W=zg[j.platform]||zg.Sonstiges;return c.jsx(ue,{style:{marginBottom:"10px",padding:"16px",borderLeft:M.overdue?"3px solid #DC2626":M.urgent?"3px solid #E8A940":"none"},children:c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px"},children:[c.jsx("span",{style:{fontSize:"18px"},children:W.icon}),c.jsx("span",{style:{fontWeight:"600",color:"#2A2420",fontSize:"15px"},children:j.title}),c.jsx("span",{style:{fontSize:"11px",padding:"3px 8px",borderRadius:"6px",background:`${W.color}12`,color:W.color,fontWeight:"500"},children:j.platform})]}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[M.overdue?c.jsx(Bh,{size:14,color:"#DC2626"}):c.jsx(vl,{size:14,color:M.urgent?"#E8A940":"#A89B8C"}),c.jsx("span",{style:{fontSize:"14px",fontWeight:"700",color:M.overdue?"#DC2626":M.urgent?"#E8A940":"#6BC9A0"},children:M.text}),c.jsxs("span",{style:{fontSize:"12px",color:"#A89B8C"},children:["(",new Date(j.dueDate).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"}),")"]})]}),j.notes&&c.jsx("p",{style:{fontSize:"12px",color:"#A89B8C",marginTop:"6px"},children:j.notes})]}),c.jsxs("div",{style:{display:"flex",gap:"6px"},children:[c.jsxs("button",{onClick:()=>y(j),style:{padding:"8px 12px",background:"rgba(107,201,160,0.1)",border:"none",borderRadius:"8px",color:"#6BC9A0",cursor:"pointer",fontSize:"12px",fontWeight:"500",display:"flex",alignItems:"center",gap:"4px"},children:[c.jsx(li,{size:14})," Erledigt"]}),c.jsx("button",{onClick:()=>x(j.id),style:{padding:"8px",background:"rgba(220,38,38,0.06)",border:"none",borderRadius:"8px",color:"#DC2626",cursor:"pointer"},children:c.jsx(Xt,{size:14})})]})]})},j.id)}),I.length>0&&c.jsxs(c.Fragment,{children:[c.jsxs("p",{style:{fontSize:"13px",fontWeight:"600",color:"#A89B8C",marginTop:"20px",marginBottom:"10px"},children:["Erledigt (",I.length,")"]}),I.map(j=>c.jsx(ue,{style:{marginBottom:"8px",padding:"14px",opacity:.6},children:c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[c.jsx(li,{size:16,color:"#6BC9A0"}),c.jsx("span",{style:{fontWeight:"500",color:"#7A6F62",fontSize:"14px",textDecoration:"line-through"},children:j.title}),c.jsx("span",{style:{fontSize:"11px",color:"#A89B8C"},children:j.platform})]}),c.jsxs("div",{style:{display:"flex",gap:"6px"},children:[c.jsx("button",{onClick:()=>y(j),style:{padding:"6px 10px",background:"rgba(232,169,64,0.1)",border:"none",borderRadius:"8px",color:"#E8A940",cursor:"pointer",fontSize:"11px"},children:"Wiederherstellen"}),c.jsx("button",{onClick:()=>x(j.id),style:{padding:"6px",background:"rgba(220,38,38,0.06)",border:"none",borderRadius:"8px",color:"#DC2626",cursor:"pointer"},children:c.jsx(Xt,{size:12})})]})]})},j.id))]})]})]})},Ng=[{id:"free",name:"Free",price:"0",period:"Kostenlos",color:"#A89B8C",icon:iS,slots:1,highlight:!1,features:["1 Teammitglied","Content Pipeline","Kalender & Chat","Basis-Analytics","Einladungscodes"],missing:["Revenue Split Tracker","Brand Deal CRM","Audit Logs","Prioritts-Support","Custom Branding"]},{id:"pro",name:"Pro",price:"29",period:"/ Monat",color:"#F5C563",icon:Ey,slots:5,highlight:!0,popular:!0,features:["5 Teammitglieder","Content Pipeline","Kalender & Chat","Erweiterte Analytics","Revenue Split Tracker","Brand Deal CRM","Content Approval Queue","Audit Logs","Deadline Timer","Asset Library"],missing:["Custom Branding","API-Zugang"]},{id:"business",name:"Business",price:"79",period:"/ Monat",color:"#FF6B9D",icon:aS,slots:10,highlight:!1,features:["10 Teammitglieder","Alle Pro Features","Prioritts-Support","Custom Branding","API-Zugang","Erweiterte Exports","Multi-Team Support","Dedizierter Account Manager"],missing:[]}],xk=({userData:r})=>{const e=Ks(),[n,s]=k.useState("free"),[o,u]=k.useState(!1),[h,g]=k.useState(null),m=r?.companyId||null;k.useEffect(()=>{m&&Ri(Re(de,"companies",m)).then(x=>{x.exists()&&s(x.data().abo||"free")}).catch(()=>{})},[m]);const y=async x=>{if(x!==n){if(!m){e("/dashboard/company");return}u(x);try{await zt(Re(de,"companies",m),{abo:x}),s(x),g(x),setTimeout(()=>g(null),3e3)}catch(E){console.error("Abo update error:",E)}u(!1)}};return c.jsxs("div",{children:[c.jsxs("div",{style:{textAlign:"center",marginBottom:"28px"},children:[c.jsx("button",{onClick:()=>e(-1),style:{position:"absolute",left:"20px",padding:"8px",background:"rgba(42,36,32,0.04)",border:"none",borderRadius:"10px",color:"#7A6F62",cursor:"pointer"},children:c.jsx(zh,{size:18})}),c.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"18px",background:"linear-gradient(135deg, #F5C563, #E8A940)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 12px",boxShadow:"0 8px 24px rgba(245,197,99,0.3)"},children:c.jsx(Ey,{size:26,color:"white"})}),c.jsx("h2",{style:{fontSize:"24px",fontWeight:"700",color:"#2A2420",marginBottom:"6px"},children:"Whle deinen Plan"}),c.jsx("p",{style:{color:"#A89B8C",fontSize:"14px"},children:"Skaliere dein Team mit dem richtigen Abo"})]}),n!=="free"&&c.jsxs("div",{style:{padding:"12px 16px",borderRadius:"12px",marginBottom:"20px",background:"rgba(107,201,160,0.08)",border:"1px solid rgba(107,201,160,0.2)",display:"flex",alignItems:"center",gap:"10px"},children:[c.jsx(Pr,{size:18,color:"#6BC9A0"}),c.jsxs("span",{style:{fontSize:"14px",color:"#2A2420",fontWeight:"500"},children:["Aktueller Plan: ",c.jsx("strong",{style:{textTransform:"capitalize",color:"#6BC9A0"},children:n})]})]}),h&&c.jsx("div",{style:{padding:"14px 16px",borderRadius:"12px",marginBottom:"16px",background:"rgba(107,201,160,0.1)",border:"1px solid rgba(107,201,160,0.3)",textAlign:"center"},children:c.jsxs("p",{style:{color:"#6BC9A0",fontWeight:"600",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[c.jsx(Ur,{size:16})," Plan erfolgreich auf ",c.jsx("span",{style:{textTransform:"capitalize"},children:h})," gewechselt!"]})}),c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"14px"},children:Ng.map(x=>{const E=x.icon,A=n===x.id,I=Ng.findIndex(L=>L.id===n)>Ng.findIndex(L=>L.id===x.id);return c.jsxs(ue,{style:{padding:"0",overflow:"hidden",position:"relative",border:x.highlight?`2px solid ${x.color}`:A?"2px solid #6BC9A0":"1px solid rgba(232,223,211,0.5)",boxShadow:x.highlight?`0 8px 30px ${x.color}15`:"none"},children:[x.popular&&c.jsx("div",{style:{position:"absolute",top:"12px",right:"12px",padding:"4px 10px",borderRadius:"8px",background:`${x.color}15`,color:x.color,fontSize:"11px",fontWeight:"700",letterSpacing:"0.5px"},children:"BELIEBT"}),A&&c.jsx("div",{style:{position:"absolute",top:"12px",right:"12px",padding:"4px 10px",borderRadius:"8px",background:"rgba(107,201,160,0.1)",color:"#6BC9A0",fontSize:"11px",fontWeight:"700"},children:"AKTUELL"}),c.jsxs("div",{style:{padding:"24px"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[c.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"14px",background:`${x.color}12`,display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(E,{size:22,color:x.color})}),c.jsxs("div",{children:[c.jsx("h3",{style:{fontSize:"18px",fontWeight:"700",color:"#2A2420",margin:0},children:x.name}),c.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"2px"},children:[c.jsx("span",{style:{fontSize:"28px",fontWeight:"800",color:"#2A2420"},children:x.price==="0"?"Gratis":`${x.price}`}),x.price!=="0"&&c.jsx("span",{style:{fontSize:"14px",color:"#A89B8C",fontWeight:"400"},children:x.period})]})]})]}),c.jsxs("div",{style:{padding:"10px 14px",borderRadius:"10px",marginBottom:"16px",background:`${x.color}08`,display:"flex",alignItems:"center",gap:"8px"},children:[c.jsx(Hn,{size:16,color:x.color}),c.jsxs("span",{style:{fontSize:"13px",color:"#5C5349",fontWeight:"500"},children:["Bis zu ",c.jsx("strong",{style:{color:x.color},children:x.slots})," Teammitglied",x.slots>1?"er":""]})]}),c.jsxs("div",{style:{marginBottom:"16px"},children:[x.features.map((L,j)=>c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"5px 0"},children:[c.jsx(Ds,{size:15,color:"#6BC9A0",strokeWidth:3}),c.jsx("span",{style:{fontSize:"13px",color:"#5C5349"},children:L})]},j)),x.missing.map((L,j)=>c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"5px 0",opacity:.4},children:[c.jsx("span",{style:{width:"15px",textAlign:"center",fontSize:"13px",color:"#A89B8C"},children:""}),c.jsx("span",{style:{fontSize:"13px",color:"#A89B8C"},children:L})]},`m-${j}`))]}),c.jsx("button",{onClick:()=>y(x.id),disabled:A||o===x.id,style:{width:"100%",padding:"14px",borderRadius:"14px",border:"none",fontSize:"15px",fontWeight:"700",cursor:A?"default":"pointer",fontFamily:"inherit",background:A?"rgba(107,201,160,0.1)":x.highlight?`linear-gradient(135deg, ${x.color}cc, ${x.color})`:"rgba(42,36,32,0.06)",color:A?"#6BC9A0":x.highlight?"white":"#5C5349",boxShadow:x.highlight&&!A?`0 4px 16px ${x.color}30`:"none",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",opacity:A?.8:1,transition:"all 0.2s ease"},children:o===x.id?c.jsxs(c.Fragment,{children:[c.jsx(K5,{size:16,className:"animate-spin"})," Wird aktualisiert..."]}):A?c.jsxs(c.Fragment,{children:[c.jsx(Ds,{size:16})," Aktueller Plan"]}):I?c.jsx(c.Fragment,{children:"Downgraden"}):c.jsxs(c.Fragment,{children:[c.jsx(Gt,{size:16})," ",x.price==="0"?"Gratis starten":`Auf ${x.name} upgraden`]})})]})]},x.id)})}),c.jsxs("div",{style:{textAlign:"center",marginTop:"24px",padding:"16px"},children:[c.jsx("p",{style:{fontSize:"12px",color:"#A89B8C",lineHeight:"1.6"},children:"Alle Plne sind monatlich kndbar. Kein Vertrag, keine versteckten Kosten. Bei einem Downgrade behltst du den Plan bis zum Ende der Abrechnungsperiode."}),c.jsx("p",{style:{fontSize:"11px",color:"#C4B8A8",marginTop:"8px"},children:"Stripe-Integration wird bei Produktions-Launch aktiviert."})]})]})},Qv={manager:{color:"#F5C563",title:"Manager",subtitle:"Dein Team, deine Kontrolle",steps:[{icon:uf,title:"Firma erstellen",desc:'Geh zu "Firma" und erstelle deine Firma. Du erhltst einen Einladungscode, den du an deine Models weitergeben kannst.',tip:"Dein Einladungscode kann jederzeit erneuert werden."},{icon:li,title:"Content freigeben",desc:'Unter "Freigaben" siehst du alle Content-Einreichungen deiner Models. Mit einem Klick freigeben oder mit Feedback ablehnen.',tip:"Models sehen dein Feedback direkt in ihrer Ansicht."},{icon:sr,title:"Revenue aufteilen",desc:'Unter "Revenue" trgst du Einnahmen ein und stellst den Split-Prozentsatz per Slider ein. Das System berechnet automatisch die Anteile.',tip:"Du kannst nach Model und Plattform filtern."},{icon:al,title:"Brand Deals verwalten",desc:'Unter "Deals" trackst du Kooperationen: Brand, Wert, Deadline und Status. Der Status luft von Verhandlung bis Bezahlt.',tip:"berfllige Deals werden rot markiert."},{icon:Gt,title:"Trends & Analytics",desc:'"Analytics" zeigt dir Statistiken deines Teams. "Trends" zeigt aktuelle Plattform-Trends mit AI-Vorschlgen.',tip:"Im Audit-Log siehst du, wer wann was gendert hat."}]},model:{color:"#FF6B9D",title:"Model",subtitle:"Content einreichen, Kalender planen",steps:[{icon:li,title:"Content einreichen",desc:'Unter "Freigaben" ldst du deinen Content hoch (Bild, Video, Album). Dein Manager bekommt eine Benachrichtigung und kann freigeben oder Feedback geben.',tip:"Du siehst den Status: Offen, Freigegeben oder Abgelehnt mit Feedback."},{icon:jr,title:"Kalender nutzen",desc:'Unter "Kalender" planst du deine Termine: Shootings, Streams, Meetings. Dein Manager sieht deinen Kalender mit.',tip:"Verschiedene Event-Typen haben verschiedene Farben."},{icon:ks,title:"Assets verwalten",desc:'Unter "Assets" ldst du Material hoch und setzt den Status: Rohmaterial  In Bearbeitung  Ready for Post.',tip:"Filter nach Status, um den berblick zu behalten."},{icon:js,title:"Chat nutzen",desc:"Im Chat kommunizierst du direkt mit deinem Manager  geschftlich getrennt von privat.",tip:"Nachrichten sind in Echtzeit."}]},influencer:{color:"#7EB5E6",title:"Influencer",subtitle:"Content planen, Cutter beauftragen",steps:[{icon:Hn,title:"Collab-Board",desc:'Unter "Collab" erstellst du Auftrge fr deinen Cutter: Titel, Beschreibung, Prioritt und Deadline. Der Cutter sieht und bearbeitet sie.',tip:"Status luft: Offen  In Arbeit  Fertig."},{icon:Gs,title:"Deadlines setzen",desc:'Unter "Deadlines" erstellst du Countdowns fr deine nchsten Uploads. Plattform whlen, Datum setzen  beide sehen den Timer.',tip:"berfllige Deadlines werden rot und mit Warnung angezeigt."},{icon:Ws,title:"Asset Library pflegen",desc:'In der "Library" hinterlegst du deine Branding-Assets: Intros, Outros, Sound-Effekte, Schriftarten. Der Cutter nutzt sie fr einheitliches Branding.',tip:"Assets sind in 5 Kategorien sortiert."},{icon:Gt,title:"Trends checken",desc:'Unter "Trends" siehst du aktuelle Plattform-Trends fr TikTok, Instagram, YouTube und OnlyFans. Die AI generiert Content-Vorschlge.',tip:"Nutze die Vorschlge als Inspiration fr neue Videos."},{icon:sr,title:"Finanzen tracken",desc:'Unter "Finanzen" trgst du Einnahmen pro Plattform ein. Brutto/Netto Tracking mit Monatsbersicht.',tip:"Die Plattform-Aufschlsselung zeigt, wo das meiste Geld reinkommt."}]},cutter:{color:"#6BC9A0",title:"Cutter",subtitle:"Auftrge abarbeiten, Assets nutzen",steps:[{icon:Ay,title:"Auftrge bearbeiten",desc:'Unter "Auftrge" siehst du alle Tasks von deinem Influencer. Klicke auf den Status-Button um ihn weiterzusetzen: Offen  In Arbeit  Fertig.',tip:"Prioritt und Deadline helfen dir beim Priorisieren."},{icon:Gs,title:"Deadlines im Blick",desc:'Unter "Deadlines" siehst du die Countdown-Timer fr kommende Uploads. So weit du immer, wie viel Zeit noch bleibt.',tip:"Erledigte Deadlines knnen wiederhergestellt werden."},{icon:Ws,title:"Branding-Assets nutzen",desc:'In der "Library" findest du alle Intros, Outros, Sounds und Schriftarten, die dein Influencer hinterlegt hat. Nutze sie fr konsistentes Branding.',tip:'Klicke auf "ffnen" um ein Asset herunterzuladen.'},{icon:ks,title:"Fertige Edits hochladen",desc:'Unter "Assets" ldst du deine fertigen Edits hoch und setzt den Status auf "Ready for Post".',tip:"Dein Influencer sieht den Status-Fortschritt."}]},admin:{color:"#FF6B9D",title:"Admin",subtitle:"Volle Kontrolle ber die Plattform",steps:[{icon:Pr,title:"Admin-Panel",desc:"Im Admin-Panel verwaltest du alle User: Freischalten, Blockieren, Rollen einsehen. Du kannst den Wartungsmodus aktivieren.",tip:"Du hast Zugriff auf ALLE Bereiche der App."},{icon:Gt,title:"Analytics & Audit",desc:"Analytics zeigt dir plattformweite Statistiken. Im Audit-Log siehst du alle Aktionen aller Teams.",tip:"Der Audit-Log filtert nach Aktionstyp."}]}},vk=({userData:r})=>{const e=Ks(),[n,s]=k.useState(0),o=r?.role||"influencer",u=Qv[o]||Qv.influencer,h=u.steps[n],g=h?.icon||Ur,m=n===u.steps.length-1;return c.jsxs("div",{style:{minHeight:"80vh",display:"flex",flexDirection:"column"},children:[c.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[c.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"18px",background:`linear-gradient(135deg, ${u.color}40, ${u.color})`,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 12px",boxShadow:`0 8px 24px ${u.color}30`},children:c.jsx(lD,{size:26,color:"white"})}),c.jsxs("h2",{style:{fontSize:"24px",fontWeight:"700",color:"#2A2420",marginBottom:"4px"},children:["Willkommen, ",u.title,"!"]}),c.jsx("p",{style:{color:"#A89B8C",fontSize:"14px"},children:u.subtitle})]}),c.jsx("div",{style:{display:"flex",gap:"4px",marginBottom:"24px"},children:u.steps.map((y,x)=>c.jsx("div",{style:{flex:1,height:"4px",borderRadius:"2px",background:x<=n?u.color:"rgba(232,223,211,0.5)",transition:"all 0.3s ease"}},x))}),c.jsxs("div",{style:{flex:1,background:"rgba(255,253,247,0.8)",backdropFilter:"blur(12px)",borderRadius:"20px",border:"1px solid rgba(232,223,211,0.5)",padding:"28px 24px",marginBottom:"20px",boxShadow:"0 4px 20px rgba(0,0,0,0.04)"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[c.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"14px",background:`${u.color}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(g,{size:24,color:u.color})}),c.jsxs("div",{children:[c.jsxs("p",{style:{fontSize:"12px",color:"#A89B8C",fontWeight:"500"},children:["Schritt ",n+1," von ",u.steps.length]}),c.jsx("h3",{style:{fontSize:"18px",fontWeight:"700",color:"#2A2420"},children:h.title})]})]}),c.jsx("p",{style:{fontSize:"15px",color:"#5C5349",lineHeight:"1.7",marginBottom:"16px"},children:h.desc}),h.tip&&c.jsx("div",{style:{padding:"12px 16px",background:`${u.color}08`,borderRadius:"12px",border:`1px solid ${u.color}20`},children:c.jsxs("p",{style:{fontSize:"13px",color:u.color,fontWeight:"500"},children:[" ",h.tip]})})]}),c.jsxs("div",{style:{display:"flex",gap:"10px"},children:[n>0&&c.jsxs("button",{onClick:()=>s(n-1),style:{padding:"14px 20px",background:"rgba(42,36,32,0.04)",border:"1.5px solid #E8DFD3",borderRadius:"14px",color:"#7A6F62",fontWeight:"600",fontSize:"15px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontFamily:"inherit"},children:[c.jsx(JE,{size:18})," Zurck"]}),m?c.jsxs("button",{onClick:()=>e("/"),style:{flex:1,padding:"14px 20px",background:`linear-gradient(135deg, ${u.color}cc, ${u.color})`,border:"none",borderRadius:"14px",color:"white",fontWeight:"700",fontSize:"15px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",boxShadow:`0 4px 16px ${u.color}40`,fontFamily:"inherit"},children:[c.jsx(Ur,{size:18})," Loslegen!"]}):c.jsxs("button",{onClick:()=>s(n+1),style:{flex:1,padding:"14px 20px",background:`linear-gradient(135deg, ${u.color}cc, ${u.color})`,border:"none",borderRadius:"14px",color:"white",fontWeight:"700",fontSize:"15px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",boxShadow:`0 4px 16px ${u.color}40`,fontFamily:"inherit"},children:["Weiter ",c.jsx(Yo,{size:18})]})]}),c.jsx("button",{onClick:()=>e("/"),style:{marginTop:"12px",padding:"10px",background:"none",border:"none",color:"#A89B8C",fontSize:"13px",cursor:"pointer",textAlign:"center",width:"100%",fontFamily:"inherit"},children:"Einweisung berspringen"})]})},Bg=[{id:"all",label:"Alle",icon:Da},{id:"tipp",label:"Tipps",icon:W5},{id:"trend",label:"Trends",icon:Gt},{id:"frage",label:"Fragen",icon:js},{id:"showcase",label:"Showcase",icon:iS}],Mg={tipp:"#6BC9A0",trend:"#7EB5E6",frage:"#F5C563",showcase:"#FF6B9D"},bk={manager:"#F5C563",model:"#FF6B9D",influencer:"#7EB5E6",cutter:"#6BC9A0",admin:"#FF6B9D"},Xv=r=>{if(!r?.toDate)return"";const e=Date.now()-r.toDate().getTime(),n=Math.floor(e/6e4);if(n<1)return"gerade eben";if(n<60)return`vor ${n}m`;const s=Math.floor(n/60);return s<24?`vor ${s}h`:`vor ${Math.floor(s/24)}d`},_k=({userData:r})=>{const[e,n]=k.useState([]),[s,o]=k.useState("all"),[u,h]=k.useState(!1),[g,m]=k.useState({text:"",category:"tipp"}),[y,x]=k.useState({}),[E,A]=k.useState({}),[I,L]=k.useState({}),j=Je.currentUser;k.useEffect(()=>{const S=at(De(de,"fyp"),wi("createdAt","desc")),C=wt(S,w=>{n(w.docs.map(O=>({id:O.id,...O.data()})))});return()=>C()},[]);const M=async S=>{const C=at(De(de,"fyp",S,"comments"),wi("createdAt","asc")),w=await Rs(C);L(O=>({...O,[S]:w.docs.map(D=>({id:D.id,...D.data()}))}))},W=S=>{const C=E[S];A(w=>({...w,[S]:!C})),C||M(S)},z=async()=>{g.text.trim()&&(await kn(De(de,"fyp"),{text:g.text.trim(),category:g.category,authorId:j.uid,authorName:j.displayName||j.email?.split("@")[0]||"User",authorPhoto:j.photoURL||"",authorRole:r?.role||"user",likes:[],commentCount:0,createdAt:tt()}),m({text:"",category:"tipp"}),h(!1))},U=async S=>{const C=Re(de,"fyp",S.id),w=S.likes?.includes(j.uid);await zt(C,{likes:w?UI(j.uid):PI(j.uid)})},X=async S=>{const C=y[S]?.trim();C&&(await kn(De(de,"fyp",S,"comments"),{text:C,authorId:j.uid,authorName:j.displayName||j.email?.split("@")[0]||"User",authorPhoto:j.photoURL||"",createdAt:tt()}),await zt(Re(de,"fyp",S),{commentCount:(e.find(w=>w.id===S)?.commentCount||0)+1}),x(w=>({...w,[S]:""})),M(S))},G=async S=>{await Gn(Re(de,"fyp",S))},oe=s==="all"?e:e.filter(S=>S.category===s);return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},className:"animate-fade-in",children:[c.jsxs("div",{children:[c.jsx("h2",{style:{fontSize:"22px",fontWeight:"700",color:"#2A2420",letterSpacing:"-0.3px"},children:"For You"}),c.jsx("p",{style:{color:"#A89B8C",fontSize:"14px",marginTop:"2px"},children:"Community Feed"})]}),c.jsxs(ke,{variant:"primary",onClick:()=>h(!0),style:{padding:"10px 16px"},children:[c.jsx(bn,{size:18})," Post"]})]}),c.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"20px",overflowX:"auto",paddingBottom:"4px"},children:Bg.map(S=>{const C=S.icon,w=s===S.id;return c.jsxs("button",{onClick:()=>o(S.id),style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 14px",borderRadius:"12px",border:"none",background:w?"linear-gradient(135deg, #FF8FAB, #FF6B9D)":"rgba(255,255,255,0.7)",color:w?"white":"#7A6F62",fontSize:"13px",fontWeight:"600",cursor:"pointer",whiteSpace:"nowrap",fontFamily:"inherit",boxShadow:w?"0 3px 10px rgba(255,107,157,0.25)":"none",transition:"all 0.2s ease"},children:[c.jsx(C,{size:14}),S.label]},S.id)})}),u&&c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.4)",backdropFilter:"blur(4px)",zIndex:1e3,display:"flex",alignItems:"flex-end",justifyContent:"center"},onClick:()=>h(!1),children:c.jsxs("div",{onClick:S=>S.stopPropagation(),style:{background:"#FFFDF7",borderRadius:"24px 24px 0 0",padding:"24px",width:"100%",maxWidth:"500px",maxHeight:"80vh",boxShadow:"0 -10px 40px rgba(0,0,0,0.15)"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[c.jsx("h3",{style:{fontSize:"18px",fontWeight:"700",color:"#2A2420"},children:"Neuer Post"}),c.jsx("button",{onClick:()=>h(!1),style:{background:"rgba(42,36,32,0.06)",border:"none",borderRadius:"10px",padding:"8px",color:"#7A6F62",cursor:"pointer"},children:c.jsx(Xt,{size:18})})]}),c.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"14px"},children:Bg.filter(S=>S.id!=="all").map(S=>c.jsx("button",{onClick:()=>m(C=>({...C,category:S.id})),style:{padding:"6px 12px",borderRadius:"10px",border:"none",background:g.category===S.id?`${Mg[S.id]}20`:"rgba(42,36,32,0.04)",color:g.category===S.id?Mg[S.id]:"#A89B8C",fontSize:"12px",fontWeight:"600",cursor:"pointer",fontFamily:"inherit"},children:S.label},S.id))}),c.jsx("textarea",{value:g.text,onChange:S=>m(C=>({...C,text:S.target.value})),placeholder:"Teile einen Tipp, eine Frage oder deinen Erfolg...",rows:4,style:{width:"100%",padding:"14px",background:"rgba(42,36,32,0.03)",border:"1.5px solid #E8DFD3",borderRadius:"14px",color:"#2A2420",fontSize:"15px",fontFamily:"inherit",outline:"none",resize:"none",boxSizing:"border-box"}}),c.jsxs(ke,{variant:"primary",onClick:z,disabled:!g.text.trim(),style:{width:"100%",marginTop:"14px",padding:"14px"},children:[c.jsx(Jc,{size:16})," Posten"]})]})}),oe.length===0?c.jsxs(ue,{className:"animate-fade-in",style:{textAlign:"center",padding:"50px 20px"},children:[c.jsx("div",{style:{width:"56px",height:"56px",background:"rgba(255,107,157,0.08)",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:c.jsx(Da,{size:24,color:"#FF6B9D"})}),c.jsx("p",{style:{color:"#5C5349",fontWeight:"600",marginBottom:"6px"},children:"Noch keine Posts"}),c.jsx("p",{style:{color:"#A89B8C",fontSize:"14px",marginBottom:"20px"},children:"Sei der Erste und teile etwas mit der Community!"}),c.jsxs(ke,{variant:"cream",onClick:()=>h(!0),children:[c.jsx(bn,{size:16})," Ersten Post erstellen"]})]}):oe.map((S,C)=>{const w=S.likes?.includes(j?.uid),O=S.authorId===j?.uid,D=Mg[S.category]||"#A89B8C",F=bk[S.authorRole]||"#A89B8C",N=I[S.id]||[],Ee=E[S.id];return c.jsxs(ue,{style:{marginBottom:"14px",padding:"18px"},className:`animate-fade-in stagger-${Math.min(C+1,5)}`,children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px"},children:[S.authorPhoto?c.jsx("img",{src:S.authorPhoto,alt:"",style:{width:"40px",height:"40px",borderRadius:"12px",objectFit:"cover"}}):c.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:"linear-gradient(135deg, #FFE8B8, #FFDDA0)",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"700",color:"#5C5349",fontSize:"16px"},children:(S.authorName||"?").charAt(0).toUpperCase()}),c.jsxs("div",{style:{flex:1},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[c.jsx("span",{style:{fontWeight:"600",color:"#2A2420",fontSize:"14px"},children:S.authorName}),c.jsx("span",{style:{fontSize:"10px",padding:"2px 6px",borderRadius:"6px",background:`${F}15`,color:F,fontWeight:"600",textTransform:"capitalize"},children:S.authorRole})]}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginTop:"2px"},children:[c.jsx("span",{style:{fontSize:"10px",padding:"2px 6px",borderRadius:"6px",background:`${D}15`,color:D,fontWeight:"600"},children:Bg.find(Be=>Be.id===S.category)?.label||S.category}),c.jsx("span",{style:{fontSize:"11px",color:"#C4B8A8"},children:Xv(S.createdAt)})]})]}),O&&c.jsx("button",{onClick:()=>G(S.id),style:{background:"none",border:"none",color:"#C4B8A8",padding:"4px",cursor:"pointer"},children:c.jsx(ji,{size:16})})]}),c.jsx("p",{style:{color:"#3D362F",fontSize:"15px",lineHeight:1.6,marginBottom:"14px",whiteSpace:"pre-wrap"},children:S.text}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",paddingTop:"12px",borderTop:"1px solid rgba(232,223,211,0.3)"},children:[c.jsxs("button",{onClick:()=>U(S),style:{display:"flex",alignItems:"center",gap:"6px",background:"none",border:"none",color:w?"#FF6B9D":"#A89B8C",cursor:"pointer",fontSize:"13px",fontWeight:"600",padding:"4px 0",fontFamily:"inherit"},children:[c.jsx(uh,{size:18,fill:w?"#FF6B9D":"none"}),S.likes?.length||0]}),c.jsxs("button",{onClick:()=>W(S.id),style:{display:"flex",alignItems:"center",gap:"6px",background:"none",border:"none",color:Ee?"#7EB5E6":"#A89B8C",cursor:"pointer",fontSize:"13px",fontWeight:"600",padding:"4px 0",fontFamily:"inherit"},children:[c.jsx(js,{size:18}),S.commentCount||0]})]}),Ee&&c.jsxs("div",{style:{marginTop:"14px",paddingTop:"12px",borderTop:"1px solid rgba(232,223,211,0.3)"},children:[N.map(Be=>c.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"10px"},children:[Be.authorPhoto?c.jsx("img",{src:Be.authorPhoto,alt:"",style:{width:"28px",height:"28px",borderRadius:"8px",objectFit:"cover",flexShrink:0}}):c.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"8px",background:"linear-gradient(135deg, #FFE8B8, #FFDDA0)",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"700",color:"#5C5349",fontSize:"11px",flexShrink:0},children:(Be.authorName||"?").charAt(0).toUpperCase()}),c.jsxs("div",{style:{flex:1,padding:"8px 12px",borderRadius:"12px",background:"rgba(42,36,32,0.03)"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"2px"},children:[c.jsx("span",{style:{fontSize:"12px",fontWeight:"600",color:"#2A2420"},children:Be.authorName}),c.jsx("span",{style:{fontSize:"10px",color:"#C4B8A8"},children:Xv(Be.createdAt)})]}),c.jsx("p",{style:{fontSize:"13px",color:"#5C5349",lineHeight:1.4,margin:0},children:Be.text})]})]},Be.id)),c.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"8px"},children:[c.jsx("input",{type:"text",value:y[S.id]||"",onChange:Be=>x(ee=>({...ee,[S.id]:Be.target.value})),placeholder:"Kommentar...",style:{flex:1,padding:"10px 14px",background:"rgba(42,36,32,0.03)",border:"1px solid #E8DFD3",borderRadius:"12px",color:"#2A2420",fontSize:"13px",fontFamily:"inherit",outline:"none"},onKeyDown:Be=>Be.key==="Enter"&&X(S.id)}),c.jsx("button",{onClick:()=>X(S.id),style:{padding:"10px 12px",borderRadius:"12px",border:"none",background:"linear-gradient(135deg, #FF8FAB, #FF6B9D)",color:"white",cursor:"pointer",display:"flex",alignItems:"center"},children:c.jsx(Jc,{size:14})})]})]})]},S.id)})]})},hm="yunghundse@gmail.com",_t=({user:r,userData:e,maintenanceMode:n,maintenanceMessage:s,children:o})=>{if(!r)return c.jsx(Bc,{to:"/login",replace:!0});const u=r.email===hm;return n&&!u?c.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",background:"linear-gradient(160deg, #FFFDF7 0%, #FFF3D6 30%, #FFE8B8 60%, #FFF9EB 100%)"},children:c.jsxs("div",{style:{textAlign:"center",maxWidth:"380px"},className:"animate-fade-in-up",children:[c.jsx("div",{style:{width:"72px",height:"72px",background:"linear-gradient(135deg, #F5C563, #E8A940)",borderRadius:"22px",margin:"0 auto 20px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 30px rgba(245,197,99,0.3)"},children:c.jsx(sS,{size:28,color:"white"})}),c.jsx("h2",{style:{fontSize:"22px",fontWeight:"700",color:"#2A2420",marginBottom:"10px"},children:"Wartungsarbeiten"}),c.jsx("p",{style:{color:"#7A6F62",fontSize:"15px",lineHeight:"1.6"},children:s||"Die App wird gerade gewartet."})]})}):!u&&e&&!e.approved?c.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",background:"linear-gradient(160deg, #FFFDF7 0%, #FFF3D6 30%, #FFE8B8 60%, #FFF9EB 100%)"},children:c.jsxs("div",{style:{textAlign:"center",maxWidth:"380px"},className:"animate-fade-in-up",children:[c.jsx("div",{style:{width:"72px",height:"72px",background:"linear-gradient(135deg, #F5C563, #E8A940)",borderRadius:"22px",margin:"0 auto 20px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 30px rgba(245,197,99,0.3)"},children:c.jsx("span",{style:{fontSize:"30px"},children:""})}),c.jsx("h2",{style:{fontSize:"22px",fontWeight:"700",color:"#2A2420",marginBottom:"10px"},children:"Warten auf Freischaltung"}),c.jsx("p",{style:{color:"#7A6F62",fontSize:"15px",lineHeight:"1.6",marginBottom:"24px"},children:"Dein Account wurde erstellt. Ein Admin muss dich noch freischalten."}),c.jsx("button",{onClick:()=>Je.signOut(),style:{padding:"12px 24px",background:"rgba(255,107,157,0.08)",border:"1.5px solid rgba(255,107,157,0.2)",borderRadius:"14px",color:"#FF6B9D",fontWeight:"600",fontSize:"15px",cursor:"pointer"},children:"Abmelden"})]})}):e&&e.blocked?c.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",background:"linear-gradient(160deg, #FFFDF7 0%, #FFF3D6 30%, #FFE8B8 60%, #FFF9EB 100%)"},children:c.jsxs("div",{style:{textAlign:"center",maxWidth:"380px"},className:"animate-fade-in-up",children:[c.jsx("div",{style:{width:"72px",height:"72px",background:"linear-gradient(135deg, #DC2626, #B91C1C)",borderRadius:"22px",margin:"0 auto 20px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 30px rgba(220,38,38,0.3)"},children:c.jsx("span",{style:{fontSize:"30px"},children:""})}),c.jsx("h2",{style:{fontSize:"22px",fontWeight:"700",color:"#2A2420",marginBottom:"10px"},children:"Account gesperrt"}),c.jsx("p",{style:{color:"#7A6F62",fontSize:"15px",lineHeight:"1.6",marginBottom:"24px"},children:"Dein Account wurde gesperrt."}),c.jsx("button",{onClick:()=>Je.signOut(),style:{padding:"12px 24px",background:"rgba(220,38,38,0.08)",border:"1.5px solid rgba(220,38,38,0.2)",borderRadius:"14px",color:"#DC2626",fontWeight:"600",fontSize:"15px",cursor:"pointer"},children:"Abmelden"})]})}):c.jsx(UD,{user:r,userData:e,children:o})},Un=({userData:r,allowed:e,children:n})=>{const s=r?.role;return!e.includes(s)&&s!=="admin"?c.jsx(Bc,{to:"/",replace:!0}):n};function Ek(){const[r,e]=k.useState(null),[n,s]=k.useState(null),[o,u]=k.useState(!0),[h,g]=k.useState(!1),[m,y]=k.useState("");if(k.useEffect(()=>{const E=h4(Je,async A=>{if(e(A),A){try{const I=await Ri(Re(de,"users",A.uid));I.exists()?s(I.data()):A.email===hm?s({approved:!0,blocked:!1,role:"admin"}):s({approved:!1,blocked:!1,role:"user"})}catch(I){console.error("Error loading user data:",I),A.email===hm&&s({approved:!0,blocked:!1,role:"admin"})}try{const I=await Ri(Re(de,"settings","maintenance"));I.exists()&&(g(I.data().enabled||!1),y(I.data().message||""))}catch(I){console.error("Maintenance check error:",I)}}else s(null);u(!1)});return()=>E()},[]),o)return c.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(160deg, #FFFDF7 0%, #FFF3D6 30%, #FFE8B8 60%, #FFF9EB 100%)"},children:c.jsxs("div",{style:{textAlign:"center"},className:"animate-fade-in",children:[c.jsx("div",{className:"animate-float",style:{width:"72px",height:"72px",background:"linear-gradient(135deg, #FF8FAB, #FF6B9D)",borderRadius:"22px",margin:"0 auto 20px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 30px rgba(255,107,157,0.3)"},children:c.jsx(Ur,{size:28,color:"white"})}),c.jsx("p",{style:{color:"#A89B8C",fontWeight:"500",fontSize:"15px"},children:"creatorhub ldt..."})]})});const x={user:r,userData:n,maintenanceMode:h,maintenanceMessage:m};return c.jsxs(WT,{children:[c.jsx(ht,{path:"/login",element:r?c.jsx(Bc,{to:"/",replace:!0}):c.jsx(qD,{})}),c.jsx(ht,{path:"/register",element:r?c.jsx(Bc,{to:"/",replace:!0}):c.jsx(WD,{})}),c.jsx(ht,{path:"/",element:c.jsx(_t,{...x,children:c.jsx($D,{userData:n})})}),c.jsx(ht,{path:"/content",element:c.jsx(_t,{...x,children:c.jsx(YD,{})})}),c.jsx(ht,{path:"/finanzen",element:c.jsx(_t,{...x,children:c.jsx(XD,{})})}),c.jsx(ht,{path:"/kalender",element:c.jsx(_t,{...x,children:c.jsx(Wv,{})})}),c.jsx(ht,{path:"/chat",element:c.jsx(_t,{...x,children:c.jsx(ZD,{})})}),c.jsx(ht,{path:"/einstellungen",element:c.jsx(_t,{...x,children:c.jsx(ek,{user:r})})}),c.jsx(ht,{path:"/onboarding",element:c.jsx(_t,{...x,children:c.jsx(vk,{userData:n})})}),c.jsx(ht,{path:"/fyp",element:c.jsx(_t,{...x,children:c.jsx(_k,{userData:n})})}),c.jsx(ht,{path:"/admin",element:c.jsx(_t,{...x,children:c.jsx(ik,{user:r})})}),c.jsx(ht,{path:"/dashboard/company",element:c.jsx(_t,{...x,children:c.jsx(Un,{userData:n,allowed:["manager"],children:c.jsx($v,{})})})}),c.jsx(ht,{path:"/dashboard/models",element:c.jsx(_t,{...x,children:c.jsx(Un,{userData:n,allowed:["manager"],children:c.jsx($v,{})})})}),c.jsx(ht,{path:"/dashboard/collab",element:c.jsx(_t,{...x,children:c.jsx(Un,{userData:n,allowed:["influencer","cutter"],children:c.jsx(sk,{userData:n})})})}),c.jsx(ht,{path:"/dashboard/trends",element:c.jsx(_t,{...x,children:c.jsx(Un,{userData:n,allowed:["manager","influencer"],children:c.jsx(ok,{})})})}),c.jsx(ht,{path:"/dashboard/assets",element:c.jsx(_t,{...x,children:c.jsx(lk,{userData:n})})}),c.jsx(ht,{path:"/dashboard/analytics",element:c.jsx(_t,{...x,children:c.jsx(Un,{userData:n,allowed:["manager"],children:c.jsx(ck,{})})})}),c.jsx(ht,{path:"/dashboard/schedule",element:c.jsx(_t,{...x,children:c.jsx(Un,{userData:n,allowed:["model"],children:c.jsx(Wv,{})})})}),c.jsx(ht,{path:"/dashboard/revenue",element:c.jsx(_t,{...x,children:c.jsx(Un,{userData:n,allowed:["manager"],children:c.jsx(dk,{userData:n})})})}),c.jsx(ht,{path:"/dashboard/approvals",element:c.jsx(_t,{...x,children:c.jsx(Un,{userData:n,allowed:["manager","model"],children:c.jsx(hk,{userData:n})})})}),c.jsx(ht,{path:"/dashboard/asset-library",element:c.jsx(_t,{...x,children:c.jsx(Un,{userData:n,allowed:["influencer","cutter"],children:c.jsx(fk,{userData:n})})})}),c.jsx(ht,{path:"/dashboard/brand-deals",element:c.jsx(_t,{...x,children:c.jsx(Un,{userData:n,allowed:["manager"],children:c.jsx(gk,{userData:n})})})}),c.jsx(ht,{path:"/dashboard/audit-log",element:c.jsx(_t,{...x,children:c.jsx(Un,{userData:n,allowed:["manager"],children:c.jsx(mk,{userData:n})})})}),c.jsx(ht,{path:"/dashboard/deadlines",element:c.jsx(_t,{...x,children:c.jsx(Un,{userData:n,allowed:["influencer","cutter"],children:c.jsx(yk,{userData:n})})})}),c.jsx(ht,{path:"/dashboard/pricing",element:c.jsx(_t,{...x,children:c.jsx(Un,{userData:n,allowed:["manager"],children:c.jsx(xk,{userData:n})})})}),c.jsx(ht,{path:"*",element:c.jsx(Bc,{to:"/",replace:!0})})]})}KA.createRoot(document.getElementById("root")).render(c.jsx(pm.StrictMode,{children:c.jsx(gC,{children:c.jsx(Ek,{})})}));
